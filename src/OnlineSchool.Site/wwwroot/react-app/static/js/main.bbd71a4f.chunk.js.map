{"version":3,"sources":["utils/constants.js","utils/secrets.js","i18n/translate.js","i18n/locales.js","i18n/messages/en-US.js","i18n/messages/it-IT.js","i18n/messages/index.js","utils/helpers.js","components/Layout/Header/Header.js","images/usa_flag.png","images/italian_flag.png","components/Layout/Shared/AutoScroll.js","components/Layout/Shared/ScrollTopButton.js","Router/CustomRoute.js","components/Layout/Shared/SlideDrawer/SlideDrawer.js","components/Meetings/LiveMeeting/Participants/Participant.js","components/Meetings/LiveMeeting/Participants/ParticipantsSection.js","components/Meetings/LiveMeeting/Participants/Participants.js","components/Meetings/LiveMeeting/Chat/Chat.js","components/Meetings/LiveMeeting/MeetingControls/OtherOptionsButton/OtherOptionsButton.js","components/Meetings/LiveMeeting/MeetingControls/MeetingControls/MeetingControls.js","components/Layout/Shared/VideoPlayer/VideoPlayer.js","components/Meetings/LiveMeeting/RecordingIndicator/RecordingIndicator.js","components/Meetings/LiveMeeting/LiveMeeting/LiveMeeting.js","components/Meetings/LiveMeeting/LiveMeeting/notifications.js","redux/actions/types.js","redux/actions/errorActions.js","redux/actions/peopleActions.js","redux/actions/meetingPreferencesActions.js","components/Personal/PersonalInfo.js","redux/actions/meetingsActions.js","components/Meetings/MeetingListItem.js","components/Layout/Shared/Refresh/Refresh.js","components/Meetings/MeetingList.js","Router/Pages/MeetingsPage.js","redux/actions/inviteesActions.js","redux/securityUtils/configureHeaders.js","components/Layout/Shared/GoBack.js","components/Invitees/Invitees.js","components/Meetings/MeetingForm.js","Router/Pages/CreateMeetingPage.js","Router/Pages/EditMeetingPage.js","Router/Pages/TestPage.js","Router/Routes.js","App.js","redux/reducers/webexReducer.js","redux/reducers/errorsReducer.js","redux/reducers/peopleReducer.js","redux/reducers/meetingPreferencesReducer.js","redux/reducers/meetingsReducer.js","redux/reducers/inviteesReducer.js","redux/reducers/index.js","redux/store.js","index.js","utils/webexConfig.js"],"names":["LocalStorageKeys","Language","MeetingSipAddress","MeetingPassword","CiscoAuthToken","FileSelectMode","Single","Multiple","Disabled","join_before_host_minutes","ExecutionStep","LocalStreamProblem","Loading","Initializing","Registering","Joining","MeetingReady","MeetingDestroyed","Failed","MissingInformation","NetworkDisconnected","ReconnectionStarting","ReconnectionSuccess","ReconnectionFailure","NetworkConnected","ParticipantStatus","NotInMeeting","InLobby","InMeeting","MeetingState","Active","NotActive","RecordingState","Idle","Paused","Recording","CustomMessages","RaiseHand","LowerHand","RaiseHandLog","QualityLevel","Low","Medium","High","QualityLevels","LayoutType","Equal","ActivePresence","Prominent","OnePlusN","LayoutTypes","MaxNumberOfInterventions","token","guestIssuerId","guestIssuerSecret","cache","intl","LOCALES","LOCALES_ARRAY","en","it","messages","confirmation","message","confirmCallback","denyCallback","confirmAlert","title","buttons","label","className","onClick","a","scrollToTop","window","scrollTo","convertToInputDateTimeFormat","date","day","getDate","month","getMonth","year","getFullYear","hour","getHours","min","getMinutes","sleepAsync","ms","Promise","r","setTimeout","capitalize","s","charAt","toUpperCase","slice","getLocalStream","constraints","navigator","mediaDevices","getUserMedia","stream","isLocalStreamAvailable","audio","video","localStream","getTracks","forEach","track","stop","translate","id","value","formatMessage","translateCap","Header","locale","this","props","Dropdown","Toggle","variant","Menu","Item","changeLanguage","src","style","width","height","alt","Component","AutoScroll","useEffect","ScrollTopButton","showUnder","zIndex","bottom","right","color","aria-hidden","CustomRoute","component","otherProps","authStore","render","SlideDrawer","isOpen","onClose","children","defaultProps","console","log","Participant","self","p","participant","onLowerHand","onToggleAudio","onRemove","onMakeHost","handRaised","isSelf","isModerator","disabled","name","isHost","isAudioMuted","ParticipantsSection","onSearch","e","participants","searchKey","target","trim","toLowerCase","displaySet","length","filter","includes","setState","adjustDisplayCount","size","displayCount","state","prevProps","isEqual","onToggleOpen","Collapse","in","type","placeholder","onChange","map","Participants","prepareHandRaised","handRaises","inMeeting","status","sort","x","y","hr","h","current","participantId","timestamp","push","propertyName","b","Date","sortObjArrayByDateProp_ASC","isHandRaisedOpen","isHostsOpen","isModsOpen","isGuestsOpen","hosts","mods","guests","onMuteAll","onUnmuteAll","Chat","userId","fileSelectMode","timestampFormat","showTypingIndicator","isLoading","isReady","isChatDownloading","onSendMessage","onDownloadChat","role","OtherOptionsButton","renderLocalVideoVisibilitySubmenu","onToggleLocalVideoVisibility","isLocalVideoHidden","renderRecordingSubmenu","recordingState","onStartRecording","onResumeRecording","onStopRecording","onPauseRecording","renderHandRaiseSubmenu","isRoomReady","isHandRaised","onToggleHand","renderLocalVideoQualitySubmenu","active","localVideoQuality","onChangeLocalVideoQuality","renderVideoLayoutSubmenu","layoutType","onChangeVideoLayout","renderIncomingVideoQualitySubmenu","remoteVideoQuality","onChangeRemoteVideoQuality","direction","drop","idle","undefined","MeetingControls","renderAudioControl","disallowUnmute","renderRaiseHand","handRaisesCount","isLocalSharing","onQuitMeeting","onToggleVideo","onToggleShare","onToggleParticipantsDrawer","onToggleChatDrawer","isVideoMuted","aria-label","onToggleShareScreen","VideoPlayer","componentDidMount","videoContainer","addEventListener","glimpseOverlay","document","fullscreenElement","isFullscreen","componentWillUnmount","removeEventListener","setVideoStream","srcObject","setAudioStream","isFullScreen","toggleFullscreen","exitFullscreen","requestFullscreen","toggleAudio","volume","setVolume","toggleVolume","showOverlay","clearTimeout","mouseTimeout","React","createRef","showControls","ref","onDoubleClick","max","step","muted","autoPlay","playsInline","RecordingIndicator","LiveMeeting","onWindowClose","preventDefault","returnValue","setProgress","delay","isMeetingReady","executionStep","initChatRoom","sdkMeeting","getRoomTitle","existingHosts","members","membersCollection","Object","keys","k","getRoomByTitleAsync","webex","room","setRoom","createRoomAsync","getAllMembershipsAsync","roomMembership","updateMembershipAsync","roomId","isRoomLoading","senderDetails","stateMessages","authors","getAllMessagesAsync","m1","m2","created","senderIds","m","personId","pId","index","personIds","indexOf","i","sender","getPersonByIdAsync","isCustomMessage","text","customMsg","JSON","parse","signal","findIndex","forParticipantId","splice","senderName","displayName","personEmail","stateMessage","buildMessage","updated","toggleHand","meetingInfo","meetingName","meetingNumber","bindMeetingEvents","meeting","on","event","payload","err","error","leaveMeeting","localVideo","remoteVideo","screenShare","media","localShareStream","remoteShareStream","delta","full","memberID","extractMemberInfo","getPersonalInfo","hostsInMeeting","notInMeeting","handleNoHost","handleInMeeting","handleNotInMeeting","toast","transition","Flip","position","autoClose","toastId","handleUnmuteRequest","isRemoteSharing","unbindMeetingEvents","off","member","isContentSharing","isRecording","isMutable","isRemovable","person","controls","requestedToUnmute","selfDetails","memberships","isSelfHost","inMeetingIds","im","membership","list","items","createMembershipAsync","membershipObj","participantMembership","removeMembershipAsync","bindMembershipEvents","listen","getRoomByIdAsync","data","isMyMembership","isChatRoom","unbindMembershipEvents","stopListening","bindMessageEvents","isChatOpen","isEdit","messageId","senderId","actorId","isMyMessage","handleCustomMessage","currentMessage","unbindMessageEvents","createdTime","updatedTime","author","username","getTime","customMessage","handRaiser","clearCustomMessage","removeMessageAsync","sendMessage","createMessageAsync","unmuteAudio","muteAudio","toggleVideo","unmuteVideo","muteVideo","toggleShareScreen","waitForMediaReady","then","stopShare","toggleLocalSharingState","shareScreen","info","catch","startRecording","recording","pauseRecording","resumeRecording","stopRecording","stringify","activeHandRaises","getActiveHandRaisesCount","warning","toggleLocalVideoQuality","quality","setLocalVideoQuality","forceUpdate","toggleVideoLayout","changeVideoLayout","toggleRemoteVideoQuality","setRemoteQualityLevel","toggleLocalVideoVisibility","downloadChat","fileName","fileData","currentLine","messageTime","toLocaleDateString","toLocaleTimeString","downloadTxtFile","element","createElement","file","Blob","href","URL","createObjectURL","download","body","appendChild","click","parentNode","removeChild","toggleParticipantAudio","mute","lowerParticipantHand","muteAll","all","unmuteAll","removeParticipant","remove","makeHost","transfer","confirmLeave","confirmMsg","unSubscribeAndLeave","meetingState","leave","unregisterAsync","localStorage","removeItem","JoinIntent","isBlocking","handleLocalVideoDrag","getScreenshareTitle","sharer","remoteAudio","participantDetails","isParticipantsMenuOpen","sipAddress","getItem","meetingPassword","initWebexAsync","once","canAuthorize","registerAsync","createMeetingAsync","joinMeetingWithMediaAsync","selfId","mediaProperties","localQualityLevel","remoteQualityLevel","screenShareTitle","lastVideoLayoutInfo","class","onBeforeunload","when","location","msg","confirm","bounds","onStart","withRouter","GET_ERRORS","CLEAR_ERRORS","SET_WEBEX_INSTANCE","GET_PERSONAL_DETAILS","PERSONAL_DETAILS_LOADING","GET_MEETING_PREFERENCES","MEETING_PREFERENCES_LOADING","GET_MEETINGS","MEETINGS_LOADING","DELETE_MEETING","GET_MEETING","MEETING_LOADING","GET_INVITEES","INVITEES_LOADING","ADD_INVITEE","DELETE_INVITEE","clearErrors","dispatch","setError","setErrors","errors","setPersonalDetailsLoading","setMeetingPreferencesLoading","PersonalInfo","copied","getPersonalDetails","getMeetingPreferences","personalDetails","isPersonalDetailsLoading","personalRoom","isPersonalRoomLoading","loading","personalMeetingRoomLink","onCopy","copiedToClipboard","connect","peopleReducer","meetingPreferencesReducer","isMeetingPreferencesLoading","errorsReducer","axios","get","res","finally","meetingPreferences","setMeetingsLoading","setMeetingLoading","MeetingListItem","startMeeting","setItem","history","goToEditPage","meetingId","meetingId_clipboard","meetingNumber_clipboard","meetingSipAddress_clipboard","meetingLink_clipboard","targetName","onDelete","start","toLocaleString","end","webLink","to","Refresh","tooltip","MeetingList","goToSchedulePage","onDeleteMeeting","deleteMeeting","getUpcomingMeetings","meetings","isMeetingsLoading","meetingsReducer","sortedMeetings","getState","find","delete","MeetingsPage","setInviteesLoading","configureHeaders","defaults","headers","common","BackButton","goBack","Invitees","onOpen","show","email","coHost","showErrors","onCheckboxChange","checked","onSubmit","invitee","validate","onAdd","validationErrors","test","invitees","allowCoHost","scope","data-toggle","colSpan","data-placement","Modal","onHide","backdrop","centered","keyboard","closeButton","Title","Body","classnames","htmlFor","required","MeetingForm","addMeetingInvitee","newInvitee","addInvitee","minutesDropdown","toggleAdvancedOptions","isAdvancedOptionsOpen","onAddInvitee","isUpdate","onRemoveInvitee","exists","deleteInvitee","resetForm","agenda","password","timezone","recurrence","sendEmail","enabledAutoRecordMeeting","allowAnyUserToBeCoHost","enabledJoinBeforeHost","joinBeforeHostMinutes","createMeeting","getMeetingObject","validateMeeting","post","statusCode","success","response","updateMeeting","put","parseInt","toISOString","key","Array","isArray","now","minutesDiff","renderMinutesDropdown","getMeetingById","getInvitees","current_meeting","current_invitees","isMeetingLoading","isInviteesLoading","GoBack","aria-controls","aria-expanded","inviteesReducer","addMeeting","newMeeting","inviteeId","updatedMeeting","CreateMeetingPage","EditMeetingPage","TestPage","guestToken","issueGuestToken","registerGuestAsync","guestAccessToken","getGuestDetails","guestDetails","Routes","exact","path","App","calculateWindowHeight","vh","innerHeight","documentElement","setProperty","createIntl","flatten","changeIntlLanguage","getToken","createIntlCache","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","initialState","webexReducer","action","schedulingOptions","sites","personalMeetingRoom","combineReducers","middleware","thunk","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","rootReducer","applyMiddleware","ReactDOM","StrictMode","getElementById","jwtToken","init","config","reconnection","enabled","credentials","access_token","wb","subject","sub","iss","jwt","sign","Buffer","from","expiresIn","fetch","method","json","registered","register","syncMeetings","unregister","destination","create","pin","join","moderator","addMediaToMeeting","getSupportedDevices","sendAudio","sendVideo","mediaSettings","receiveVideo","receiveAudio","receiveShare","sendShare","getMediaStreams","mediaStreams","localShare","addMedia","resolve","reject","canUpdateMedia","retryAttempts","retryInterval","setInterval","clearInterval","rooms","getRoomsAsync","roomMemberships","getMembershipAsync","membershipExists","isRoomModerator","updatedMembership","update","getMessagesRecursively","people"],"mappings":"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","file":"static/js/main.bbd71a4f.chunk.js","sourcesContent":["export const LocalStorageKeys = {\r\n    Language: 'webex-app-language',\r\n    MeetingSipAddress: 'meetingSipAddress',\r\n    MeetingPassword: 'meetingPassword',\r\n    CiscoAuthToken: 'ciscoAuthToken'\r\n};\r\n\r\nexport const FileSelectMode = {\r\n    Single: 'SINGLE',\r\n    Multiple: 'MULTIPLE',\r\n    Disabled: 'DISABLED'\r\n};\r\nexport const FileSelectModes = [FileSelectMode.Single, FileSelectMode.Multiple, FileSelectMode.Disabled];\r\n\r\nexport const join_before_host_minutes = [0, 5, 10, 15];\r\n\r\nexport const ExecutionStep = {\r\n    LocalStreamProblem: 'localStreamProblem',\r\n    Loading: 'loading',\r\n    Initializing: 'initializing',\r\n    Registering: 'registering',\r\n    Joining: 'joining',\r\n    MeetingReady: 'meetingReady',\r\n    MeetingDestroyed: 'meetingDestroyed',\r\n    Failed: 'failed',\r\n    MissingInformation: 'missingInformation',\r\n    NetworkDisconnected: 'networkDisconnected',\r\n    ReconnectionStarting: 'reconnectionStarting',\r\n    ReconnectionSuccess: 'reconnectionSuccess',\r\n    ReconnectionFailure: 'reconnectionFailure',\r\n    NetworkConnected: 'networkConnected'\r\n};\r\n\r\nexport const ParticipantStatus = {\r\n    NotInMeeting: 'NOT_IN_MEETING',\r\n    InLobby: 'IN_LOBBY',\r\n    InMeeting: 'IN_MEETING'\r\n};\r\nexport const ParticipantStatuses = [ParticipantStatus.NotInMeeting, ParticipantStatus.InLobby, ParticipantStatus.InMeeting];\r\n\r\nexport const MeetingState = {\r\n    Active: 'ACTIVE',\r\n    NotActive: 'INACTIVE'\r\n};\r\nexport const MeetingStates = [MeetingState.Active, MeetingState.NotActive];\r\n\r\nexport const RecordingState = {\r\n    Idle: 'idle',\r\n    Paused: 'paused',\r\n    Recording: 'recording'\r\n};\r\nexport const RecordingStates = [RecordingState.Idle, RecordingState.Paused, RecordingState.Recording];\r\n\r\nexport const CustomMessages = {\r\n    RaiseHand: '50585002-2564-4451-a2bc-4475db4b7fbe',\r\n    LowerHand: '92aae601-1fc5-414e-88cc-3e06f4b343c8',\r\n    RaiseHandLog: '*** alzato la mano ***'\r\n};\r\n\r\nexport const QualityLevel = {\r\n    Low: 'LOW',\r\n    Medium: 'MEDIUM',\r\n    High: 'HIGH',\r\n};\r\nexport const QualityLevels = [QualityLevel.Low, QualityLevel.Medium, QualityLevel.High];\r\n\r\nexport const LayoutType = {\r\n    Single: 'Single',\r\n    Equal: 'Equal',\r\n    ActivePresence: 'ActivePresence',\r\n    Prominent: 'Prominent',\r\n    OnePlusN: 'OnePlusN'\r\n}\r\nexport const LayoutTypes = ['Single', 'Equal', 'ActivePresence', 'Prominent', 'OnePlusN'];\r\n\r\nexport const MaxNumberOfInterventions = 10;","export const token = \"NDRkMTA0ZDEtNmU5NC00MDRjLWE2MjgtY2FiNGRhZDI4NjUzODI4OGIxMmMtNDI3_PF84_ebdf3b62-c327-4af2-8733-10d8711bb8cd\";\r\n\r\n// ------------------------------------------------------------ Guest issuer ----------------------------------------------------------\r\n\r\nexport const guestIssuerId = \"Y2lzY29zcGFyazovL3VzL09SR0FOSVpBVElPTi9iYjY1ODIwZi05MGFiLTQwMTctYWE4OC00MGNlNzkzZDIwM2M\";\r\nexport const guestIssuerSecret = \"OiE29yKCEnedeKwUuLpTXb1DkRKEExoePRt+73WiXfQ=\";","import { createIntl, createIntlCache } from 'react-intl';\r\nimport flatten from 'flat';\r\nimport { capitalize } from '../utils/helpers';\r\nimport messages from './messages';\r\n\r\nlet cache;\r\nlet intl;\r\n\r\nexport const configureIntl = (locale) => {\r\n    cache = createIntlCache();\r\n    intl = createIntl(\r\n        {\r\n            locale: locale,\r\n            messages: flatten(messages[locale])\r\n        },\r\n        cache\r\n    );\r\n}\r\n\r\nexport const changeIntlLanguage = (locale) => {\r\n    intl = createIntl(\r\n        {\r\n            locale,\r\n            messages: flatten(messages[locale])\r\n        },\r\n        cache\r\n    );\r\n}\r\n\r\nexport const translate = (id, value={}) => intl.formatMessage({ id }, value);\r\n\r\n/*** Capitalized translation */\r\nexport const translateCap = (id, value={}) => capitalize(intl.formatMessage({ id }, value));","export const LOCALES = {\r\n    ENGLISH: 'en-US',\r\n    ITALIAN: 'it-IT'\r\n}\r\n\r\nexport const LOCALES_ARRAY = [ LOCALES.ENGLISH, LOCALES.ITALIAN ];","import { LOCALES } from './../locales';\r\n\r\nconst en = {\r\n    [LOCALES.ENGLISH]: {\r\n        'general': {\r\n            'changeLanguage': 'change language',\r\n            'actions': 'actions',\r\n            'close': 'close',\r\n            'enterFullscreen': 'enter fullscreen',\r\n            'exitFullscreen': 'exit fullscreen',\r\n            'empty': 'empty',\r\n            'goBack': 'go back',\r\n            'minutes': 'minutes',\r\n            'remove': 'remove',\r\n            'save': 'save',\r\n            'search': 'search',\r\n            'showMore': 'show more',\r\n            'showLess': 'show less'\r\n        },\r\n        'LiveMeeting': {\r\n            'mute': 'mute',\r\n            'unmute': 'unmute',\r\n            'participants': 'participants',\r\n            'chat': 'chat',\r\n            'raiseHand': 'raise hand',\r\n            'lowerHand': 'lower hand',\r\n            'executionSteps': {\r\n                'localStreamProblem': 'Could not retrieve local audio/video. Make sure you have audio/video devices, and that the sources are not being used by another app.',\r\n                'loading': 'loading...',\r\n                'initializing': 'initializing webex instance...',\r\n                'registering': 'registering device...',\r\n                'joining': 'joining meeting...',\r\n                'meetingReady': 'meeting ready',\r\n                'meetingDestroyed': 'meeting has ended / you are no longer in meeting.',\r\n                'failed': 'something failed ',\r\n                'missingInformation': 'internal server error! Some information is missing! ',\r\n                'networkDisconnected': 'network disconnected',\r\n                'reconnectionStarting': 'attempting to reconnect...',\r\n                'reconnectionSuccess': 'reconnection successful',\r\n                'reconnectionFailure': 'Reconnection failed. Please try to re-join the meeting once again.',\r\n                'networkConnected': 'network reconnected'\r\n            },\r\n            'myScreen': 'my screen',\r\n            'otherScreen': \"{name}'s screen\",\r\n            'unmuteRequest': 'you are requested to unmute yourself. Unmute?',\r\n            'leaveMeetingPrompt': 'are you sure you want to leave the meeting?',\r\n            'leaveMeetingPrompt_host': 'you are about to end the meeting for all. Continue?',\r\n            'localVideo': 'local video',\r\n            'remoteVideo': 'remote video',\r\n            'recording': 'recording',\r\n            'recordingPaused': 'recording paused',\r\n            'maxNumberOfInterventions': 'maximum number of interventions is 10',\r\n            'MeetingControls': {\r\n                'controls': 'controls',\r\n                'toggleAudio': 'toggle audio',\r\n                'muteAudio': 'mute audio',\r\n                'unmuteAudio': 'unmute audio',\r\n                'unmuteDisallowed': 'your audio is blocked',\r\n                'toggleVideo': 'toggle video',\r\n                'intervention': 'intervention',\r\n                'muteVideo': 'video on',\r\n                'unmuteVideo': 'video off',\r\n                'toggleScreenShare': 'toggle screen-share',\r\n                'shareScreen': 'share screen',\r\n                'stopShare': 'Stop share',\r\n                'leaveMeeting': 'leave meeting',\r\n                'endMeeting': 'end meeting'\r\n            },\r\n            'OtherOptionsButton': {\r\n                'moreOptions': 'more options',\r\n                'layout': 'layout',\r\n                'displayMyVideo': 'show my video',\r\n                'hideMyVideo': 'hide my video',\r\n                'startRecording': 'start recording',\r\n                'pauseRecording': 'pause recording',\r\n                'resumeRecording': 'resume recording',\r\n                'stopRecording': 'stop recording',\r\n                'videoQuality': 'video quality',\r\n                'remoteVideoQuality': \"incoming video quality\",\r\n                'low': 'low',\r\n                'medium': 'medium',\r\n                'high': 'high',\r\n                'videoLayout': 'video layout',\r\n                'single': 'single',\r\n                'equal': 'equal',\r\n                'activePresence': 'active presence',\r\n                'prominent': 'prominent'\r\n            },\r\n            'Participants': {\r\n                'muteAll': 'mute all',\r\n                'unmuteAll': 'unmute all',\r\n                'raisedHands': 'raised hands',\r\n                'hosts': 'hosts',\r\n                'moderators': 'moderators',\r\n                'guests': 'guests'\r\n            },\r\n            'Participant': {\r\n                'host': 'host',\r\n                'me': 'me',\r\n                'expel': 'expel'\r\n            },\r\n            'Chat': {\r\n                'chatNotAvailable': 'chat is not available right now.',\r\n                'downloadChat': 'download chat',\r\n                'writeMessage': 'write a message'\r\n            },\r\n            'notifications': {\r\n                'newMessage': 'new message(s)',\r\n                'noHost': 'meeting has ended due to having no host online (reason: host might have disconnected)'\r\n            }\r\n        },\r\n        'MeetingForm': {\r\n            'missingAuthToken': 'Authorization token is missing',\r\n            'createMeeting': 'new scheduled meeting',\r\n            'updateMeeting': 'update meeting information',\r\n            'advancedOptions': 'advanced options',\r\n            'noInvitees': 'no invitees',\r\n            'title': 'title',\r\n            'agenda': 'agenda',\r\n            'password': 'password',\r\n            'start': 'start',\r\n            'end': 'end',\r\n            'timezone': 'timezone',\r\n            'sendEmail': 'send email',\r\n            'allowAnyUserToBeCoHost': 'allow any user to be co-host',\r\n            'enabledAutoRecordMeeting': 'auto-record meeting',\r\n            'enabledJoinBeforeHost': 'enable join before host'\r\n        },\r\n        'Invitees': {\r\n            'newInvitation': 'new invitation',\r\n            'noInvitees': 'no invitees',\r\n            'invitees': 'invitees',\r\n            'invitee': 'invitee',\r\n            'email': 'email',\r\n            'name': 'nome',\r\n            'coHost': 'co-host',\r\n            'invite': 'invitare'\r\n        },\r\n        'confirmations': {\r\n            'removeInvitee': \"Are you sure you want to remove '{email}' from the invitees?\"\r\n        },\r\n        'notifications': {\r\n            'meetingCreated': 'meeting created successfully',\r\n            'meetingUpdated': 'meeting updated successfully',\r\n            'newMessage': \"new message(s)\",\r\n            'mutedByOthers': \"you have been muted\",\r\n            'meetingDestroyed': \"meeting has ended / you are no longer in meeting.\",\r\n            'noHost': \"meeting has ended due to having no host online (reason: host might have disconnected)\",\r\n            'maxHandRaiseReached': \"maximum number of interventions is 10.\"\r\n        },\r\n        'validations': {\r\n            'invalidEmail': 'email is invalid',\r\n            'meeting': {\r\n                'titleEmpty': 'title is required',\r\n                'startEmpty': 'start time is required',\r\n                'endEmpty': 'end time is required',\r\n                'startTimeBeforeCurrentTime': 'start time cannot be before current time',\r\n                'endTimeBeforeCurrentTime': 'end time cannot be before current time',\r\n                'endTimeBeforeStartTime': 'end time cannot be before start time',\r\n                'invalidDuration': 'meeting duration cannot be shorter than 10 minutes / longer than 24 hours',\r\n                'joinBeforeHostMinutes': 'invalid \"join before host\" minutes'\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport default en;","import { LOCALES } from '../locales';\r\n\r\nconst it = {\r\n    [LOCALES.ITALIAN]: {\r\n        'general': {\r\n            'changeLanguage': 'cambia lingua',\r\n            'actions': 'azioni',\r\n            'close': 'chiudi',\r\n            'enterFullscreen': 'vai fullscreen',\r\n            'exitFullscreen': 'esci fullscreen',\r\n            'empty': 'vuoto',\r\n            'goBack': 'ritorno',\r\n            'minutes': 'minuti',\r\n            'remove': 'rimuovi',\r\n            'save': 'salva',\r\n            'search': 'ricerca',\r\n            'showMore': 'mostra di pi',\r\n            'showLess': 'mostra meno'\r\n        },\r\n        'LiveMeeting': {\r\n            'mute': 'mute',\r\n            'unmute': 'unmute',\r\n            'participants': 'participanti',\r\n            'chat': 'chat',\r\n            'raiseHand': 'alza la mano',\r\n            'lowerHand': 'abbassa la mano',\r\n            'executionSteps': {\r\n                'localStreamProblem': \"Impossibile verificare la disponibilit di audio e video del tuo computer. Assicurati del funzionamento audio/video sul tuo computer e che questi non siano attualmente utilizzati da un'altra app.\",\r\n                'loading': 'caricamento in corso...',\r\n                'initializing': 'inizializzazione istanza webex...',\r\n                'registering': 'registrazione dispositivo...',\r\n                'joining': 'ingresso meeting...',\r\n                'meetingReady': 'meeting pronto',\r\n                'meetingDestroyed': 'il meeting  concluso / non sei pi nel meeting.',\r\n                'failed': 'qualcosa  andata male ',\r\n                'missingInformation': 'internal server error! Mancano alcune informazioni! ',\r\n                'networkDisconnected': 'Rete internet disconnessa',\r\n                'reconnectionStarting': 'Tentativo di riconnessione...',\r\n                'reconnectionSuccess': 'Riconnessione con successo',\r\n                'reconnectionFailure': 'Riconnessione fallita. Prova a rientrare nel meeting di nuovo.',\r\n                'networkConnected': 'Rete riconnessa'\r\n            },\r\n            'myScreen': 'il mio video',\r\n            'otherScreen': \"video di {name}\",\r\n            'unmuteRequest': \"ti viene richiesto di riattivare l'audio. Riattivare?\",\r\n            'leaveMeetingPrompt': 'sei sicuro di voler lasciare il meeting?',\r\n            'leaveMeetingPrompt_host': 'stai per terminare il meeting per tutti. Continuare?',\r\n            'localVideo': 'video locale',\r\n            'remoteVideo': 'video remoto',\r\n            'recording': 'registrazione',\r\n            'recordingPaused': 'registrazione in pausa',\r\n            'maxNumberOfInterventions': 'il numero massimo di interventi  10',\r\n            'MeetingControls': {\r\n                'controls': 'controls',\r\n                'toggleAudio': 'attiva/disattiva audio',\r\n                'muteAudio': 'mute audio',\r\n                'unmuteAudio': 'unmute audio',\r\n                'unmuteDisallowed': 'il tuo audio  disattivato',\r\n                'toggleVideo': 'attiva/disattiva video',\r\n                'intervention': 'intervento',\r\n                'muteVideo': 'disattiva video',\r\n                'unmuteVideo': 'attiva video',\r\n                'toggleScreenShare': 'attiva/disattiva condivisione video',\r\n                'shareScreen': 'condividi video',\r\n                'stopShare': 'Stop condivisione',\r\n                'leaveMeeting': 'abbandona il meeting',\r\n                'endMeeting': 'fine meeting'\r\n            },\r\n            'OtherOptionsButton': {\r\n                'moreOptions': 'altre opzioni',\r\n                'layout': 'lo schema',\r\n                'displayMyVideo': 'mostra il mio video',\r\n                'hideMyVideo': 'nascondi il mio video',\r\n                'startRecording': 'avvia registrazione',\r\n                'pauseRecording': 'pause registrazione',\r\n                'resumeRecording': 'riprendi registrazione',\r\n                'stopRecording': 'stop registrazione',\r\n                'videoQuality': 'video quality',\r\n                'remoteVideoQuality': \"incoming video quality\",\r\n                'low': 'low',\r\n                'medium': 'medium',\r\n                'high': 'high',\r\n                'videoLayout': 'layout del video',\r\n                'single': 'singolo',\r\n                'equal': 'uguale',\r\n                'activePresence': 'presenza attiva',\r\n                'prominent': 'prominente'\r\n            },\r\n            'Participants': {\r\n                'muteAll': 'mute all',\r\n                'unmuteAll': 'unmute all',\r\n                'raisedHands': 'mani alzate',\r\n                'hosts': 'hosts',\r\n                'moderators': 'moderatori',\r\n                'guests': 'ospiti'\r\n            },\r\n            'Participant': {\r\n                'host': 'host',\r\n                'me': 'me',\r\n                'expel': 'espelli'\r\n            },\r\n            'Chat': {\r\n                'chatNotAvailable': 'la chat non  disponibile adesso.',\r\n                'downloadChat': 'scarica chat',\r\n                'writeMessage': 'scrivi un messaggio'\r\n            }\r\n        },\r\n        'MeetingForm': {\r\n            'missingAuthToken': \"manca il token di autorizzazione\",\r\n            'createMeeting': \"nuovo riunione programmato\",\r\n            'updateMeeting': \"aggiorna le informazioni sulla riunione\",\r\n            'advancedOptions': \"opzioni avanzate\",\r\n            'noInvitees': \"nessun invitato\",\r\n            'title': 'titolo',\r\n            'agenda': 'agenda',\r\n            'password': 'password',\r\n            'start': 'ora di inizio',\r\n            'end': 'tempo di fine',\r\n            'timezone': 'timezone',\r\n            'sendEmail': 'invia una email',\r\n            'allowAnyUserToBeCoHost': \"consentire a qualsiasi utente di essere co-host\",\r\n            'enabledAutoRecordMeeting': \"avvio automatico della registrazione\",\r\n            'enabledJoinBeforeHost': \"abilita l'accesso prima dell'host\"\r\n        },\r\n        'Invitees': {\r\n            'newInvitation': 'nuovo invito',\r\n            'noInvitees': 'nessun invitato',\r\n            'invitees': 'invitati',\r\n            'invitee': 'invitato',\r\n            'email': 'e-mail',\r\n            'name': 'nome',\r\n            'coHost': 'co-host',\r\n            'invite': 'invitare'\r\n        },\r\n        'confirmations': {\r\n            'removeInvitee': \"sei sicuro di voler rimuovere '{email}' dagli invitati?\"\r\n        },\r\n        'notifications': {\r\n            'meetingCreated': 'la riunione  stata creata con successo',\r\n            'meetingUpdated': 'la riunione  stata aggiornata con successo',\r\n            'newMessage': \"nuovi messaggi\",\r\n            'mutedByOthers': \"il tuo audio  stato disattivato\",\r\n            'meetingDestroyed': \"il meeting  concluso / non sei pi nel meeting.\",\r\n            'noHost': \"meeting  terminato a causa della mancanza di host online (motivo: l'host potrebbe essersi disconnesso)\",\r\n            'maxHandRaiseReached': \"il numero massimo di interventi  10\"\r\n        },\r\n        'validations': {\r\n            'invalidEmail': \"l'email non  valida\",\r\n            'meeting': {\r\n                'titleEmpty': 'il titolo  obbligatorio',\r\n                'startEmpty': \"l'ora di inizio  obbligatoria\",\r\n                'endEmpty': \"l'ora di fine  obbligatoria\",\r\n                'startTimeBeforeCurrentTime': \"l'ora di inizio non pu essere precedente all'ora corrente\",\r\n                'endTimeBeforeCurrentTime': \"l'ora di fine non pu essere precedente all'ora corrente\",\r\n                'endTimeBeforeStartTime': \"l'ora di fine non pu essere precedente all'ora di inizio\",\r\n                'invalidDuration': \"la durata della riunione non pu essere inferiore a 10 minuti / superiore a 24 ore\",\r\n                'joinBeforeHostMinutes': \"minuti \\\"partecipa prima dell'host\\\" non validi\"\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport default it;","import en from './en-US';\r\nimport it from './it-IT';\r\n\r\nconst messages = {\r\n    ...en,\r\n    ...it\r\n}\r\n\r\nexport default messages;","import { confirmAlert } from 'react-confirm-alert';\r\n\r\n/**\r\n * Checks if the input is a valid email.\r\n * @param  {string} email\r\n */\r\nexport const isValidEmail = (email) => {\r\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return re.test(email);\r\n}\r\n\r\n/**\r\n * Returns the difference between two DateTimes in minutes.\r\n * @param  {Date} d1 Date start.\r\n * @param  {Date} d2 Date end.\r\n * @return {number}  Difference in minutes.\r\n */\r\n export const getMinutesDiff = (d1, d2) => {\r\n    return (d2-d1) / (1000 * 60);\r\n}\r\n\r\n/**\r\n * Wrapper of 'react-confirm-alert' for easier use.\r\n */\r\nexport const confirmation = (message, confirmCallback, denyCallback) => {\r\n    confirmAlert({\r\n        title: 'Conferma',\r\n        message,\r\n        buttons: [\r\n            {\r\n                label: 'Si',\r\n                className: \"confirm-yes\",\r\n                onClick: async () => {\r\n                    await confirmCallback();\r\n                }\r\n            },\r\n            {\r\n                label: 'No',\r\n                className: \"confirm-no\",\r\n                onClick: async () => {\r\n                    if(denyCallback)\r\n                        await denyCallback();\r\n                }\r\n              }\r\n        ]\r\n    })\r\n}\r\n\r\nexport const scrollToTop = () => {\r\n    window.scrollTo(0, 0);\r\n}\r\n\r\n/**\r\n * Converts date to format: yyyy-MM-ddTHH:mm:ss\r\n */\r\nexport const convertToInputDateTimeFormat = (date) => {\r\n    let day = date.getDate(),\r\n        month = date.getMonth() + 1,\r\n        year = date.getFullYear(),\r\n        hour = date.getHours(),\r\n        min  = date.getMinutes();\r\n\r\n    month = (month < 10 ? \"0\" : \"\") + month;\r\n    day = (day < 10 ? \"0\" : \"\") + day;\r\n    hour = (hour < 10 ? \"0\" : \"\") + hour;\r\n    min = (min < 10 ? \"0\" : \"\") + min;\r\n\r\n    return `${year}-${month}-${day}T${hour}:${min}:00`;\r\n}\r\n\r\n/*** An awaitable sleep */\r\nexport const sleepAsync = ms => new Promise(r => setTimeout(r, ms))\r\n\r\nexport const capitalize = (s = '') => {\r\n    if(typeof s !== 'string')\r\n        return '';\r\n    if(s.charAt(0))\r\n        return s.charAt(0).toUpperCase() + s.slice(1)\r\n}\r\n\r\n/*** Returns local `MediaStream`, or `undefined` if any problem is encountered: for `e.x`: another app is using your camera etc. */\r\nexport const getLocalStream = async (constraints) => {\r\n    let stream\r\n    try {\r\n        stream = await navigator.mediaDevices.getUserMedia(constraints);\r\n        return stream;\r\n    } \r\n    catch(e) {\r\n        return null;\r\n    }\r\n}\r\n\r\nexport const isLocalStreamAvailable = async () => {\r\n    let localStream = await getLocalStream({ audio: true, video: true })\r\n    \r\n    if(!localStream)\r\n        return false;\r\n\r\n    localStream.getTracks().forEach(track => track.stop())\r\n    return true;\r\n}\r\n\r\nexport const withExecutionTime = async (funcRef, ...args) => {\r\n    if(funcRef && typeof funcRef === 'function') {\r\n        console.time(funcRef.name);\r\n        await funcRef(...args);\r\n        console.timeEnd(funcRef.name);\r\n    }\r\n}\r\n\r\n/*** Sorts an array of objects by a date property, given the property name */\r\nexport const sortObjArrayByDateProp_ASC = (arrayOfObjects=[], propertyName) => {\r\n    arrayOfObjects.sort((a, b) => new Date(a[propertyName]) - new Date(b[propertyName]));\r\n}","import React, {Component} from 'react';\r\nimport './index.css';\r\nimport english from '../../../images/usa_flag.png';\r\nimport italian from '../../../images/italian_flag.png';\r\n\r\nimport { LOCALES } from '../../../i18n';\r\nimport { translate, translateCap } from '../../../i18n/translate';\r\nimport { Dropdown } from 'react-bootstrap';\r\n\r\nclass Header extends Component {\r\n\r\n    render() {\r\n        let { locale } = this.props;\r\n        return (\r\n            <header>\r\n\r\n                <div className=\"row m-0 p-0\">\r\n                    <div className=\"col-12 m-0 p-0\">\r\n\r\n                        <Dropdown id=\"language-dropdown\" className=\"float-right\">\r\n                            <Dropdown.Toggle variant=\"primary\" id=\"dropdown-basic\" className=\"px-1 my-bg-primary\">\r\n                                {translateCap(\"general.changeLanguage\")}\r\n                            </Dropdown.Toggle>\r\n\r\n                            <Dropdown.Menu>\r\n                                <Dropdown.Item\r\n                                    className={(locale === LOCALES.ENGLISH) ? 'active' : ''}\r\n                                    onClick={() => this.props.changeLanguage(LOCALES.ENGLISH)}>\r\n                                        <img src={english}  style={{ width: \"13px\", height: \"10px\" }} alt=\"en\" />\r\n                                        <small> English </small>\r\n                                </Dropdown.Item>\r\n                                <Dropdown.Item \r\n                                    className={(locale === LOCALES.ITALIAN) ? 'active' : ''}\r\n                                    onClick={() => this.props.changeLanguage(LOCALES.ITALIAN)}>\r\n                                        <img src={italian} style={{ width: \"13px\", height: \"10px\" }} alt=\"it\" />\r\n                                        <small> Italian </small>\r\n                                </Dropdown.Item>\r\n                            </Dropdown.Menu>\r\n                        </Dropdown>\r\n\r\n                    </div>\r\n                </div>\r\n            </header>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Header;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAICAIAAAB/FOjAAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkFDMDBDOUI5MEQyRDExRTZCMTYwRTM1Mzc2MUVBNjZBIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkFDMDBDOUJBMEQyRDExRTZCMTYwRTM1Mzc2MUVBNjZBIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QUMwMEM5QjcwRDJEMTFFNkIxNjBFMzUzNzYxRUE2NkEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QUMwMEM5QjgwRDJEMTFFNkIxNjBFMzUzNzYxRUE2NkEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5DrIOHAAAAnElEQVR42pTOQQrCMBCF4RknNgRdWXoCwQt4AA8g2JN4Aw8rLlyLUDFNZ8Y0BTdOF75l+D8mrj1dqmqpqlAWRY8bOTTuLWDOEVEIXlVGggCJfb1ab2s32MIB5LAcKEIVlUX6JHMgslKSSWQQWXKvzJnZ4NzuSzoNBbF5PfrYAaINds97+fvXAONCiOw8g8GH39e5egTd9Qb/7CPAACXjSql7lb2oAAAAAElFTkSuQmCCMTA2OA==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAVCAIAAACor3u9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjMyNkM1MjREMEM3RTExRTY5MjcxOTRFODNENTg4QTQ2IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjMyNkM1MjRFMEM3RTExRTY5MjcxOTRFODNENTg4QTQ2Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MzI2QzUyNEIwQzdFMTFFNjkyNzE5NEU4M0Q1ODhBNDYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MzI2QzUyNEMwQzdFMTFFNjkyNzE5NEU4M0Q1ODhBNDYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4Ab6oxAAAAPklEQVR42mJkmOTGgAv8/u6v7rTBu4EBN3hY2fB6xVpmbm5cCpgYaAxGLRi1YNSCUQtGLRi1YNQCogBAgAEAMJkJWvloa2UAAAAASUVORK5CYII5NzQ=\"","import { useEffect } from \"react\";\r\n\r\nconst AutoScroll = () => {\r\n    \r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, []);\r\n\r\n  return null;\r\n}\r\n\r\nexport default AutoScroll;","import React from 'react';\r\nimport ScrollToTop from 'react-scroll-up';\r\n\r\nconst ScrollTopButton = () => {\r\n\r\n    const style = {\r\n        zIndex: 50,\r\n        bottom: 38,\r\n        right: 15,\r\n        color: '#164da3'\r\n    }\r\n\r\n    return (\r\n        <ScrollToTop showUnder={150} style={style}>\r\n            <i className=\"fa fa-arrow-circle-up fa-2x\" aria-hidden=\"true\"/>\r\n        </ScrollToTop>\r\n    )\r\n};\r\n\r\nexport default ScrollTopButton;\r\n","import React from 'react';\r\nimport { Route } from 'react-router-dom';\r\n\r\nimport AutoScroll from '../components/Layout/Shared/AutoScroll';\r\nimport ScrollTopButton from '../components/Layout/Shared/ScrollTopButton';\r\n\r\nconst CustomRoute = ({ component: Component, authStore, ...otherProps }) => (\r\n\r\n    <Route \r\n        {...otherProps}\r\n        render={props => {\r\n            return (\r\n                <>\r\n                    <AutoScroll />\r\n                    <Component {...props} {...otherProps}/>\r\n                    <ScrollTopButton />\r\n                </>\r\n            )\r\n        }}/>\r\n);\r\n\r\nexport default CustomRoute;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './SlideDrawer.css';\r\n\r\nconst SlideDrawer = ({ id, isOpen, onClose, children }) => {\r\n    return (\r\n        <>\r\n            <div className={`slide-drawer-mask ${isOpen ? '' : 'd-none'}`} onClick={onClose}></div>\r\n            <div id={id} className={`slide-drawer ${isOpen ? 'open' : ''}`}>\r\n                <div className=\"slide-drawer-container\">\r\n                    {children}\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nSlideDrawer.propTypes = {\r\n    id: PropTypes.string,\r\n    isOpen: PropTypes.bool,\r\n    onClose: PropTypes.func.isRequired\r\n}\r\n\r\nSlideDrawer.defaultProps = {\r\n    id: 'slidedrawer',\r\n    isOpen: false,\r\n    onClose: () => console.log('Slidedrawer onClose')\r\n}\r\n\r\nexport default SlideDrawer;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { translateCap } from '../../../../i18n/translate';\r\n\r\nconst Participant = ({ self, participant: p, onLowerHand, onToggleAudio, onRemove, onMakeHost }) => {\r\n\r\n    const renderHand = () => {\r\n        if(!p.handRaised)\r\n            return null;\r\n\r\n        if(p.isSelf || self.isModerator)\r\n            return (\r\n                <button className=\"btn btn-sm btn-default rounded-circle\" onClick={() => onLowerHand(p.id)} title={translateCap('LiveMeeting.lowerHand')}>\r\n                    <i className=\"far fa-hand-paper\"></i>\r\n                </button>\r\n            )\r\n        else\r\n        return (\r\n            <button disabled className=\"btn btn-sm btn-default rounded-circle\" title={translateCap('LiveMeeting.raiseHand')}>\r\n                <i className=\"far fa-hand-paper\"></i>\r\n            </button>\r\n        )\r\n    }\r\n\r\n    if(!p)\r\n        return null;\r\n    else\r\n        return (\r\n            <li className=\"list-group-item\">\r\n                {renderHand()}\r\n                <span className=\"pl-1\"> {p.name} </span>\r\n                {p.isHost ? <small className=\"text-muted\"> ({translateCap('LiveMeeting.Participant.host')}) </small> : null} {p.isSelf ? <small className=\"text-muted\"> ({translateCap('LiveMeeting.Participant.me')}) </small> : null}\r\n                {\r\n                    (self.isModerator && !p.isSelf && !p.isModerator) ?\r\n                        <>\r\n                            {/* <div className=\"d-inline-block float-right\">\r\n                                <Dropdown className=\"p-0\">\r\n                                    <Dropdown.Toggle variant=\"default\" id=\"participant-menu\" className=\"px-1 py-1 ml-1\">\r\n                                        <i className=\"fas fa-ellipsis-h\"></i>\r\n                                    </Dropdown.Toggle>\r\n                                    <Dropdown.Menu>\r\n                                        <Dropdown.Item onClick={() => onMakeHost(p.id)}> Make moderator </Dropdown.Item>\r\n                                    </Dropdown.Menu>\r\n                                </Dropdown>\r\n                            </div> */}\r\n                            <button className=\"btn btn-sm float-right text-danger\" title={translateCap('LiveMeeting.Participant.expel')} onClick={() => onRemove(p.id)}>\r\n                                <i className=\"fas fa-times\"></i>\r\n                            </button>\r\n                        </> :\r\n                        null\r\n                }\r\n                {\r\n                    (p.isSelf || self.isModerator) ?\r\n                        <button className=\"btn btn-sm text-success float-right participant-audio\" title={`${p.isAudioMuted ? translateCap('LiveMeeting.unmute') : translateCap('LiveMeeting.mute')}`} onClick={() => onToggleAudio(p.id, !p.isAudioMuted)}>\r\n                            <i className={`fas fa-microphone${p.isAudioMuted ? '-slash' : ''}`}></i>\r\n                        </button> \r\n                        : null\r\n                }\r\n            </li>\r\n        );\r\n}\r\n\r\nParticipant.propTypes = {\r\n    self: PropTypes.object.isRequired,\r\n    participant: PropTypes.object.isRequired,\r\n    onLowerHand: PropTypes.func.isRequired,\r\n    onToggleAudio: PropTypes.func.isRequired,\r\n    onRemove: PropTypes.func.isRequired,\r\n    onMakeHost: PropTypes.func.isRequired\r\n}\r\n\r\nParticipant.defaultProps = {\r\n    self: { isHost: false, isModerator: false },\r\n    participant: null,\r\n    onLowerHand: () => console.log('onLowerHand'),\r\n    onToggleAudio: () => console.log('onToggleAudio'),\r\n    onRemove: () => console.log('onRemove'),\r\n    onMakeHost: () => console.log('onMakeHost'),\r\n}\r\n\r\nexport default Participant;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Collapse } from 'react-bootstrap';\r\nimport Participant from './Participant';\r\nimport isEqual from 'react-fast-compare';\r\nimport { translateCap } from '../../../../i18n/translate';\r\n\r\nclass ParticipantsSection extends Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            displaySet: [],\r\n            displayCount: 10,\r\n            searchKey: \"\"\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({ displaySet: this.props.participants });\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        let { searchKey } = this.state;\r\n        let { participants } = this.props;\r\n\r\n        if(isEqual(participants, prevProps.participants) === false) {\r\n            let displaySet = participants;\r\n            if(searchKey.length >= 2)\r\n                displaySet = participants.filter(p => p.name.toLowerCase().includes(searchKey));\r\n            this.setState({ displaySet });\r\n        }\r\n    }\r\n\r\n    onSearch = (e) => {\r\n        let { participants } = this.props;\r\n\r\n        let searchKey = e.target.value.trim().toLowerCase();\r\n        let displaySet = participants;\r\n        if(searchKey.length >= 2) {\r\n            displaySet = participants.filter(p => p.name.toLowerCase().includes(searchKey));\r\n        }\r\n\r\n        this.setState({ displaySet, searchKey });\r\n    }\r\n\r\n    adjustDisplayCount = (size) => {\r\n        this.setState({ displayCount: this.state.displayCount + size });\r\n    }\r\n\r\n    render() {\r\n        let { displaySet, displayCount } = this.state;\r\n        let { id, title, self, isOpen, onToggleOpen, participants, onLowerHand, onToggleAudio, onRemove, onMakeHost, children } = this.props;\r\n\r\n        return (\r\n            <>\r\n                <li id=\"participants-section-title\" className=\"list-group-item border cursor-pointer border-bottom\" onClick={onToggleOpen}> \r\n                    {children} \r\n                    <i className={`fas fa-chevron-${isOpen ? 'up' : 'down'} absolute-right mr-3`}></i>\r\n                </li>\r\n                <Collapse in={isOpen}>\r\n                    <div id={id}>\r\n                        <input type=\"search\" placeholder={`${translateCap('general.search')}...`} className=\"search-input w-100\" onChange={this.onSearch} />\r\n                        {\r\n                            (displaySet.length === 0) ?\r\n                                <li className=\"list-group-item\">\r\n                                    <small className=\"text-muted ml-2\">\r\n                                        <i className=\"fas fa-info\"></i> {translateCap('general.empty')}\r\n                                    </small>\r\n                                </li>\r\n                                :\r\n                                <>\r\n                                    <div className=\"list-container\">\r\n                                    {\r\n                                        displaySet.slice(0, displayCount).map(p => {\r\n                                            return (\r\n                                                <Participant\r\n                                                    key={p.id}\r\n                                                    self={self}\r\n                                                    participant={p}\r\n                                                    onLowerHand={onLowerHand}\r\n                                                    onToggleAudio={onToggleAudio}\r\n                                                    onRemove={onRemove}\r\n                                                    onMakeHost={onMakeHost}\r\n                                                />\r\n                                            )\r\n                                        })\r\n                                    }\r\n                                    {\r\n                                        (displaySet.length > displayCount) ?\r\n                                            <button className=\"btn btn-sm btn-block\" onClick={() => this.adjustDisplayCount(10)}>\r\n                                                {translateCap('general.showMore')}\r\n                                            </button>\r\n                                            : null\r\n                                    }\r\n                                    {\r\n                                        (displayCount > 10) ?\r\n                                            <button className=\"btn btn-sm btn-block\" onClick={() => this.adjustDisplayCount(-10)}>\r\n                                                {translateCap('general.showLess')}\r\n                                            </button>\r\n                                            : null\r\n                                    }\r\n                                    </div>\r\n                                </>\r\n                        }\r\n                    </div>\r\n                </Collapse>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nParticipantsSection.propTypes = {\r\n    id: PropTypes.string,\r\n    self: PropTypes.object.isRequired,\r\n    isOpen: PropTypes.bool.isRequired,\r\n    onToggleOpen: PropTypes.func.isRequired,\r\n    isModerator: PropTypes.bool.isRequired,\r\n    participants: PropTypes.array.isRequired,\r\n    onLowerHand: PropTypes.func.isRequired,\r\n    onToggleAudio: PropTypes.func.isRequired,\r\n    onRemove: PropTypes.func.isRequired,\r\n    onMakeHost: PropTypes.func.isRequired\r\n}\r\n\r\nParticipantsSection.defaultProps = {\r\n    id: 'participants-section',\r\n    self: { isHost: false, isModerator: false },\r\n    isOpen: false,\r\n    onToggleOpen: () => console.log('onToggleOpen'),\r\n    isModerator: false,\r\n    participants: [],\r\n    onLowerHand: () => console.log('onLowerHand'),\r\n    onToggleAudio: () => console.log('onToggleAudio'),\r\n    onRemove: () => console.log('onRemove'),\r\n    onMakeHost: () => console.log('onMakeHost')\r\n}\r\n\r\nexport default ParticipantsSection;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './index.css';\r\n\r\nimport { ParticipantStatus } from '../../../../utils/constants';\r\nimport { translateCap } from '../../../../i18n/translate';\r\n\r\nimport SlideDrawer from '../../../Layout/Shared/SlideDrawer/SlideDrawer';\r\nimport { Dropdown } from 'react-bootstrap';\r\nimport ParticipantsSection from './ParticipantsSection';\r\nimport { sortObjArrayByDateProp_ASC } from '../../../../utils/helpers';\r\n\r\nclass Participants extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            isHandRaisedOpen: true,\r\n            isHostsOpen: true,\r\n            isModsOpen: true,\r\n            isGuestsOpen: true\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Based on the 'handRaises' provided, adds to each participant (only the ones with hand raised) \r\n     * the following property: 'handRaised', which is a string timestamp\r\n     */\r\n    prepareHandRaised = () => {\r\n        let { participants, handRaises } = this.props;\r\n\r\n        let inMeeting = participants.filter(p => p.status === ParticipantStatus.InMeeting).sort((x, y) => { return x-y; });\r\n        let hr = [];\r\n\r\n        handRaises.forEach(h => {\r\n            let current = { ...inMeeting.filter(p => p.id === h.participantId)[0] }\r\n            current.handRaised = h.timestamp;\r\n            hr.push(current)\r\n        });\r\n\r\n        // Sorting by date: oldest to newest\r\n        sortObjArrayByDateProp_ASC(hr, 'handRaised');\r\n\r\n        return hr;\r\n    } \r\n\r\n    render() {\r\n        let { isHandRaisedOpen, isHostsOpen, isModsOpen, isGuestsOpen } = this.state;\r\n        // Fields\r\n        let { id, isOpen, participants } = this.props;\r\n        let self = participants.filter(p => p.isSelf === true)[0];\r\n        \r\n        let inMeeting = participants.filter(p => p.status === ParticipantStatus.InMeeting).sort((x, y) => { return x-y; });\r\n        // let inLobby = participants.filter(p => p.status === ParticipantStatus.InLobby)\r\n        // let notInMeeting = participants.filter(p => p.status === ParticipantStatus.NotInMeeting)\r\n\r\n        let handRaised = this.prepareHandRaised();\r\n        let hosts = inMeeting.filter(p => p.isHost);\r\n        let mods = inMeeting.filter(p => p.isModerator);\r\n        let guests = inMeeting.filter(p => !p.isHost && !p.isModerator);\r\n        \r\n        return (\r\n            <SlideDrawer id={id} isOpen={isOpen} onClose={this.props.onClose}>\r\n\r\n                <div className=\"slide-drawer-header\">\r\n                    <b> {translateCap('LiveMeeting.participants')} ({inMeeting.length}) </b>\r\n                    <div className=\"d-inline-block float-right\">\r\n                        {\r\n                            self.isModerator ?\r\n                                <Dropdown className=\"d-inline-block p-0\">\r\n                                    <Dropdown.Toggle variant=\"default\" id=\"participants-menu\" className=\"p-0 mr-3\">\r\n                                        <i className=\"fas fa-ellipsis-h\"></i>\r\n                                    </Dropdown.Toggle>\r\n                                    <Dropdown.Menu>\r\n                                        <Dropdown.Item onClick={this.props.onMuteAll}> {translateCap('LiveMeeting.Participants.muteAll')} </Dropdown.Item>\r\n                                        <Dropdown.Item onClick={this.props.onUnmuteAll}> {translateCap('LiveMeeting.Participants.unmuteAll')} </Dropdown.Item>\r\n                                    </Dropdown.Menu>\r\n                                </Dropdown> : null\r\n                        }\r\n                        <button className=\"btn btn-sm btn-default ml-1\" title={translateCap('general.close')}>\r\n                            <i className=\"fas fa-times fa-lg text-danger\" onClick={this.props.onClose}></i>\r\n                        </button>      \r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"slide-drawer-body\">\r\n                    <ul className=\"list-group list-group-flush h-100\">\r\n                        <ParticipantsSection\r\n                            id='handRaised-section'\r\n                            self={self}\r\n                            isOpen={isHandRaisedOpen}\r\n                            onToggleOpen={() => this.setState({ isHandRaisedOpen: !isHandRaisedOpen })}\r\n                            participants={handRaised}\r\n                            onLowerHand={this.props.onLowerHand}\r\n                            onToggleAudio={this.props.onToggleAudio}\r\n                            onRemove={this.props.onRemove}\r\n                            onMakeHost={this.props.onMakeHost}\r\n                        > \r\n                            <span> {translateCap('LiveMeeting.Participants.raisedHands')} </span>\r\n                        </ParticipantsSection>\r\n                        <ParticipantsSection\r\n                            id='hosts-section'\r\n                            self={self}\r\n                            isOpen={isHostsOpen}\r\n                            onToggleOpen={() => this.setState({ isHostsOpen: !isHostsOpen })}\r\n                            participants={hosts}\r\n                            onLowerHand={this.props.onLowerHand}\r\n                            onToggleAudio={this.props.onToggleAudio}\r\n                            onRemove={this.props.onRemove}\r\n                            onMakeHost={this.props.onMakeHost}\r\n                        >\r\n                            <span> {translateCap('LiveMeeting.Participants.hosts')} </span>\r\n                        </ParticipantsSection>\r\n                        <ParticipantsSection\r\n                            id='moderators-section'\r\n                            self={self}\r\n                            isOpen={isModsOpen}\r\n                            onToggleOpen={() => this.setState({ isModsOpen: !isModsOpen })}\r\n                            participants={mods}\r\n                            onLowerHand={this.props.onLowerHand}\r\n                            onToggleAudio={this.props.onToggleAudio}\r\n                            onRemove={this.props.onRemove}\r\n                            onMakeHost={this.props.onMakeHost}\r\n                        >\r\n                            <span> {translateCap('LiveMeeting.Participants.moderators')} </span>\r\n                        </ParticipantsSection>\r\n                        <ParticipantsSection\r\n                            id='guests-section'\r\n                            self={self}\r\n                            isOpen={isGuestsOpen}\r\n                            onToggleOpen={() => this.setState({ isGuestsOpen: !isGuestsOpen })}\r\n                            participants={guests}\r\n                            onLowerHand={this.props.onLowerHand}\r\n                            onToggleAudio={this.props.onToggleAudio}\r\n                            onRemove={this.props.onRemove}\r\n                            onMakeHost={this.props.onMakeHost}\r\n                        >\r\n                            <span> {translateCap('LiveMeeting.Participants.guests')} </span>\r\n                        </ParticipantsSection>\r\n                    </ul>\r\n                </div>\r\n\r\n            </SlideDrawer>\r\n        );\r\n    }\r\n}\r\n\r\nParticipants.propTypes = {\r\n    id: PropTypes.string,\r\n    participants: PropTypes.array.isRequired,\r\n    handRaises: PropTypes.array.isRequired,\r\n    isOpen: PropTypes.bool.isRequired,\r\n    onClose: PropTypes.func.isRequired,\r\n    onMuteAll: PropTypes.func.isRequired,\r\n    onUnmuteAll: PropTypes.func.isRequired,\r\n    onLowerHand: PropTypes.func.isRequired,\r\n    onToggleAudio: PropTypes.func.isRequired,\r\n    onRemove: PropTypes.func.isRequired,\r\n    onMakeHost: PropTypes.func.isRequired\r\n};\r\n\r\nParticipants.defaultProps = {\r\n    id: 'participants-drawer',\r\n    participants: [],\r\n    handRaises: [],\r\n    isOpen: false,\r\n    onClose: () => console.log('onClose'),\r\n    onMuteAll: () => console.log('onMuteAll'),\r\n    onUnmuteAll: () => console.log('onUnmuteAll'),\r\n    onLowerHand: () => console.log('onLowerHand'),\r\n    onToggleAudio: () => console.log('onToggleAudio'),\r\n    onRemove: () => console.log('onRemove'),\r\n    onMakeHost: () => console.log('onMakeHost')\r\n};\r\n\r\n\r\nexport default Participants;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './index.css';\r\nimport SlideDrawer from '../../../Layout/Shared/SlideDrawer/SlideDrawer';\r\nimport ChatBox from '@ergisgjergji/react-chat-plugin';\r\nimport { translate, translateCap } from '../../../../i18n/translate';\r\nimport { FileSelectMode, FileSelectModes } from '../../../../utils/constants';\r\n\r\nclass Chat extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n    }\r\n    \r\n    render() {\r\n        // Fields\r\n        let { id, userId, self, messages, fileSelectMode, placeholder, timestampFormat, showTypingIndicator, isOpen, isLoading, isReady, isChatDownloading } = this.props;\r\n        // Callbacks\r\n        let { onClose, onSendMessage, onDownloadChat } = this.props;\r\n\r\n        return (\r\n            <SlideDrawer id={id} isOpen={isOpen} onClose={onClose}>\r\n            {\r\n                !isReady ?\r\n                    <small className=\"absolute-center\"> \r\n                        <i className=\"fas fa-info-circle\"></i> {translateCap('LiveMeeting.Chat.chatNotAvailable')}\r\n                    </small> \r\n                    :\r\n                    <>\r\n                        <div className=\"slide-drawer-header\">\r\n                            <b> {translateCap('LiveMeeting.chat')} </b>\r\n                            {\r\n                                (self.isModerator && isLoading === false) ?\r\n                                    <div className=\"d-inline-block float-right\">\r\n                                        <button id=\"downloadChatBtn\" className=\"btn btn-sm my-btn-primary px-1 py-0\" title={translateCap('LiveMeeting.Chat.downloadChat')} onClick={onDownloadChat}>\r\n                                        {\r\n                                            isChatDownloading ?\r\n                                                <span className=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span> :\r\n                                                <i className=\"fas fa-download fa-lg\"></i>\r\n                                        }\r\n                                        </button>\r\n                                        <button className=\"btn btn-sm btn-default ml-1\" title={translateCap('general.close')}>\r\n                                            <i className=\"fas fa-times fa-lg text-danger\" onClick={onClose}></i>\r\n                                        </button>\r\n                                    </div>\r\n                                    : null\r\n                            }\r\n                        </div>\r\n\r\n                        <div className=\"slide-drawer-body\">\r\n                            {\r\n                                isLoading ?\r\n                                    <div className=\"w-100 text-center absolute-center\">\r\n                                        <span className=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span> Loading...\r\n                                    </div> :\r\n                                    <ChatBox\r\n                                        userId={userId}\r\n                                        messages={messages}\r\n                                        fileSelectMode={fileSelectMode}\r\n                                        placeholder={placeholder}\r\n                                        timestampFormat={timestampFormat}\r\n                                        showTypingIndicator={showTypingIndicator}\r\n                                        onSendMessage={onSendMessage}\r\n                                    />\r\n                            }\r\n                        </div>\r\n                    </>\r\n            }\r\n                </SlideDrawer>\r\n        );\r\n    }\r\n}\r\n\r\nChat.propTypes = {\r\n    id: PropTypes.string,\r\n    userId: PropTypes.string,\r\n    self: PropTypes.object.isRequired,\r\n    messages: PropTypes.array.isRequired,\r\n    fileSelectMode: PropTypes.oneOf(FileSelectModes),\r\n    placeholder: PropTypes.string,\r\n    timestampFormat: PropTypes.string,\r\n    showTypingIndicator: PropTypes.bool,\r\n    isOpen: PropTypes.bool.isRequired,\r\n    isLoading: PropTypes.bool.isRequired,\r\n    isReady: PropTypes.bool.isRequired,\r\n    isChatDownloading: PropTypes.bool.isRequired,\r\n    onClose: PropTypes.func.isRequired,\r\n    onSendMessage: PropTypes.func.isRequired,\r\n    onDownloadChat: PropTypes.func.isRequired\r\n}\r\n\r\nChat.defaultProps  = {\r\n    id: 'chat-default',\r\n    userId: 0,\r\n    self: { isHost: false, isModerator: false },\r\n    messages: [],\r\n    fileSelectMode: FileSelectMode.Disabled,\r\n    placeholder: '',\r\n    timestampFormat: 'calendar',\r\n    showTypingIndicator: false,\r\n    isOpen: false,\r\n    isLoading: false,\r\n    isReady: false,\r\n    isChatDownloading: false,\r\n    onClose: () => console.log('onClose'),\r\n    onSendMessage: () => console.log('onSendMessage'),\r\n    onDownloadChat: () => console.log('onDownloadChat')\r\n}\r\n\r\nexport default Chat;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './index.css';\r\nimport { Dropdown } from 'react-bootstrap';\r\nimport { LayoutType, QualityLevel, RecordingState } from '../../../../../utils/constants';\r\nimport { translate, translateCap } from '../../../../../i18n/translate';\r\n\r\nclass OtherOptionsButton extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n    }\r\n\r\n    renderLocalVideoVisibilitySubmenu = () => (\r\n        <>\r\n            <Dropdown.Header>\r\n                {translateCap('LiveMeeting.OtherOptionsButton.layout')}\r\n            </Dropdown.Header>\r\n            <Dropdown.Item onClick={this.props.onToggleLocalVideoVisibility} >\r\n                {\r\n                    this.props.isLocalVideoHidden ?\r\n                        <>\r\n                            <i className=\"far fa-eye\"></i> {translateCap('LiveMeeting.OtherOptionsButton.displayMyVideo')}\r\n                        </> :\r\n                        <>\r\n                        <i className=\"far fa-eye-slash\"></i> {translateCap('LiveMeeting.OtherOptionsButton.hideMyVideo')}\r\n                    </>\r\n                }\r\n            </Dropdown.Item>\r\n        </>\r\n    )\r\n\r\n    renderRecordingSubmenu = () => {\r\n        let { isModerator, recordingState } = this.props;\r\n\r\n        if(!isModerator)\r\n            return null;\r\n\r\n        else {\r\n            switch(recordingState) {\r\n                case RecordingState.Idle:\r\n                    return (\r\n                        <>\r\n                            <Dropdown.Header>\r\n                                {translateCap('LiveMeeting.recording')}\r\n                            </Dropdown.Header>\r\n                            <Dropdown.Item onClick={this.props.onStartRecording}>\r\n                                <i className=\"fas fa-play\"></i> {translateCap('LiveMeeting.OtherOptionsButton.startRecording')}\r\n                            </Dropdown.Item>\r\n                        </>\r\n                    );\r\n                case RecordingState.Paused:\r\n                    return (\r\n                        <>\r\n                            <Dropdown.Header>\r\n                                {translateCap('LiveMeeting.recording')}\r\n                            </Dropdown.Header>\r\n                            <Dropdown.Item onClick={this.props.onResumeRecording}>\r\n                                <i className=\"fas fa-play\"></i> {translateCap('LiveMeeting.OtherOptionsButton.resumeRecording')}\r\n                            </Dropdown.Item>\r\n                            <Dropdown.Item onClick={this.props.onStopRecording}>\r\n                                <i className=\"fas fa-stop\"></i> {translateCap('LiveMeeting.OtherOptionsButton.stopRecording')}\r\n                            </Dropdown.Item>\r\n                        </>\r\n                    );\r\n                case RecordingState.Recording:\r\n                    return (\r\n                        <>\r\n                            <Dropdown.Header>\r\n                                {translateCap('LiveMeeting.recording')}\r\n                            </Dropdown.Header>\r\n                            <Dropdown.Item onClick={this.props.onPauseRecording}>\r\n                                <i className=\"fas fa-pause\"></i> {translateCap('LiveMeeting.OtherOptionsButton.pauseRecording')}\r\n                            </Dropdown.Item>\r\n                            <Dropdown.Item onClick={this.props.onStopRecording}>\r\n                                <i className=\"fas fa-stop\"></i> {translateCap('LiveMeeting.OtherOptionsButton.stopRecording')}\r\n                            </Dropdown.Item>\r\n                        </>\r\n                    );\r\n                default:\r\n                    return null;\r\n            }\r\n        }\r\n    }\r\n\r\n    renderHandRaiseSubmenu = () => {\r\n        let { isModerator, isRoomReady, isHandRaised, onToggleHand } = this.props;\r\n\r\n        return (!isModerator && isRoomReady) ?\r\n            <>\r\n                <Dropdown.Item onClick={() => onToggleHand()}>\r\n                    {\r\n                        isHandRaised ?\r\n                            <> <i className=\"far fa-hand-point-down\"></i> {translateCap('LiveMeeting.lowerHand')} </> :\r\n                            <> <i className=\"far fa-hand-paper\"></i> {translateCap('LiveMeeting.raiseHand')} </>\r\n                    }\r\n                </Dropdown.Item>\r\n            </> : null\r\n    }\r\n\r\n    renderLocalVideoQualitySubmenu = () => (\r\n        <>\r\n            <Dropdown.Header>\r\n                    {translateCap('LiveMeeting.OtherOptionsButton.videoQuality')}\r\n                </Dropdown.Header>\r\n                <Dropdown.Item\r\n                        active={this.props.localVideoQuality === QualityLevel.High}\r\n                        onClick={() => this.props.onChangeLocalVideoQuality(QualityLevel.High)} >\r\n                    {translateCap('LiveMeeting.OtherOptionsButton.high')}\r\n                </Dropdown.Item>\r\n                <Dropdown.Item\r\n                        active={this.props.localVideoQuality === QualityLevel.Medium}\r\n                        onClick={() => this.props.onChangeLocalVideoQuality(QualityLevel.Medium)} >\r\n                    {translateCap('LiveMeeting.OtherOptionsButton.medium')}\r\n                </Dropdown.Item>\r\n                <Dropdown.Item\r\n                        active={this.props.localVideoQuality === QualityLevel.Low}\r\n                        onClick={() => this.props.onChangeLocalVideoQuality(QualityLevel.Low)} >\r\n                    {translateCap('LiveMeeting.OtherOptionsButton.low')}\r\n                </Dropdown.Item>\r\n        </>\r\n    )\r\n\r\n    renderVideoLayoutSubmenu = () => {\r\n        let { layoutType, onChangeVideoLayout } = this.props;\r\n\r\n        return (\r\n            <>\r\n                <Dropdown.Header>\r\n                    {translateCap('LiveMeeting.OtherOptionsButton.videoLayout')}\r\n                </Dropdown.Header>\r\n                <Dropdown.Item \r\n                        active={layoutType === LayoutType.Single}\r\n                        onClick={() => onChangeVideoLayout(LayoutType.Single)} >\r\n                    {translateCap('LiveMeeting.OtherOptionsButton.single')}\r\n                </Dropdown.Item>\r\n                <Dropdown.Item\r\n                        active={layoutType === LayoutType.Equal}\r\n                        onClick={() => onChangeVideoLayout(LayoutType.Equal)} >\r\n                    {translateCap('LiveMeeting.OtherOptionsButton.equal')}\r\n                </Dropdown.Item>\r\n                <Dropdown.Item\r\n                        active={layoutType === LayoutType.ActivePresence}\r\n                        onClick={() => onChangeVideoLayout(LayoutType.ActivePresence)} >\r\n                    {translateCap('LiveMeeting.OtherOptionsButton.activePresence')}\r\n                </Dropdown.Item>\r\n                <Dropdown.Item\r\n                        active={layoutType === LayoutType.Prominent}\r\n                        onClick={() => onChangeVideoLayout(LayoutType.Prominent)} >\r\n                    {translateCap('LiveMeeting.OtherOptionsButton.prominent')}\r\n                </Dropdown.Item>\r\n                <Dropdown.Item\r\n                        active={layoutType === LayoutType.OnePlusN}\r\n                        onClick={() => onChangeVideoLayout(LayoutType.OnePlusN)} >\r\n                    {LayoutType.OnePlusN} {/* No translation */}\r\n                </Dropdown.Item>\r\n            </>\r\n        )\r\n    }\r\n\r\n    renderIncomingVideoQualitySubmenu = () => (\r\n        <>\r\n            <Dropdown.Header>\r\n                    {translateCap('LiveMeeting.OtherOptionsButton.remoteVideoQuality')}\r\n                </Dropdown.Header>\r\n                <Dropdown.Item \r\n                        active={this.props.remoteVideoQuality === QualityLevel.High}\r\n                        onClick={() => this.props.onChangeRemoteVideoQuality(QualityLevel.High)} >\r\n                    {translateCap('LiveMeeting.OtherOptionsButton.high')}\r\n                </Dropdown.Item>\r\n                <Dropdown.Item \r\n                        active={this.props.remoteVideoQuality === QualityLevel.Medium}\r\n                        onClick={() => this.props.onChangeRemoteVideoQuality(QualityLevel.Medium)} >\r\n                    {translateCap('LiveMeeting.OtherOptionsButton.medium')}\r\n                </Dropdown.Item>\r\n                <Dropdown.Item \r\n                        active={this.props.remoteVideoQuality === QualityLevel.Low}\r\n                        onClick={() => this.props.onChangeRemoteVideoQuality(QualityLevel.Low)} >\r\n                    {translateCap('LiveMeeting.OtherOptionsButton.low')}\r\n            </Dropdown.Item>\r\n        </>\r\n    )\r\n\r\n    render() {\r\n        let { direction } = this.props\r\n\r\n        return (\r\n            <Dropdown drop={direction} id=\"moreOptions\" className=\"d-inline-block\">\r\n                <Dropdown.Toggle variant=\"light\" className=\"meeting-control rounded-circle shadow mx-1 px-3\" title={translateCap('LiveMeeting.OtherOptionsButton.moreOptions')}>\r\n                    <i className=\"fas fa-ellipsis-v\"></i>\r\n                </Dropdown.Toggle>\r\n                <Dropdown.Menu>\r\n                    {this.renderLocalVideoVisibilitySubmenu()}\r\n                    {/* {this.renderRecordingSubmenu()} */}\r\n                    {/* {this.renderHandRaiseSubmenu()} */}\r\n                    {this.renderLocalVideoQualitySubmenu()}\r\n                    {/* {this.renderIncomingVideoQualitySubmenu()} */}\r\n                    {this.renderVideoLayoutSubmenu()}\r\n                </Dropdown.Menu>\r\n            </Dropdown>\r\n        );\r\n    }\r\n}\r\n\r\nOtherOptionsButton.propTypes = {\r\n    direction: PropTypes.string.isRequired,\r\n    isModerator: PropTypes.bool.isRequired,\r\n    isRoomReady: PropTypes.bool.isRequired,\r\n\r\n    isLocalVideoHidden: PropTypes.bool.isRequired,\r\n    onToggleLocalVideoVisibility: PropTypes.func.isRequired,\r\n\r\n    isHandRaised: PropTypes.bool.isRequired,\r\n    // onToggleHand: PropTypes.func.isRequired,\r\n\r\n    recordingState: PropTypes.string.isRequired,\r\n    onStartRecording: PropTypes.func.isRequired,\r\n    onPauseRecording: PropTypes.func.isRequired,\r\n    onResumeRecording: PropTypes.func.isRequired,\r\n    onStopRecording: PropTypes.func.isRequired,\r\n\r\n    localVideoQuality: PropTypes.string.isRequired,\r\n    remoteVideoQuality: PropTypes.string.isRequired,\r\n    onChangeLocalVideoQuality: PropTypes.func.isRequired,\r\n    onChangeRemoteVideoQuality: PropTypes.func.isRequired,\r\n\r\n    layoutType: PropTypes.string,\r\n    onChangeVideoLayout: PropTypes.func.isRequired\r\n}\r\n\r\nOtherOptionsButton.defaultProps = {\r\n    direction: 'up',\r\n    isModerator: false,\r\n    isRoomReady: false,\r\n\r\n    isLocalVideoHidden: false,\r\n    onToggleLocalVideoVisibility: () => console.log('onToggleLocalVideoVisibility'),\r\n\r\n    isHandRaised: false,\r\n    // onToggleHand: () => console.log('onToggleHand'),\r\n\r\n    recordingState: RecordingState.idle,\r\n    onStartRecording: () => console.log('onStartRecording'),\r\n    onPauseRecording: () => console.log('onPauseRecording'),\r\n    onResumeRecording: () => console.log('onResumeRecording'),\r\n    onStopRecording: () => console.log('onStopRecording'),\r\n\r\n    localVideoQuality: QualityLevel.Low,\r\n    remoteVideoQuality: QualityLevel.Low,\r\n    onChangeLocalVideoQuality: () => console.log('onChangeLocalVideoQuality'),\r\n    onChangeRemoteVideoQuality: () => console.log('onChangeRemoteVideoQuality'),\r\n\r\n    layoutType: undefined,\r\n    onChangeVideoLayout: () => console.log('onChangeVideoLayout')\r\n}\r\n\r\nexport default OtherOptionsButton;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './index.css';\r\n\r\nimport { translateCap } from '../../../../../i18n/translate';\r\nimport { MaxNumberOfInterventions, QualityLevel, RecordingState } from '../../../../../utils/constants';\r\nimport OtherOptionsButton from '../OtherOptionsButton/OtherOptionsButton';\r\nimport { Dropdown } from 'react-bootstrap';\r\n\r\nclass MeetingControls extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n    }\r\n\r\n    renderAudioControl = () => {\r\n        let { self } = this.props;\r\n\r\n        return (self.disallowUnmute && self.isAudioMuted) \r\n                ?\r\n                <button disabled id=\"toggleAudioBtn\" className=\"meeting-control btn btn-md btn-light rounded-pill shadow mx-1\" title={translateCap('LiveMeeting.MeetingControls.unmuteDisallowed')}>\r\n                    <i className='fas fa-lock'></i> \r\n                    <span> {translateCap('LiveMeeting.MeetingControls.unmuteAudio')}</span>\r\n                </button>\r\n                :\r\n                <button id=\"toggleAudioBtn\" className=\"meeting-control btn btn-md btn-light rounded-pill shadow mx-1\" title={translateCap('LiveMeeting.MeetingControls.toggleAudio')} onClick={this.props.onToggleAudio}>\r\n                    <i className={`fas fa-microphone${self.isAudioMuted ? '-slash' : ' my-text-primary'}`}></i> \r\n                    <span> {self.isAudioMuted ? translateCap('LiveMeeting.MeetingControls.unmuteAudio') : translateCap('LiveMeeting.MeetingControls.muteAudio')} </span>\r\n                </button>\r\n    }\r\n\r\n    renderRaiseHand = () => {\r\n        let { self, isRoomReady, isHandRaised, handRaisesCount } = this.props;\r\n\r\n        if (!self.isModerator && isRoomReady)\r\n            return (!isHandRaised && handRaisesCount >= MaxNumberOfInterventions) ?\r\n                <button disabled id=\"toggleHandBtn\" className=\"meeting-control btn btn-md btn-light rounded-pill shadow mx-1\" title={translateCap('notifications.maxHandRaiseReached')} >\r\n                    <i className=\"far fa-hand-paper\"></i>\r\n                    <span> {translateCap('LiveMeeting.raiseHand')} </span>\r\n                </button>\r\n                :\r\n                <button id=\"toggleHandBtn\" className=\"meeting-control btn btn-md btn-light rounded-pill shadow mx-1\" title={translateCap('LiveMeeting.MeetingControls.intervention')} onClick={async () => await this.props.onToggleHand()}>\r\n                    { isHandRaised ? <i className=\"far fa-hand-point-down\"></i> : <i className=\"far fa-hand-paper\"></i> }\r\n                    <span> {isHandRaised ? translateCap('LiveMeeting.lowerHand') : translateCap('LiveMeeting.raiseHand')} </span>\r\n                </button> \r\n        return;\r\n    }\r\n    \r\n    render() {\r\n        let { self, isRoomReady, isLocalVideoHidden, isLocalSharing, recordingState, isHandRaised, localVideoQuality, remoteVideoQuality, layoutType } = this.props;\r\n        let { onToggleLocalVideoVisibility, onQuitMeeting, onToggleAudio, onToggleVideo, onToggleShare, onStartRecording, onPauseRecording, onResumeRecording, onStopRecording, onToggleHand, onChangeLocalVideoQuality, onChangeRemoteVideoQuality, onChangeVideoLayout, onToggleParticipantsDrawer, onToggleChatDrawer } = this.props\r\n\r\n        if(!self)\r\n            return null;\r\n        \r\n        return (\r\n            <div id=\"meeting-controls\" className=\"row m-0 p-0\">\r\n                <div className=\"col-12 m-0 p-0\">\r\n\r\n                    <div className=\"absolute-left left-controls\">\r\n                        {this.renderAudioControl()}\r\n                        <button id=\"toggleVideoBtn\" className=\"meeting-control btn btn-md btn-light rounded-pill shadow mx-1\" title={translateCap('LiveMeeting.MeetingControls.toggleVideo')} onClick={onToggleVideo}>\r\n                            <i className={`fas fa-video${self.isVideoMuted ? '-slash' : ' my-text-primary'}`}></i> \r\n                            <span> {self.isVideoMuted ? translateCap('LiveMeeting.MeetingControls.unmuteVideo') : translateCap('LiveMeeting.MeetingControls.muteVideo')} </span>\r\n                        </button>\r\n                        <button id=\"toggleShareScreenBtn\" className=\"meeting-control btn btn-md btn-light rounded-pill shadow mx-1\" title={translateCap('LiveMeeting.MeetingControls.toggleScreenShare')} onClick={async () => await onToggleShare()}>\r\n                            <i className={`fas fa-desktop ${isLocalSharing ? ' my-text-primary' : ''}`}></i> \r\n                            <span> {isLocalSharing ? translateCap('LiveMeeting.MeetingControls.stopShare') : translateCap('LiveMeeting.MeetingControls.shareScreen')} </span>\r\n                        </button>\r\n                        {this.renderRaiseHand()}\r\n                        <OtherOptionsButton\r\n                            isModerator={self.isModerator}\r\n                            isRoomReady={isRoomReady}\r\n                            isLocalVideoHidden={isLocalVideoHidden}\r\n                            onToggleLocalVideoVisibility={onToggleLocalVideoVisibility}\r\n                            isHandRaised={isHandRaised}\r\n                            // onToggleHand={onToggleHand}\r\n                            recordingState={recordingState}\r\n                            onStartRecording={onStartRecording} \r\n                            onPauseRecording={onPauseRecording} \r\n                            onResumeRecording={onResumeRecording} \r\n                            onStopRecording={onStopRecording}\r\n                            localVideoQuality={localVideoQuality}\r\n                            remoteVideoQuality={remoteVideoQuality}\r\n                            onChangeLocalVideoQuality={onChangeLocalVideoQuality}\r\n                            onChangeRemoteVideoQuality={onChangeRemoteVideoQuality}\r\n                            layoutType={layoutType}\r\n                            onChangeVideoLayout={onChangeVideoLayout}\r\n                        />\r\n                        <button \r\n                            id=\"endMeetingBtn\" \r\n                            className=\"meeting-control btn btn-md btn-danger rounded-circle shadow mx-1\" \r\n                            title={self.isHost ? translateCap('LiveMeeting.MeetingControls.endMeeting') : translateCap('LiveMeeting.MeetingControls.leaveMeeting')} \r\n                            onClick={async () => { await onQuitMeeting() }}>\r\n                            <i className=\"fas fa-times\"></i>\r\n                        </button>\r\n                    </div>\r\n\r\n                    {/* COMMENTED: Meeting is left when leaving tab/window. */}\r\n                    <div className=\"absolute-center center-controls\">\r\n                        <button \r\n                            id=\"endMeetingBtn\" \r\n                            className=\"btn btn-md btn-danger rounded-circle shadow mx-1\" \r\n                            title={self.isHost ? translateCap('LiveMeeting.MeetingControls.endMeeting') : translateCap('LiveMeeting.MeetingControls.leaveMeeting')} \r\n                            onClick={async () => { await onQuitMeeting() }}>\r\n                            <i className=\"fas fa-times\"></i>\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div className=\"absolute-right right-controls mr-2\">\r\n                        <div className=\"btn-group shadow\" role=\"group\" aria-label=\"Participants | Chat\">\r\n                            <button id=\"toggleParticipantsBtn\" className=\"meeting-control btn btn-md btn-light\" title={translateCap('LiveMeeting.participants')} onClick={onToggleParticipantsDrawer}>\r\n                                <i className=\"fas fa-users\"></i>\r\n                                <span> {translateCap('LiveMeeting.participants')} </span>\r\n                            </button>\r\n                            <button id=\"toggleChatBtn\" className=\"meeting-control btn btn-md btn-light border-left\" title={translateCap('LiveMeeting.chat')} onClick={onToggleChatDrawer}>\r\n                                <i className=\"fas fa-comments\"></i>\r\n                                <span> {translateCap('LiveMeeting.chat')} </span>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nMeetingControls.propTypes = {\r\n    self: PropTypes.object.isRequired,\r\n    isRoomReady: PropTypes.bool.isRequired,\r\n    isLocalVideoHidden: PropTypes.bool.isRequired,\r\n    onToggleLocalVideoVisibility: PropTypes.func.isRequired,\r\n    onQuitMeeting: PropTypes.func.isRequired,\r\n    \r\n    onToggleAudio: PropTypes.func.isRequired, \r\n    onToggleVideo: PropTypes.func.isRequired, \r\n    onToggleShareScreen: PropTypes.func.isRequired,\r\n    isLocalSharing: PropTypes.bool.isRequired,\r\n\r\n    recordingState: PropTypes.string.isRequired,\r\n    onStartRecording: PropTypes.func.isRequired, \r\n    onPauseRecording: PropTypes.func.isRequired, \r\n    onResumeRecording: PropTypes.func.isRequired, \r\n    onStopRecording: PropTypes.func.isRequired,\r\n\r\n    isHandRaised: PropTypes.bool.isRequired,\r\n    handRaisesCount: PropTypes.number.isRequired,\r\n    onToggleHand: PropTypes.func.isRequired,\r\n\r\n    localVideoQuality: PropTypes.string.isRequired,\r\n    remoteVideoQuality: PropTypes.string.isRequired,\r\n    onChangeLocalVideoQuality: PropTypes.func.isRequired,\r\n    onChangeRemoteVideoQuality: PropTypes.func.isRequired,\r\n\r\n    layoutType: PropTypes.string,\r\n    onChangeVideoLayout: PropTypes.func.isRequired,\r\n\r\n    onToggleParticipantsDrawer: PropTypes.func.isRequired, \r\n    onToggleChatDrawer: PropTypes.func.isRequired\r\n}\r\n\r\nMeetingControls.defaultProps = {\r\n    self: null,\r\n    isRoomReady: false,\r\n    isLocalVideoHidden: false,\r\n    onToggleLocalVideoVisibility: () => console.log('onToggleLocalVideoVisibility'),\r\n    onQuitMeeting: () => console.log('onQuitMeeting'),\r\n\r\n    onToggleAudio: () => console.log('onToggleAudio'),\r\n    onToggleVideo: () => console.log('onToggleVideo'),\r\n    onToggleShareScreen: () => console.log('onToggleShareScreen'),\r\n    isLocalSharing: false,\r\n\r\n    recordingState: RecordingState.Idle,\r\n    onStartRecording: () => console.log('onStartRecording'),\r\n    onPauseRecording: () => console.log('onPauseRecording'),\r\n    onResumeRecording: () => console.log('onResumeRecording'),\r\n    onStopRecording: () => console.log('onStopRecording'),\r\n\r\n    isHandRaised: false,\r\n    handRaisesCount: 0,\r\n    onToggleHand: () => console.log('onToggleHand'),\r\n\r\n    localVideoQuality: QualityLevel.Low,\r\n    remoteVideoQuality: QualityLevel.Low,\r\n    onChangeLocalVideoQuality: () => console.log('onChangeLocalVideoQuality'),\r\n    onChangeRemoteVideoQuality: () => console.log('onChangeRemoteVideoQuality'),\r\n\r\n    layoutType: undefined,\r\n    onChangeVideoLayout: () => console.log('onChangeVideoLayout'),\r\n\r\n    onToggleParticipantsDrawer: () => console.log('onToggleParticipantsDrawer'),\r\n    onToggleChatDrawer: () => console.log('onToggleChatDrawer')\r\n}\r\n\r\nexport default MeetingControls;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './index.css';\r\nimport { translate, translateCap } from '../../../../i18n/translate';\r\nimport { RecordingState, RecordingStates } from '../../../../utils/constants';\r\n\r\nclass VideoPlayer extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.mouseTimeout = null\r\n        this.videoContainer = React.createRef()\r\n        this.video = React.createRef()\r\n        this.audio = React.createRef()\r\n        this.state = {\r\n            showOverlay: true,\r\n            isFullscreen: false,\r\n            volume: 100\r\n        }\r\n    }\r\n\r\n    componentDidMount = () => {\r\n\r\n        this.videoContainer.current.addEventListener('mousemove', e => {\r\n            this.glimpseOverlay()\r\n        })\r\n\r\n        this.videoContainer.current.addEventListener('fullscreenchange', e => {\r\n            if(document.fullscreenElement) {\r\n                this.setState({ isFullscreen: true })\r\n            }\r\n            else {\r\n                this.setState({ isFullscreen: false })\r\n            }\r\n        })\r\n    }\r\n\r\n    componentWillUnmount = () => {\r\n        this.videoContainer.current.removeEventListener('mousemove', null)\r\n        this.videoContainer.current.removeEventListener('fullscreenchange', null)\r\n    }\r\n\r\n    setVideoStream = (stream) => {\r\n        this.video.current.srcObject = stream\r\n    }\r\n\r\n    setAudioStream = (stream) => {\r\n        this.audio.current.srcObject = stream\r\n    }\r\n\r\n    isFullScreen = () => {\r\n        return this.state.isFullscreen ?? false\r\n    }\r\n\r\n    toggleFullscreen = () => {\r\n        let { isFullscreen } = this.state\r\n\r\n        if(!isFullscreen)\r\n            this.videoContainer.current.requestFullscreen()\r\n        else\r\n            document.exitFullscreen()\r\n    }\r\n\r\n    toggleAudio = () => {\r\n        let { volume } = this.state;\r\n        (volume > 0)\r\n            ? this.setVolume(0)\r\n            : this.setVolume(100);\r\n    }\r\n\r\n    toggleVolume = (e) => {\r\n        this.setVolume(e.target.value);\r\n    }\r\n\r\n    // Volume between 0-100\r\n    setVolume = (volume) => {\r\n        this.audio.current.volume = volume / 100;\r\n        this.setState({ volume });\r\n    }\r\n\r\n    glimpseOverlay = () => {\r\n        this.setState({ showOverlay: true });\r\n        clearTimeout(this.mouseTimeout);\r\n        this.mouseTimeout = setTimeout(() => this.setState({ showOverlay: false }), 2000);\r\n    }\r\n\r\n    render() {\r\n        let { title, showControls } = this.props;\r\n        let { showOverlay, isFullscreen, volume } = this.state;\r\n\r\n        // let hasVideo = false\r\n        // if(this.video && this.video.current && this.video.current.srcObject)\r\n        //     hasVideo = this.video.current.srcObject.getVideoTracks()[0].enabled\r\n\r\n        return (\r\n            <div ref={this.videoContainer} className=\"video-player\" onDoubleClick={() => this.toggleFullscreen()}>\r\n                {\r\n                    !showOverlay ? null :\r\n                        <div className=\"video-player-overlay\">\r\n                            {\r\n                                title ?\r\n                                    <small className=\"video-title px-1 bg-white text-dark rounded shadow-lg\"> \r\n                                        <i className=\"fas fa-info fa-sm\"></i> {title} \r\n                                    </small>\r\n                                    : null\r\n                            }\r\n                            <div className=\"video-controls shadow\">\r\n                            {\r\n                                showControls ?\r\n                                    <>\r\n                                        <button className=\"btn btn-sm border\" onClick={this.toggleAudio}>\r\n                                            <i className={`fas ${(volume > 0) ? 'fa-volume-up' : 'fa-volume-mute'}`}></i>\r\n                                        </button>\r\n                                        <input \r\n                                            id=\"audioSlider\" \r\n                                            type=\"range\"\r\n                                            className=\"mr-1\"\r\n                                            min=\"0\" \r\n                                            max=\"100\" \r\n                                            step=\"1\" \r\n                                            value={volume} \r\n                                            onChange={this.toggleVolume}/>\r\n                                    </>\r\n                                    : null\r\n                            }\r\n                                <button \r\n                                    className=\"btn btn-default btn-sm video-fullscreen border\" \r\n                                    title={isFullscreen ? translateCap('general.exitFullscreen') : translateCap('general.enterFullscreen')} \r\n                                    onClick={this.toggleFullscreen}>\r\n                                {\r\n                                    isFullscreen ?\r\n                                        <i className=\"fas fa-compress-alt\"></i> :\r\n                                        <i className=\"fas fa-expand-alt\"></i>\r\n                                }\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                }\r\n                {\r\n                    // hasVideo ? null :\r\n                    //     <small className=\"absolute-center bg-white text-dark px-1 rounded\">\r\n                    //         <i className=\"fas fa-info fa-sm\"></i> No video {/* Internationalize */}\r\n                    //     </small>\r\n                }\r\n\r\n                <video muted ref={this.video} autoPlay={true} playsInline={true} />\r\n                <audio ref={this.audio} autoPlay={true} playsInline={true} />\r\n                \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nVideoPlayer.propTypes = {\r\n    title: PropTypes.string,\r\n    showControls: PropTypes.bool,\r\n}\r\n\r\nVideoPlayer.defaultProps = {\r\n    title: null,\r\n    showControls: false\r\n}\r\n\r\nexport default VideoPlayer;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './index.css';\r\nimport { RecordingState, RecordingStates } from '../../../../utils/constants';\r\nimport { translateCap } from '../../../../i18n/translate';\r\n\r\nconst RecordingIndicator = ({ recordingState }) => {\r\n    \r\n    if (!recordingState || recordingState === RecordingState.Idle)\r\n        return null;\r\n\r\n    if(recordingState && recordingState === RecordingState.Recording)\r\n        return (\r\n            <div id=\"recording-indicator\">\r\n                <small>\r\n                    <i className=\"fas fa-record-vinyl text-danger\"> {translateCap('LiveMeeting.recording')} </i>\r\n                </small> \r\n            </div>\r\n        )\r\n\r\n    if(recordingState && recordingState === RecordingState.Paused)\r\n        return (\r\n            <div id=\"recording-indicator\">\r\n                <small>\r\n                    <i className=\"fas fa-record-vinyl text-warning\"> {translateCap('LiveMeeting.recordingPaused')} </i>\r\n                </small> \r\n            </div>\r\n        )\r\n}\r\n\r\nRecordingIndicator.propTypes = {\r\n    recordingState: PropTypes.oneOf(RecordingStates)\r\n}\r\n\r\nRecordingIndicator.defaultProps = {\r\n    recordingState: RecordingState.Idle\r\n}\r\n\r\nexport default RecordingIndicator;\r\n","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router';\r\nimport { Prompt } from 'react-router-dom';\r\nimport './index.css';\r\n\r\nimport { waitForMediaReady, initWebexAsync, registerAsync, unregisterAsync, createMeetingAsync, joinMeetingWithMediaAsync, createRoomAsync, getRoomByTitleAsync, createMembershipAsync, removeMembershipAsync, getPersonByIdAsync, createMessageAsync, getRoomByIdAsync, removeMessageAsync, updateMembershipAsync, getAllMembershipsAsync, getAllMessagesAsync } from '../../../../utils/webexConfig';\r\nimport { CustomMessages, ExecutionStep, FileSelectMode, JoinIntent, LayoutTypes, LocalStorageKeys, MaxNumberOfInterventions, MeetingState, ParticipantStatus, QualityLevel, QualityLevels, RecordingState } from '../../../../utils/constants';\r\nimport { confirmation, isLocalStreamAvailable, sleepAsync, sortObjArrayByDateProp_ASC } from '../../../../utils/helpers';\r\nimport { translate, translateCap } from '../../../../i18n/translate';\r\nimport isEqual from 'react-fast-compare';\r\n\r\nimport { Beforeunload } from 'react-beforeunload';\r\nimport Draggable from 'react-draggable';\r\nimport Participants from '../Participants/Participants';\r\nimport Chat from '../Chat/Chat';\r\nimport { notifyHandRaise, notifyMaxNrOfInterventionsExceeded, notifyMutedByOthers, notifyNewMessage } from './notifications';\r\nimport MeetingControls from '../MeetingControls/MeetingControls/MeetingControls';\r\nimport VideoPlayer from '../../../Layout/Shared/VideoPlayer/VideoPlayer';\r\nimport RecordingIndicator from '../RecordingIndicator/RecordingIndicator';\r\n\r\nclass LiveMeeting extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.webex = null\r\n        this.sdkMeeting = null\r\n        this.localVideo = React.createRef()\r\n        this.remoteAudio = React.createRef()\r\n        this.remoteVideo = React.createRef()\r\n        this.localShareStream = null\r\n        this.remoteShareStream = null\r\n        this.screenShare = React.createRef()\r\n\r\n        this.state = {\r\n            isBlocking: true,\r\n            isMeetingReady: false,\r\n            executionStep: ExecutionStep.Loading,\r\n\r\n            self: null,\r\n            selfDetails: null,\r\n            participants: [],\r\n            participantDetails: [],\r\n            handRaises: [],  // Array of: { participantId: '...', timestamp: '...' }\r\n\r\n            isLocalSharing: false,\r\n            isRemoteSharing: false,\r\n\r\n            isLocalVideoHidden: false,\r\n            isParticipantsMenuOpen: false,\r\n\r\n            isChatOpen: false,\r\n            isRoomLoading: false,\r\n            isRoomReady: false,\r\n            isChatDownloading: false,\r\n            roomId: -1,\r\n            memberships: [],\r\n            messages: [],\r\n            senderDetails: []\r\n        }\r\n    }\r\n    \r\n    async componentDidMount() {\r\n        try {\r\n            let sipAddress = localStorage.getItem(LocalStorageKeys.MeetingSipAddress);\r\n            let meetingPassword = localStorage.getItem(LocalStorageKeys.MeetingPassword);\r\n            let token = localStorage.getItem(LocalStorageKeys.CiscoAuthToken);\r\n\r\n            if(!sipAddress || !token) {\r\n                await this.setProgress(0, false, ExecutionStep.MissingInformation);\r\n            }\r\n            else {\r\n                if(!(await isLocalStreamAvailable()))\r\n                    this.setProgress(0, false, ExecutionStep.LocalStreamProblem);\r\n                else\r\n                {\r\n                    await this.setProgress(500, false, ExecutionStep.Initializing);\r\n                    this.webex = await initWebexAsync(token);\r\n        \r\n                    this.webex.once('ready', async () => {\r\n                        if(this.webex.canAuthorize) {\r\n                            try {\r\n                                await unregisterAsync(this.webex);\r\n                                await this.setProgress(500, false, ExecutionStep.Registering);\r\n                                await registerAsync(this.webex);\r\n                                let sdkMeeting = await createMeetingAsync(this.webex, sipAddress);\r\n            \r\n                                if(sdkMeeting) {\r\n                                    await this.setProgress(500, false, ExecutionStep.Joining);\r\n            \r\n                                    this.sdkMeeting = sdkMeeting;\r\n                                    await this.bindMembershipEvents();\r\n                                    await this.bindMeetingEvents(sdkMeeting);\r\n                                    await joinMeetingWithMediaAsync(sdkMeeting, meetingPassword);\r\n                                    this.initChatRoom();\r\n                                    await this.bindMessageEvents();\r\n                                    \r\n                                    await this.setProgress(500, false, ExecutionStep.MeetingReady);\r\n                                    await this.setProgress(0, true);\r\n                                }\r\n                                else {\r\n                                    await this.setProgress(false, ExecutionStep.Failed);\r\n                                }\r\n                            }\r\n                            catch(e) {\r\n                                await this.setProgress(false, ExecutionStep.Failed);\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        }\r\n        catch(err) {\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.leaveMeeting();\r\n    }\r\n\r\n    onWindowClose = (e) => {\r\n        // this.leaveMeeting();\r\n        e.preventDefault();\r\n        return e.returnValue;\r\n    }\r\n\r\n    // componentDidUpdate(prevProps, prevState) {\r\n    //     let { self, handRaises } = this.state;\r\n    //     let activeHandRaises = this.getActiveHandRaisesCount();\r\n\r\n    //     // A piece of code for host, to lower extra hand-raises\r\n    //     if(self && self.isHost && activeHandRaises > MaxNumberOfInterventions) {\r\n\r\n    //         // First, sort handRaises by timestamp\r\n    //         sortObjArrayByDateProp_ASC(handRaises, 'timestamp');\r\n    //         // Lower extra hand-raises based by timestamp ordering\r\n    //         let extraHandRaises = handRaises.slice(10, handRaises.length);\r\n    //         extraHandRaises.forEach(x => {\r\n    //             this.lowerParticipantHand(x.participantId);\r\n    //         })\r\n    //     }\r\n    // }\r\n\r\n    setProgress = async (delay=0, isMeetingReady, executionStep='') => {\r\n        this.setState({ isMeetingReady, executionStep })\r\n        await sleepAsync(delay)\r\n    }\r\n    \r\n    //#region ---------------------------------  Room --------------------------------------------\r\n\r\n    initChatRoom = async () => {\r\n        console.log('-> Executing initChatRoom');\r\n        let sdkMeeting = this.sdkMeeting;\r\n        let title = this.getRoomTitle()\r\n\r\n        let existingHosts = [];\r\n        let self = null;\r\n        let participants = [];\r\n\r\n        if(sdkMeeting) {\r\n            \r\n            let members = sdkMeeting.members.membersCollection.members;\r\n            Object.keys(members).forEach(k => {\r\n                participants.push(members[k]);\r\n                if(members[k].isSelf)\r\n                    self = members[k];\r\n                if(members[k].status === ParticipantStatus.InMeeting && !members[k].isSelf && members[k].isHost)\r\n                    existingHosts.push(members[k]);\r\n            });\r\n            console.log('-> Moderators already in meeting: ', existingHosts);\r\n\r\n            if(self) {\r\n                let room = await getRoomByTitleAsync(this.webex, title)\r\n                if(room) {\r\n                    await this.setRoom(room.id)\r\n                }\r\n                else {\r\n                    if(self.isHost && existingHosts.length === 0) {\r\n                        let room = await createRoomAsync(this.webex, title);\r\n                        let roomMembership = (await getAllMembershipsAsync(this.webex, room.id))[0];\r\n                        roomMembership.isModerator = true;\r\n                        roomMembership = await updateMembershipAsync(this.webex, roomMembership);\r\n\r\n                        if(room)\r\n                            await this.setRoom(room.id, participants);\r\n                    }\r\n                    else {\r\n                        // Do nothing. You are subscribed to 'membership' events: you will get the room there\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Initiates a complex workflow that prepares everything about the chat room.\r\n     * - Loads all the messages  \r\n     * - Processes/transforms the messages. E.x: handRaises history/log. Also, user previously raised the hand, left, and rejoined, the hand is automatically lowered.\r\n     * - Retrieves info about message senders.  \r\n     * Only after those steps are completed, sets the chat as 'ready'\r\n     */\r\n    setRoom = async (roomId, participants) => {\r\n        this.setState({ isRoomLoading: true })\r\n\r\n        let { senderDetails, handRaises, self } = this.state\r\n        let stateMessages = [];\r\n        let authors = [];\r\n\r\n        let messages = await getAllMessagesAsync(this.webex, roomId)\r\n        messages.sort((m1, m2) => new Date(m1.created) - new Date(m2.created))\r\n\r\n        let senderIds = messages.map(m => m.personId).filter((pId, index, personIds) => personIds.indexOf(pId) === index)\r\n        for(let i = 0; i < senderIds.length; i++)\r\n        {\r\n            let sender = senderDetails.filter(s => s.id === senderIds[i])[0]\r\n            if(!sender) {\r\n                sender = await getPersonByIdAsync(this.webex, senderIds[i])\r\n            }\r\n            authors.push(sender)\r\n        }\r\n\r\n        messages.forEach(m => {\r\n            // If is custom, add/remove from handRaises[]\r\n            // Here, we are automatically syncing handRaises, so that even if someone joins later during meeting, he knows who has raised his hand\r\n            if(this.isCustomMessage(m.text)) {\r\n                let customMsg = JSON.parse(m.text);\r\n                if(customMsg.signal === CustomMessages.RaiseHand) {\r\n                    // Only push if participant for whom the hand-raise is, is in-meeting\r\n                    let i = participants?.findIndex(x => x.id === customMsg.forParticipantId && x.status === ParticipantStatus.InMeeting) ?? -1;\r\n                    if(i > -1) \r\n                        handRaises.push({ participantId: customMsg.forParticipantId, timestamp: m.created });\r\n                }\r\n                else {\r\n                    let i = handRaises.findIndex(x => x.participantId === customMsg.forParticipantId);\r\n                    if(i > -1)\r\n                        handRaises.splice(i, 1);\r\n                }\r\n            }\r\n            // If is normal message, add to messages[]\r\n            else {\r\n                let senderName = authors.filter(a => a.id === m.personId)[0]?.displayName ?? m.personEmail\r\n                let stateMessage = this.buildMessage(m.id, m.text, m.created, m.updated, { id: m.personId, name: senderName })\r\n                stateMessages.push(stateMessage)\r\n            }\r\n        })\r\n\r\n        this.setState({ roomId, isRoomLoading: false, isRoomReady: true, messages: stateMessages, senderDetails: authors, handRaises });\r\n\r\n        // Initially, if my hand was raised before (I left with hand raised, and now I'm joining again), lower it.\r\n        // We set state before this piece of code, because information like: 'handRaises', 'roomId' are required by `toggleHand` function to work\r\n        let isHandRaised = handRaises.findIndex(x => x.participantId === self.id) !== -1;\r\n        if(isHandRaised === true)\r\n            this.toggleHand();\r\n    }\r\n\r\n    getRoomTitle = () => {\r\n        let { meetingName, meetingNumber } = this.sdkMeeting.meetingInfo\r\n        let title = `${meetingName} (${meetingNumber})`\r\n        return title;\r\n    }\r\n\r\n    //#endregion\r\n\r\n    //#endregion\r\n\r\n    //#region ---------------------------------  Meeting events ---------------------------------\r\n\r\n    bindMeetingEvents = async (meeting) => {\r\n        console.log(\"-> Executing bindMeetingEvents\");\r\n\r\n        //\r\n        meeting.on('all', (event, payload) => {\r\n            console.log('** Meeting:all ** ', event, payload)\r\n        })\r\n        //\r\n        meeting.on('error', (err) => {\r\n            console.error('** Meeting:error ** ', err);\r\n        })\r\n        //\r\n        meeting.on('DESTROY_MEETING', async (e) => {\r\n            try {\r\n                await this.leaveMeeting()\r\n                this.setProgress(0, false, ExecutionStep.MeetingDestroyed)\r\n                if(this.localVideo.current.isFullScreen() || this.remoteVideo.current.isFullScreen() || this.screenShare.current.isFullScreen())\r\n                    document.exitFullscreen()\r\n            }\r\n            catch(e) {\r\n                console.error(e)\r\n            }\r\n        })\r\n        //\r\n        meeting.on('media:ready', (media) => {\r\n            if (!media) {\r\n                return;\r\n            }\r\n            if (media.type === 'local' || media.type === 'Local') {\r\n                this.localVideo.current.setVideoStream(media.stream)\r\n            }\r\n            if (media.type === 'remoteAudio') {\r\n                this.remoteVideo.current.setAudioStream(media.stream)\r\n            }\r\n            if (media.type === 'remoteVideo') {\r\n                this.remoteVideo.current.setVideoStream(media.stream)\r\n            }\r\n            if (media.type === 'localShare') {\r\n                // this.screenShare.current.setVideoStream(media.stream)\r\n                this.localShareStream = media.stream\r\n            }\r\n            if (media.type === 'remoteShare') {\r\n                // this.screenShare.current.setVideoStream(media.stream)\r\n                this.remoteShareStream = media.stream\r\n            }\r\n        })\r\n        //\r\n        meeting.on('media:stopped', (media) => {\r\n            // Remove media streams\r\n            if (media.type === 'local') {\r\n                if(this.localVideo && this.localVideo.current)\r\n                    this.localVideo.current.setVideoStream(null)\r\n            }\r\n            if (media.type === 'remoteAudio') {\r\n                if(this.remoteVideo && this.remoteVideo.current)\r\n                    this.remoteVideo.current.setAudioStream(null)\r\n            }\r\n            if (media.type === 'remoteVideo') {\r\n                if(this.remoteVideo && this.remoteVideo.current)\r\n                    this.remoteVideo.current.setVideoStream(null)\r\n            }\r\n            if (media.type === 'localShare') {\r\n                if(this.screenShare && this.screenShare.current)\r\n                    this.screenShare.current.setVideoStream(null)\r\n            }\r\n            if (media.type === 'remoteShare') {\r\n                if(this.screenShare && this.screenShare.current)\r\n                    this.screenShare.current.setVideoStream(null)\r\n            }\r\n        })\r\n        //\r\n        meeting.members.on('members:update', async (delta) => {\r\n            let participants = [];\r\n            let self = null;\r\n\r\n            let { full } = delta;\r\n            Object.keys(full).forEach((memberID) => {\r\n                let participant = this.extractMemberInfo(full[memberID]);\r\n                if(participant.isSelf)\r\n                    self = participant;\r\n                participants.push(participant);\r\n            });\r\n            console.log(\"Participants: \", participants);\r\n            this.setState({ participants, self });\r\n            await this.getPersonalInfo()\r\n\r\n            let inMeeting = participants.filter(p => p.status === ParticipantStatus.InMeeting)\r\n            let hostsInMeeting = inMeeting.filter(p => p.isHost)\r\n            let notInMeeting = participants.filter(p => p.status !== ParticipantStatus.InMeeting)\r\n\r\n            this.handleNoHost(inMeeting, self)\r\n            await this.handleInMeeting(inMeeting, hostsInMeeting);\r\n            await this.handleNotInMeeting(notInMeeting, hostsInMeeting);\r\n        })\r\n        //\r\n        meeting.on('meeting:self:mutedByOthers', (e) => {\r\n            notifyMutedByOthers()\r\n        })\r\n        //\r\n        meeting.on('meeting:self:requestedToUnmute', (e) => {\r\n            this.handleUnmuteRequest()\r\n        })\r\n        //\r\n        //#region ScreenShare\r\n        meeting.on('meeting:startedSharingLocal', () => {\r\n            this.screenShare.current.setVideoStream(this.localShareStream)\r\n            this.setState({ isLocalSharing: true })\r\n            \r\n            if(this.localVideo.current.isFullScreen() || this.remoteVideo.current.isFullScreen())\r\n                document.exitFullscreen()\r\n        })\r\n\r\n        meeting.on('meeting:stoppedSharingLocal', () => {\r\n            this.screenShare.current.setVideoStream(null)\r\n            this.setState({ isLocalSharing: false })\r\n\r\n            if(this.screenShare.current.isFullScreen())\r\n                document.exitFullscreen()\r\n        })\r\n\r\n        meeting.on('meeting:startedSharingRemote', () => {\r\n            this.screenShare.current.setVideoStream(this.remoteShareStream)\r\n            this.setState({ isRemoteSharing: true })\r\n\r\n            if(this.localVideo.current.isFullScreen() || this.remoteVideo.current.isFullScreen())\r\n                document.exitFullscreen()\r\n        })\r\n\r\n        meeting.on('meeting:stoppedSharingRemote', () => {\r\n            this.screenShare.current.setVideoStream(null)\r\n            this.setState({ isRemoteSharing: false })\r\n\r\n            if(this.screenShare.current.isFullScreen())\r\n                document.exitFullscreen()\r\n        })\r\n        //#endregion\r\n        //\r\n        //#region Network\r\n        meeting.on('network:disconnected', () => {\r\n            this.setProgress(0, false, ExecutionStep.NetworkDisconnected)\r\n\r\n            if(this.localVideo.current.isFullScreen() || this.remoteVideo.current.isFullScreen() || this.screenShare.current.isFullScreen())\r\n                document.exitFullscreen()\r\n        })\r\n\r\n        meeting.on('meeting:reconnectionStarting', () => {\r\n            this.setProgress(0, false, ExecutionStep.ReconnectionStarting)\r\n        })\r\n\r\n        meeting.on('meeting:reconnectionSuccess', () => {\r\n            this.setProgress(500, false, ExecutionStep.ReconnectionSuccess)\r\n            this.setProgress(0, true)\r\n        })\r\n\r\n        meeting.on('meeting:reconnectionFailure', (e) => {\r\n            // this.setProgress(0, false, e.error.sdkMessage)\r\n            this.setProgress(0, false, ExecutionStep.ReconnectionFailure)\r\n        })\r\n\r\n        meeting.on('network:connected', () => {\r\n            this.setProgress(500, false, ExecutionStep.NetworkConnected)\r\n            this.setProgress(0, true)\r\n        })\r\n        //#endregion\r\n    }\r\n\r\n    unbindMeetingEvents = (meeting) => {\r\n        try {\r\n            meeting.off('all')\r\n            meeting.off('error')\r\n            meeting.off('media:ready')\r\n            meeting.off('media:stopped')\r\n            meeting.off('meeting:startedSharingLocal')\r\n            meeting.off('meeting:stoppedSharingLocal')\r\n            meeting.off('meeting:startedSharingRemote')\r\n            meeting.off('meeting:stoppedSharingRemote')\r\n            meeting.off('meeting:self:mutedByOthers')\r\n            meeting.off('meeting:self:requestedToUnmute')\r\n            meeting.off('members:update')\r\n        }\r\n        catch(e) {\r\n            console.error(e)\r\n        }\r\n    }\r\n\r\n    extractMemberInfo = (member) => {\r\n        let { id, name, isSelf, isHost, isModerator, isAudioMuted, isVideoMuted, isContentSharing, isRecording, isMutable, isRemovable, status } = member;\r\n        let { id: personId } = member.participant.person;\r\n\r\n        let participant = { id, personId, name, isSelf, isHost, isModerator, isAudioMuted, isVideoMuted, isContentSharing, isRecording, isMutable, isRemovable, status };\r\n\r\n        if(participant.status === ParticipantStatus.InMeeting) {\r\n            let { disallowUnmute, requestedToUnmute } = member.participant.controls.audio;\r\n            participant.disallowUnmute = disallowUnmute;\r\n            participant.requestedToUnmute = requestedToUnmute;\r\n        }\r\n\r\n        return participant;\r\n    }\r\n\r\n    getPersonalInfo = async () => {\r\n        let { self, selfDetails } = this.state;\r\n\r\n        if(self && !selfDetails) {\r\n            selfDetails = await getPersonByIdAsync(this.webex, self.personId)\r\n            if(selfDetails)\r\n                this.setState({ selfDetails })\r\n        }\r\n    }\r\n\r\n    handleNoHost = async (inMeeting, self) => {\r\n        let hostsInMeeting = inMeeting.filter(p => p.isHost)\r\n\r\n        if(hostsInMeeting.length === 0) {\r\n            await this.leaveMeeting()\r\n            // if(!self.isHost)\r\n            //     this.setProgress(0, false, translateCap('LiveMeeting.notifications.noHost'))\r\n        }\r\n    }\r\n\r\n    handleInMeeting = async (inMeeting, hostsInMeeting) => {\r\n        let { roomId, memberships, handRaises } = this.state;\r\n        \r\n        let isSelfHost = (hostsInMeeting.filter(p => p.isSelf)[0]) ? true : false\r\n\r\n        // Firsly, check if any member with his hand raised left. In such case, remove him from handRaises[]\r\n        let inMeetingIds = inMeeting.map(im => im.id)\r\n        handRaises.forEach((hr, index) => {\r\n            if(!inMeetingIds.includes(hr.participantId)) {\r\n                handRaises.splice(index, 1)\r\n            }\r\n        })\r\n\r\n        for(let p of inMeeting)\r\n        {\r\n            let participantId = p.id, personId = p.personId, personName = p.name;\r\n\r\n            try {\r\n                // Host(s) responsible for creating memberships\r\n                if(isSelfHost && !p.isSelf) {\r\n                    let membershipExists = memberships.filter(m => m.participantId === participantId)[0]?.membership ? true : false\r\n                    if(!membershipExists) {\r\n                        let membership\r\n                        // 1. Check in the room memberships list if there is\r\n                        membership = (await this.webex.memberships.list({ roomId, personId })).items[0]\r\n                        // 2. If isn't, create it\r\n                        if(!membership) {\r\n                            membership = await createMembershipAsync(this.webex, roomId, personId, false)\r\n                        }\r\n                        let membershipObj = { participantId, membership }\r\n                        memberships.push(membershipObj)\r\n                    }\r\n                }\r\n            } catch {}\r\n        }\r\n\r\n        this.setState({ handRaises, memberships })\r\n    }\r\n\r\n    handleNotInMeeting = async (notInMeeting, hostsInMeeting) => {\r\n        let { roomId, participants, memberships, handRaises } = this.state;\r\n\r\n        let isSelfHost = (hostsInMeeting.filter(p => p.isSelf)[0]) ? true : false\r\n        \r\n        for(let p of notInMeeting)\r\n        {\r\n            let participantId = p.id, personId = p.personId;\r\n\r\n            // Remove from handRaises[] if is there\r\n            let i = handRaises.findIndex(x => x.participantId === participantId);\r\n            if(i > -1)\r\n                handRaises.splice(i, 1);\r\n\r\n            try {\r\n                // Host(s) responsible for removing memberships\r\n                if(isSelfHost && !p.isSelf ) {\r\n                    let participantMembership = memberships.filter(m => m.participantId === participantId)[0]?.membership\r\n                    if(participantMembership) {\r\n                        try {\r\n                            await removeMembershipAsync(this.webex, participantMembership);\r\n                            // Remove from state too\r\n                            let i = memberships.findIndex(m => m.participantId === participantId)\r\n                            memberships.splice(i, 1)\r\n                        } catch(e) {}\r\n                    }\r\n                }\r\n            } catch(e) { }\r\n        }\r\n\r\n        this.setState({ handRaises, memberships })\r\n    }\r\n\r\n    //#endregion\r\n\r\n    //#region ---------------------------------  Membership events ---------------------------------\r\n\r\n    bindMembershipEvents = async () => {\r\n        try {\r\n            await this.webex.memberships.listen();\r\n            console.log('-> Listening for memberships...');\r\n\r\n            // Created event\r\n            this.webex.memberships.on('created', async (event) => {\r\n                try {\r\n                    console.log('New membership');\r\n\r\n                    if(this.state.roomId === -1) {\r\n                        let room = await getRoomByIdAsync(this.webex, event.data.roomId);\r\n                        if(room && room.title === this.getRoomTitle())\r\n                            await this.setRoom(event.data.roomId)\r\n                    }\r\n                }\r\n                catch(err) {\r\n                    console.log('Error in membership:created ', err);\r\n                }\r\n            });\r\n\r\n            // Deleted event\r\n            this.webex.memberships.on('deleted', (event) => {\r\n                try {\r\n                    console.log('-> Deleted membership');\r\n\r\n                    let { roomId, self, selfDetails } = this.state;\r\n                    let { personId } = event.data;\r\n\r\n                    // Make sure the person removed from the room is YOU, not someone else\r\n                    let isMyMembership = (selfDetails && selfDetails.id === personId);\r\n                    let isChatRoom = (roomId === event.data.roomId) ? true : false\r\n\r\n                    if(roomId !== -1 && isMyMembership && isChatRoom) {\r\n                        this.setState({ roomId: -1, isRoomReady: false });\r\n                    }\r\n                }\r\n                catch(err) {\r\n                    console.log('Error in membership:created ', err);\r\n                }\r\n                \r\n            });\r\n        }\r\n        catch(err) {\r\n            console.error('-> Unable to register for membership events: ', err);\r\n        }\r\n    }\r\n\r\n    unbindMembershipEvents = async () => {\r\n        try {\r\n            this.webex.memberships.stopListening()\r\n            this.webex.memberships.off('created')\r\n            this.webex.memberships.off('updated')\r\n            this.webex.memberships.off('deleted')\r\n        }\r\n        catch(e) {\r\n            console.error(e)\r\n        }\r\n    }\r\n\r\n    //#endregion\r\n\r\n    //#region ---------------------------------  Message events ---------------------------------\r\n\r\n    bindMessageEvents = async () => {\r\n        try {\r\n            await this.webex.messages.listen();\r\n            console.log('-> Listening for messages...');\r\n\r\n            //#region Listener: new/edited message\r\n            this.webex.messages.on('created', async (event) => {\r\n                \r\n                let { roomId, messages, self, selfDetails, senderDetails, isChatOpen } = this.state;\r\n\r\n                let isEdit = event.data.updated ? true : false;\r\n                let { id: messageId, text, personId, personEmail, created, updated } = event.data;\r\n                let senderId = event.actorId;\r\n                // Optimization\r\n                let sender = senderDetails.filter(s => s.id === personId)[0];\r\n                if(!sender) {\r\n                    sender = await getPersonByIdAsync(this.webex, personId);\r\n                    senderDetails.push(sender);\r\n                }\r\n                let senderName = sender?.displayName ?? personEmail;\r\n                        \r\n                // Filter the messages related to the chat/room\r\n                if(event.data.roomId === roomId) \r\n                {\r\n                    let isMyMessage = (selfDetails && senderId === selfDetails.id)\r\n\r\n                    if(this.isCustomMessage(text)) {\r\n                        await this.handleCustomMessage(event, sender)\r\n                    }\r\n                    else \r\n                    {\r\n                        if(text !== CustomMessages.RaiseHandLog)\r\n                        {\r\n                            let currentMessage = this.buildMessage(messageId, text, created, updated, { id: senderId, name: senderName });\r\n        \r\n                            //#region New message\r\n                            if(!isEdit) {\r\n                                // Check for duplicate\r\n                                if(messages.findIndex(m => m.id === messageId) === -1) {\r\n                                    messages.push(currentMessage);\r\n                                    if(!isMyMessage && !isChatOpen)\r\n                                        notifyNewMessage()\r\n                                }\r\n                            }\r\n                            //#endregion\r\n    \r\n                            //#region Edited message\r\n                            else {\r\n                                // Custom message edited\r\n                                if(text === CustomMessages.RaiseHandLog) {\r\n                                    messages.push(currentMessage)\r\n                                }\r\n                                else {\r\n                                    let i = messages.findIndex(m => m.id === messageId);\r\n                                    if(i > -1)\r\n                                        messages[i] = currentMessage;\r\n                                }\r\n                            }\r\n                            //#endregion\r\n                        }\r\n    \r\n                        this.setState({ messages, senderDetails });\r\n                    }\r\n                }\r\n            });\r\n            //#endregion\r\n\r\n            //#region Listener: deleted message\r\n            this.webex.messages.on('deleted', (event) => {\r\n                console.log('-> Deleted message');\r\n\r\n                let { roomId, messages } = this.state;\r\n\r\n                // Filter the messages related to the chat/room\r\n                if(event.data.roomId === roomId) {\r\n                    let { id: messageId } = event.data;\r\n                    let i = messages.findIndex(m => m.id === messageId);\r\n                    if(i > -1) {\r\n                        messages.splice(i, 1);\r\n                        this.setState({ messages });\r\n                    }\r\n                }\r\n            });\r\n            //#endregion\r\n        }\r\n        catch(err) {\r\n            console.error('-> Unable to register for message events: ', err);\r\n        }\r\n    }\r\n\r\n    unbindMessageEvents = () => {\r\n        try {\r\n            this.webex.messages.stopListening()\r\n            this.webex.messages.off('created')\r\n            this.webex.messages.off('deleted')\r\n        }\r\n        catch(e) {\r\n            console.error(e)\r\n        }\r\n    }\r\n\r\n    buildMessage = (messageId, text, createdTime, updatedTime, sender) => {\r\n        let author = {\r\n            id: sender?.id ?? 0,\r\n            // avatar: 'https://image.flaticon.com/icons/svg/2446/2446032.svg',\r\n            username: sender?.name ?? 'Unknown'\r\n        };\r\n        let message = {\r\n            id: messageId,\r\n            author,\r\n            text,\r\n            type: 'text',\r\n            timestamp: (new Date(createdTime)).getTime()\r\n        }\r\n\r\n        if(updatedTime)\r\n            message.updated = (new Date(updatedTime)).getTime()\r\n\r\n        return message;\r\n    }\r\n\r\n    isCustomMessage = (text) => {\r\n        try {\r\n            let message = JSON.parse(text);\r\n            if(message.isCustomMessage)\r\n                return true;\r\n            return false;\r\n        }\r\n        catch(err) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    handleCustomMessage = async (event, sender) => {\r\n        /** Workflow:\r\n         * 1. If is a 'raise hand':\r\n         *      - Only add to handRaises if nr. of current active hand-raises hasn't reach max. nr. of interventions\r\n         *      - If is valid hand-raise and it's not yours, display notification\r\n         * 2. If is a 'lower hand', remove from handRaises[] if is there\r\n         */\r\n        let { handRaises, selfDetails, participants } = this.state;\r\n\r\n        let senderId = event.actorId;\r\n        let senderName = sender?.displayName ?? event.data.personEmail\r\n\r\n        let customMessage = JSON.parse(event.data.text);\r\n        let { forParticipantId, signal } = customMessage;\r\n        let isMyMessage = (selfDetails && selfDetails.id === senderId);\r\n\r\n        let i;\r\n        // 1.\r\n        if(signal === CustomMessages.RaiseHand) {\r\n            // A check for duplicate hand-raise\r\n            i = handRaises.findIndex(x => x.participantId === forParticipantId) \r\n            if(i === -1)\r\n                handRaises.push({ participantId: forParticipantId, timestamp: event.created })\r\n            // Showing notifications since it's someone else's hand-raise\r\n            if(!isMyMessage)\r\n                notifyHandRaise(senderName)\r\n        }\r\n        else if(signal === CustomMessages.LowerHand) {\r\n            i = handRaises.findIndex(x => x.participantId === forParticipantId)\r\n            if(i > -1)\r\n                handRaises.splice(i, 1)\r\n        }\r\n        // await this.clearCustomMessage(event); // Now we will store custom messages\r\n        this.setState({ handRaises });\r\n    }\r\n\r\n    clearCustomMessage = async (event) => {\r\n        let { selfDetails } = this.state;\r\n\r\n        let { actorId: senderId } = event;\r\n        let { id: messageId, text } = event.data;\r\n        \r\n        // Means this is MY custom message, so I'm responsible to delete it\r\n        if(selfDetails && senderId === selfDetails.id)\r\n            await removeMessageAsync(this.webex, messageId);\r\n    }\r\n\r\n    sendMessage = async (message) => {\r\n        let { roomId, isRoomReady } = this.state;\r\n        if(roomId !== -1 && isRoomReady)\r\n            await createMessageAsync(this.webex, roomId, message);\r\n    };\r\n\r\n    //#endregion\r\n\r\n    //#region ---------------------------------  My controls ------------------------------------\r\n    \r\n    toggleAudio = async () => {\r\n        try {\r\n            let sdkMeeting = this.sdkMeeting;\r\n            let { self } = this.state;\r\n            if(self) {\r\n                if(self.isAudioMuted) {\r\n                    if(self.disallowUnmute === false) {\r\n                        await sdkMeeting.unmuteAudio();\r\n                    }\r\n                }\r\n                else {\r\n                    await sdkMeeting.muteAudio();\r\n                }\r\n            }\r\n        } catch(e) {\r\n            console.error(e);\r\n        }\r\n    }\r\n\r\n    toggleVideo = async () => {\r\n        try {\r\n            let sdkMeeting = this.sdkMeeting;\r\n            let { self } = this.state;\r\n            if(self) {\r\n                if(self.isVideoMuted)\r\n                    await sdkMeeting.unmuteVideo();\r\n                else\r\n                    await sdkMeeting.muteVideo();\r\n            }\r\n        } catch(e) {\r\n            console.error(e);\r\n        }\r\n    }\r\n\r\n    toggleShareScreen = () => {\r\n        try {\r\n            let sdkMeeting = this.sdkMeeting;\r\n            let { isLocalSharing } = this.state;\r\n    \r\n            if(isLocalSharing) {\r\n                waitForMediaReady(sdkMeeting).then(() => {\r\n                    sdkMeeting.stopShare();\r\n                    this.toggleLocalSharingState();\r\n                })\r\n            }\r\n            else {\r\n                waitForMediaReady(sdkMeeting).then(() => {\r\n                    sdkMeeting.shareScreen()\r\n                        .then(() => {\r\n                            console.info('LOCAL-SHARE-SCREEN: Screen successfully added to meeting.');\r\n                            this.toggleLocalSharingState();\r\n                        })\r\n                        .catch((e) => {\r\n                            console.error('LOCAL-SHARE-SCREEN: Unable to share screen, error:');\r\n                            console.error(e);\r\n                        });\r\n                })\r\n            }\r\n        } catch(e) {\r\n            console.error(e);\r\n        }\r\n    }\r\n\r\n    toggleLocalSharingState = () => {\r\n        let { isLocalSharing } = this.state;\r\n        this.setState({ isLocalSharing: !isLocalSharing });\r\n    }\r\n\r\n    startRecording = async () => {\r\n        try {\r\n            let sdkMeeting = this.sdkMeeting;\r\n            let { state } = sdkMeeting.recording;\r\n    \r\n            if(state === RecordingState.Idle) {\r\n                await sdkMeeting.startRecording();\r\n            }\r\n        } catch(e) {\r\n            console.error(e);\r\n        }\r\n    }\r\n\r\n    pauseRecording = async () => {\r\n        try {\r\n            let sdkMeeting = this.sdkMeeting;\r\n            let { state } = sdkMeeting.recording;\r\n    \r\n            if(state === RecordingState.Recording) {\r\n                await sdkMeeting.pauseRecording();\r\n            }\r\n        } catch(e) {\r\n            console.error(e);\r\n        }\r\n    }\r\n\r\n    resumeRecording = async () => {\r\n        try {\r\n            let sdkMeeting = this.sdkMeeting;\r\n            let { state } = sdkMeeting.recording;\r\n    \r\n            if(state === RecordingState.Paused) {\r\n                await sdkMeeting.resumeRecording();\r\n            }\r\n        } catch(e) {\r\n            console.error(e);\r\n        }\r\n    }\r\n\r\n    stopRecording = async () => {\r\n        try {\r\n            let sdkMeeting = this.sdkMeeting;\r\n            let { state } = sdkMeeting.recording;\r\n    \r\n            if(state === RecordingState.Recording || state === RecordingState.Paused) {\r\n                await sdkMeeting.stopRecording();\r\n            }\r\n        } catch(e) {\r\n            console.error(e);\r\n        }\r\n    }\r\n\r\n    toggleHand = () => {\r\n        let { self, handRaises, participants } = this.state;\r\n        let text = '';\r\n        let isHandRaised = handRaises.findIndex(x => x.participantId === self.id) !== -1;\r\n\r\n        if(isHandRaised)\r\n            text = JSON.stringify({ isCustomMessage: true, forParticipantId: self.id, signal: CustomMessages.LowerHand });\r\n        else\r\n            text = JSON.stringify({ isCustomMessage: true, forParticipantId: self.id, signal: CustomMessages.RaiseHand });\r\n            \r\n        // If it's a hand-raise, make sure maximum nr. of interventions isn't reached\r\n        let activeHandRaises = 0;\r\n        if(!isHandRaised)\r\n            activeHandRaises = this.getActiveHandRaisesCount();\r\n\r\n        try {\r\n            // If it's a hand-raise, and max nr. of interventions is reached, show notification.\r\n            if(!isHandRaised && activeHandRaises >= MaxNumberOfInterventions)\r\n                notifyMaxNrOfInterventionsExceeded();\r\n            else\r\n                this.sendMessage(text);\r\n        } catch(e) {\r\n            console.error(e);\r\n        }\r\n    }\r\n\r\n    toggleLocalVideoQuality = async (quality) => {\r\n        let sdkMeeting = this.sdkMeeting;\r\n\r\n        if(QualityLevels.includes(quality)) {\r\n            try {\r\n                await sdkMeeting.setLocalVideoQuality(quality);\r\n                this.forceUpdate();\r\n            } catch(e) {\r\n                console.error(e);\r\n            }\r\n        }\r\n    }\r\n\r\n    toggleVideoLayout = async (layoutType) => {\r\n        let sdkMeeting = this.sdkMeeting;\r\n\r\n        if(LayoutTypes.includes(layoutType)) {\r\n            try {\r\n                await sdkMeeting.changeVideoLayout(layoutType);\r\n            } catch(e) {\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    toggleRemoteVideoQuality = async (quality) => {\r\n        let sdkMeeting = this.sdkMeeting;\r\n\r\n        if(QualityLevels.includes(quality)) {\r\n            try {\r\n                let res = await sdkMeeting.setRemoteQualityLevel(quality);\r\n            } catch(e) {\r\n                console.error(e);\r\n            }\r\n        }\r\n    }\r\n\r\n    toggleLocalVideoVisibility = () => {\r\n        this.setState({ isLocalVideoHidden: !this.state.isLocalVideoHidden })\r\n    }\r\n\r\n    downloadChat = async () => {\r\n        this.setState({ isChatDownloading: true })\r\n        \r\n        let { roomId, senderDetails } = this.state\r\n        let authors = []\r\n\r\n        try {\r\n            let messages = await getAllMessagesAsync(this.webex, roomId)\r\n            messages.sort((m1, m2) => new Date(m1.created) - new Date(m2.created))\r\n    \r\n            let senderIds = messages.map(m => m.personId).filter((pId, index, personIds) => personIds.indexOf(pId) === index)\r\n            for(let i = 0; i < senderIds.length; i++)\r\n            {\r\n                let sender = senderDetails.filter(s => s.id === senderIds[i])[0]\r\n                if(!sender) {\r\n                    sender = await getPersonByIdAsync(this.webex, senderIds[i])\r\n                }\r\n                authors.push(sender)\r\n            }\r\n    \r\n            let fileName = `Chat - ${this.sdkMeeting.meetingInfo.meetingName}`\r\n            let fileData = '', currentLine = ''\r\n            messages.forEach(m => {\r\n                let message;\r\n                // If is custom message/'raise hand', change text else don't show at all\r\n                if(this.isCustomMessage(m.text)) {\r\n                    let customMsg = JSON.parse(m.text);\r\n                    if(customMsg.signal === CustomMessages.RaiseHand)\r\n                        message = CustomMessages.RaiseHandLog;\r\n                    else\r\n                        return;\r\n                }\r\n                else\r\n                    message = m.text;\r\n\r\n                let senderName = authors.filter(a => a.id === m.personId)[0]?.displayName ?? m.personEmail\r\n                let messageTime = new Date(m.created)\r\n                let timestamp = messageTime.toLocaleDateString() + \" \" + messageTime.toLocaleTimeString()\r\n    \r\n                currentLine = `${senderName} (${timestamp})\\n${message}\\n\\n`\r\n                fileData += currentLine\r\n            });\r\n    \r\n            this.downloadTxtFile(fileName, fileData)\r\n        }\r\n        catch(e) {\r\n            console.error(e);\r\n        }\r\n        finally {\r\n            this.setState({ isChatDownloading: false })\r\n        }\r\n    }\r\n\r\n    downloadTxtFile = (fileName, data) => {        \r\n        let element = document.createElement(\"a\");\r\n        let file = new Blob([data], {type: 'text/plain'});\r\n        element.href = URL.createObjectURL(file);\r\n        element.download = `${fileName}.txt`;\r\n        document.body.appendChild(element); // Required for this to work in FireFox\r\n        element.click();\r\n        element.parentNode.removeChild(element);\r\n    }\r\n\r\n    //#endregion\r\n\r\n    //#region ---------------------------------  Participant controls ---------------------------------\r\n\r\n    toggleParticipantAudio = async (participantId, muted) => {\r\n        let participant = this.state.participants.filter(p => p.id === participantId)[0];\r\n        if(participant) {\r\n            try {\r\n                participant.isSelf ?\r\n                    await this.toggleAudio() :\r\n                    await this.sdkMeeting.mute(participantId, muted);\r\n            } catch(e) {\r\n                console.error(e);\r\n            }\r\n        }\r\n    }\r\n\r\n    lowerParticipantHand = async (participantId) => {\r\n        let text = JSON.stringify({ isCustomMessage: true, forParticipantId: participantId, signal: CustomMessages.LowerHand });\r\n        try {\r\n            await this.sendMessage(text);\r\n        } catch(e) {\r\n            console.error(e);\r\n        }\r\n    }\r\n\r\n    muteAll = async () => {\r\n        let { participants } = this.state;\r\n        let guests = participants.filter(p => p.status === ParticipantStatus.InMeeting && !p.isModerator && !p.isHost && !p.isSelf);\r\n\r\n        await Promise.all(\r\n            guests.map(async p => {\r\n                try {\r\n                    await this.sdkMeeting.mute(p.id, true);\r\n                } catch(e) {\r\n                    console.error(e);\r\n                }\r\n            })\r\n        );\r\n    }\r\n\r\n    unmuteAll = async () => {\r\n        let { participants } = this.state;\r\n        let guests = participants.filter(p => p.status === ParticipantStatus.InMeeting && !p.isModerator && !p.isHost && !p.isSelf);\r\n\r\n        await Promise.all(\r\n            guests.map(async p => {\r\n                try {\r\n                    await this.sdkMeeting.mute(p.id, false);\r\n                } catch(e) {\r\n                    console.error(e);\r\n                }\r\n            })\r\n        );\r\n    }\r\n\r\n    removeParticipant = async (participantId) => {\r\n        try {\r\n            await this.sdkMeeting.remove(participantId);\r\n        } catch(e) {\r\n            console.err(e);\r\n        }\r\n    }\r\n\r\n    makeHost = (participantId) => {\r\n        try {\r\n            this.sdkMeeting.transfer(participantId);\r\n        } catch(e) {\r\n            console.error(e);\r\n        }\r\n    }\r\n\r\n    //#endregion\r\n\r\n    //#region ---------------------------------  Leave/quit ---------------------------------\r\n\r\n    confirmLeave = async () => {\r\n        let { self } = this.state\r\n\r\n        let confirmMsg = translateCap('LiveMeeting.leaveMeetingPrompt')\r\n        if(self && self.isHost)\r\n            confirmMsg = translateCap('LiveMeeting.leaveMeetingPrompt_host')\r\n\r\n        confirmation(confirmMsg, async () => {\r\n            await this.leaveMeeting()\r\n        }, null)\r\n    }\r\n\r\n    leaveMeeting = async () => {\r\n        /* \r\n            In meeting end, if you are the host/moderator:\r\n            1. Stop registration (if registration still active)\r\n            2. Kick everyone out\r\n        */\r\n        try {\r\n            let { self, participants } = this.state\r\n            let inMeeting = participants.filter(p => !p.isSelf && p.status === ParticipantStatus.InMeeting)\r\n            \r\n            if(self.isHost) {\r\n                // 1.\r\n                if(this.sdkMeeting.recording && this.sdkMeeting.recording.state !== RecordingState.Idle)\r\n                    await this.stopRecording()\r\n\r\n                // 2.\r\n                await Promise.all(\r\n                    inMeeting.map(async p => {\r\n                        await this.removeParticipant(p.id);\r\n                    })\r\n                );\r\n            }\r\n        }\r\n        catch(err) {\r\n            console.error(err);\r\n        }\r\n        finally {\r\n            await this.unSubscribeAndLeave()\r\n        }\r\n    }\r\n\r\n    unSubscribeAndLeave = async () => {\r\n        let { self } = this.state\r\n\r\n        this.unbindMembershipEvents();\r\n        this.unbindMessageEvents();\r\n\r\n        let sdkMeeting = this.sdkMeeting;\r\n        if(sdkMeeting && sdkMeeting.meetingState === MeetingState.Active ) {\r\n            try {\r\n                if(self.status === ParticipantStatus.InMeeting) {\r\n                    await sdkMeeting.leave()\r\n                }\r\n            }\r\n            catch(e) {\r\n                console.error(e)\r\n            }\r\n            finally {\r\n                this.unbindMeetingEvents(sdkMeeting)\r\n                await unregisterAsync(this.webex);\r\n\r\n                this.sdkMeeting = null;\r\n                // Clear localStorage\r\n                localStorage.removeItem(LocalStorageKeys.MeetingSipAddress);\r\n                localStorage.removeItem(LocalStorageKeys.CiscoAuthToken);\r\n                localStorage.removeItem(LocalStorageKeys.Language);\r\n                localStorage.removeItem(LocalStorageKeys.JoinIntent);\r\n\r\n                this.setState({ isBlocking: false })\r\n                this.setProgress(0, false, ExecutionStep.MeetingDestroyed);\r\n            }\r\n        }\r\n    }\r\n\r\n    //#endregion\r\n\r\n    //#region ---------------------------------  Utils ---------------------------------\r\n\r\n    getActiveHandRaisesCount = () => {\r\n        let { handRaises, participants } = this.state;\r\n\r\n        let activeHandRaises = 0;\r\n        let inMeeting = participants.filter(x => x.status === ParticipantStatus.InMeeting);\r\n            \r\n        handRaises.forEach(hr => {\r\n            let i = inMeeting.findIndex(x => x.id === hr.participantId);\r\n            if(i > -1)\r\n                activeHandRaises++;\r\n        });\r\n\r\n        return activeHandRaises;\r\n    }\r\n\r\n    //#endregion\r\n\r\n    handleLocalVideoDrag = () => {\r\n        if(this.localVideo && this.localVideo.current)\r\n        {\r\n            this.localVideo.current.glimpseOverlay()\r\n            \r\n            if(this.localVideo.current.isFullScreen())\r\n                return false;\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    handleUnmuteRequest = () => {\r\n        let { self } = this.state\r\n        if(this.sdkMeeting && self.isAudioMuted)\r\n            confirmation(translateCap('LiveMeeting.unmuteRequest'), () => {\r\n                this.sdkMeeting.unmuteAudio();\r\n            }, null);\r\n    }\r\n\r\n    getScreenshareTitle = () => {\r\n        let { isLocalSharing, isRemoteSharing, participants } = this.state\r\n        if(isLocalSharing || isRemoteSharing) {\r\n            let title;\r\n            let sharer = participants.filter(p => p.isContentSharing)[0]\r\n            if(sharer) {\r\n                return sharer.isSelf ?\r\n                    translateCap('LiveMeeting.myScreen') :\r\n                    translateCap('LiveMeeting.otherScreen', { name: sharer.name ?? 'guest' })\r\n            }\r\n        }\r\n        return;\r\n    }\r\n\r\n    render() {\r\n        let meeting = this.sdkMeeting;\r\n        let { isBlocking, isMeetingReady, executionStep, participants, handRaises, self, selfDetails, isLocalSharing, isRemoteSharing, isParticipantsMenuOpen, isLocalVideoHidden, isChatOpen, isRoomLoading, isRoomReady, isChatDownloading, messages } = this.state;\r\n\r\n        let selfId = selfDetails?.id ?? '0';\r\n        let isHandRaised = handRaises.findIndex(x => x.participantId === (self?.id ?? '0')) !== -1;\r\n        let activeHandRaises = this.getActiveHandRaisesCount();\r\n\r\n        let recordingState = (meeting && meeting.recording) ? meeting.recording.state : RecordingState.Idle;\r\n\r\n        let localVideoQuality = meeting?.mediaProperties.localQualityLevel ?? QualityLevel.Low;\r\n        let remoteVideoQuality = meeting?.mediaProperties.remoteQualityLevel ?? QualityLevel.Low;\r\n\r\n        let isContentSharing = (isLocalSharing || isRemoteSharing);\r\n        let screenShareTitle = this.getScreenshareTitle();\r\n\r\n        let layoutType = this.sdkMeeting?.lastVideoLayoutInfo?.layoutType;\r\n\r\n        return (\r\n            <>\r\n                {\r\n                    //#region Meeting overlay\r\n                    isMeetingReady ? null :\r\n                        <div id=\"meeting-initialization-overlay\">\r\n                            <div className=\"w-100 text-center absolute-center\">\r\n                                <i className=\"fas fa-info-circle\"></i> {translateCap(`LiveMeeting.executionSteps.${executionStep}`)}\r\n                                {\r\n                                    (executionStep === ExecutionStep.MeetingDestroyed) ?\r\n                                        <span className=\"d-block mt-2\">\r\n                                            <a href=\"/\" className=\"btn btn-sm my-btn-primary shadow\"> \r\n                                                <i class=\"fas fa-home\"></i> {translateCap('general.goBack')} \r\n                                            </a>\r\n                                        </span>\r\n                                        : null\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    //#endregion\r\n                }\r\n\r\n                <Beforeunload onBeforeunload={this.onWindowClose} />\r\n\r\n                <Prompt\r\n                    when={isBlocking} \r\n                    message={location => {\r\n                        let msg = translateCap('LiveMeeting.leaveMeetingPrompt')\r\n                        if(self && self.isHost)\r\n                            msg = translateCap('LiveMeeting.leaveMeetingPrompt_host')\r\n                        return window.confirm(msg);\r\n                    }}/>\r\n                    \r\n                <div id=\"meeting-streams\" className=\"d-flex justify-content-center flex-wrap\">\r\n\r\n                    <Draggable bounds='parent' onStart={this.handleLocalVideoDrag}>\r\n                        <div id=\"local-video\" className={`shadow-lg ${isLocalVideoHidden ? 'd-none' : ''}`}>\r\n                            <VideoPlayer\r\n                                key='Local video'\r\n                                ref={this.localVideo}\r\n                                title={translateCap('LiveMeeting.localVideo')}\r\n                            />\r\n                        </div>\r\n                    </Draggable>\r\n\r\n                    <div id=\"remote-video\" className={`${isContentSharing ? 'h-50' : 'h-100'}`}>\r\n                        <VideoPlayer\r\n                            key='Remote video'\r\n                            ref={this.remoteVideo}\r\n                            title={translateCap('LiveMeeting.remoteVideo')}\r\n                            showControls={true}\r\n                        />\r\n                    </div>\r\n\r\n                    <div id=\"screenshare-video\" className={`${isContentSharing ? 'd-block' : 'd-none'}`}>\r\n                        <VideoPlayer\r\n                            key='Screenshare'\r\n                            ref={this.screenShare}\r\n                            title={screenShareTitle}\r\n                        />\r\n                    </div>\r\n                        \r\n                </div>\r\n\r\n                {\r\n                    //#region Bottom controls\r\n                    !self ? null :\r\n                        <>\r\n                            <MeetingControls\r\n                                self={self}\r\n                                isRoomReady={isRoomReady}\r\n                                recordingState={recordingState}\r\n                                isLocalVideoHidden={isLocalVideoHidden}\r\n                                onToggleLocalVideoVisibility={this.toggleLocalVideoVisibility}\r\n                                isLocalSharing={isLocalSharing}\r\n                                isHandRaised={isHandRaised}\r\n                                handRaisesCount={activeHandRaises}\r\n                                localVideoQuality={localVideoQuality}\r\n                                remoteVideoQuality={remoteVideoQuality}\r\n                                onChangeLocalVideoQuality={this.toggleLocalVideoQuality}\r\n                                onChangeRemoteVideoQuality={this.toggleRemoteVideoQuality}\r\n                                onChangeVideoLayout={this.toggleVideoLayout}\r\n                                layoutType={layoutType}\r\n                                onToggleAudio={this.toggleAudio}\r\n                                onToggleVideo={this.toggleVideo}\r\n                                onToggleShare={this.toggleShareScreen}\r\n                                onStartRecording={this.startRecording}\r\n                                onPauseRecording={this.pauseRecording}\r\n                                onResumeRecording={this.resumeRecording}\r\n                                onStopRecording={this.stopRecording}\r\n                                onToggleHand={this.toggleHand}\r\n                                onQuitMeeting={async () => { await this.confirmLeave() }}\r\n                                onToggleParticipantsDrawer={() => this.setState({ isParticipantsMenuOpen: !isParticipantsMenuOpen })}\r\n                                onToggleChatDrawer={() => this.setState({ isChatOpen: !isChatOpen })}\r\n                            />\r\n\r\n                            <Participants\r\n                                id=\"participants-drawer\"\r\n                                isModerator={self.isModerator}\r\n                                participants={participants}\r\n                                handRaises={handRaises}\r\n                                isOpen={isParticipantsMenuOpen}\r\n                                onClose={() => this.setState({ isParticipantsMenuOpen: false })}\r\n                                onMuteAll={this.muteAll}\r\n                                onUnmuteAll={this.unmuteAll}\r\n                                onLowerHand={this.lowerParticipantHand}\r\n                                onToggleAudio={this.toggleParticipantAudio}\r\n                                onRemove={this.removeParticipant}\r\n                                onMakeHost={this.makeHost}\r\n                            />\r\n\r\n                            <Chat\r\n                                id=\"chat-drawer\"\r\n                                userId={selfId}\r\n                                self={self}\r\n                                messages={messages}\r\n                                fileSelectMode={FileSelectMode.Disabled}\r\n                                placeholder={translateCap('LiveMeeting.Chat.writeMessage')}\r\n                                timestampFormat=\"h:mm:ss a\"\r\n                                isOpen={isChatOpen}\r\n                                isLoading={isRoomLoading}\r\n                                isReady={isRoomReady}\r\n                                isChatDownloading={isChatDownloading}\r\n                                onClose={() => this.setState({ isChatOpen: false })}\r\n                                onSendMessage={async (message) => await this.sendMessage(message)}\r\n                                onDownloadChat={this.downloadChat}\r\n                            />\r\n                        </>\r\n                    //#endregion\r\n                }\r\n\r\n                <RecordingIndicator recordingState={recordingState} />\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(LiveMeeting);\r\n","import { Flip, toast } from \"react-toastify\"\r\nimport { translateCap } from \"../../../../i18n/translate\";\r\n\r\nexport const notifyHandRaise = (handRaiser) => {\r\n    toast(` ${handRaiser}`, {\r\n        transition: Flip,\r\n        position: 'top-right',\r\n        autoClose: 3000\r\n    });\r\n}\r\n\r\nexport const notifyNewMessage = () => {\r\n    toast(` ${translateCap('notifications.newMessage')}`, {\r\n        transition: Flip,\r\n        position: 'top-right',\r\n        autoClose: 3000,\r\n        toastId: 'fcd8f4b2-0c05-4c2b-b87d-5ed7d29e5da0'\r\n    });\r\n}\r\n\r\nexport const notifyMutedByOthers = () => {\r\n    toast(` ${translateCap('notifications.mutedByOthers')}`, {\r\n        transition: Flip,\r\n        position: 'top-right',\r\n        autoClose: 3000,\r\n        toastId: 'fcd8f4b2-0c05-4c2b-b87d-5ed7d29e5da0'\r\n    });\r\n}\r\n\r\nexport const notifyMeetingDestroyed = () => {\r\n    toast.warning(translateCap('notifications.meetingDestroyed'), {\r\n        transition: Flip,\r\n        position: 'top-right',\r\n        autoClose: 5000,\r\n        toastId: '0edd9dea-62d4-479f-beda-5b8e8b2c7077'\r\n    });\r\n}\r\n\r\nexport const notifyNoHost = () => {\r\n    toast.warning(translateCap('notifications.noHost'), {\r\n        transition: Flip,\r\n        position: 'top-right',\r\n        autoClose: 5000,\r\n        toastId: 'a73045c0-731e-4620-bf8d-5010e25763f2'\r\n    });\r\n}\r\n\r\nexport const notifyMaxNrOfInterventionsExceeded = () => {\r\n    toast.warning(translateCap('notifications.maxHandRaiseReached'), {\r\n        transition: Flip,\r\n        position: 'top-right',\r\n        autoClose: 3000,\r\n        toastId: '4bc3761a-396c-4490-9258-b4999d8afe6c'\r\n    });\r\n}","// Errors\r\nexport const GET_ERRORS = \"GET_ERRORS\";\r\nexport const GET_ERROR_OBJECT = \"GET_ERROR_OBJECT\";\r\nexport const CLEAR_ERRORS = \"CLEAR_ERRORS\";\r\n\r\n// Webex instance\r\nexport const SET_WEBEX_INSTANCE = \"SET_WEBEX_INSTANCE\";\r\n\r\n// People\r\nexport const GET_PERSONAL_DETAILS = \"GET_PERSONAL_DETAILS\";\r\nexport const PERSONAL_DETAILS_LOADING = \"PERSONAL_DETAILS_LOADING\";\r\n\r\n// Meeting preferences\r\nexport const GET_MEETING_PREFERENCES = \"GET_MEETING_PREFERENCES\";\r\nexport const MEETING_PREFERENCES_LOADING = \"MEETING_PREFERENCES_LOADING\";\r\n\r\n// Meetings\r\nexport const GET_MEETINGS = \"GET_MEETINGS\";\r\nexport const MEETINGS_LOADING = \"MEETINGS_LOADING\";\r\nexport const DELETE_MEETING = \"DELETE_MEETING\";\r\n\r\nexport const GET_MEETING = \"GET_MEETING\";\r\nexport const MEETING_LOADING = \"MEETING_LOADING\";\r\n\r\n// Invitees\r\nexport const GET_INVITEES = \"GET_INVITEES\";\r\nexport const INVITEES_LOADING = \"INVITEES_LOADING\";\r\nexport const ADD_INVITEE = \"ADD_INVITEE\";\r\nexport const DELETE_INVITEE = \"DELETE_INVITEE\";","import { CLEAR_ERRORS, GET_ERRORS } from './types';\r\n\r\nexport const clearErrors = () => dispatch => {\r\n    dispatch({ type: CLEAR_ERRORS });\r\n};\r\n\r\nexport const setError = (error) => dispatch => {\r\n    dispatch({\r\n        type: GET_ERRORS,\r\n        payload: [error]\r\n    })\r\n}\r\n\r\nexport const setErrors = (errors) => dispatch => {\r\n    dispatch({\r\n        type: GET_ERRORS,\r\n        payload: errors\r\n    })\r\n}","import { GET_PERSONAL_DETAILS, PERSONAL_DETAILS_LOADING } from './types';\r\nimport { setError, setErrors } from './errorActions';\r\nimport axios from 'axios';\r\n\r\nexport const getPersonalDetails = () => dispatch => {\r\n\r\n    dispatch(setPersonalDetailsLoading(true));\r\n    axios.get(`https://webexapis.com/v1/people/me`)\r\n        .then(res => {\r\n            let status = res.status;\r\n            // Ok\r\n            if(status === 200 || status === 204) {\r\n                let personalDetails = res.data\r\n                dispatch({\r\n                    type: GET_PERSONAL_DETAILS,\r\n                    payload: personalDetails\r\n                });\r\n            }\r\n            // Not ok\r\n            else {\r\n                let errors = res.data;\r\n                dispatch(setErrors(errors));\r\n            }\r\n            \r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n            dispatch(setError('An error occurred.'));\r\n        })\r\n        .finally(() => {\r\n            dispatch(setPersonalDetailsLoading(false));\r\n        });\r\n}\r\n\r\nexport const setPersonalDetailsLoading = (isLoading) => dispatch => {\r\n    dispatch({ type: PERSONAL_DETAILS_LOADING, payload: isLoading });\r\n}","import { GET_MEETING_PREFERENCES, MEETING_PREFERENCES_LOADING } from './types';\r\nimport { setError, setErrors } from './errorActions';\r\nimport axios from 'axios';\r\n\r\nexport const getMeetingPreferences = () => dispatch => {\r\n    \r\n    dispatch(setMeetingPreferencesLoading(true));\r\n    axios.get(`https://webexapis.com/v1/meetingPreferences`)\r\n        .then(res => {\r\n            let status = res.status;\r\n            // Ok\r\n            if(status === 200 || status === 204) {\r\n                let meetingPreferences = res.data;\r\n                dispatch({ \r\n                    type: GET_MEETING_PREFERENCES, \r\n                    payload: meetingPreferences \r\n                });\r\n            }\r\n            // Not ok\r\n            else {\r\n                let errors = res.data;\r\n                setErrors(errors);\r\n            }\r\n            \r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n            dispatch(setError('An error occurred.'));\r\n        })\r\n        .finally(() => {\r\n            dispatch(setMeetingPreferencesLoading(false));\r\n        });\r\n}\r\n\r\nexport const setMeetingPreferencesLoading = (isLoading) => dispatch => {\r\n    dispatch({ type: MEETING_PREFERENCES_LOADING, payload: isLoading });\r\n}","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { getPersonalDetails } from '../../redux/actions/peopleActions';\r\nimport { getMeetingPreferences } from '../../redux/actions/meetingPreferencesActions';\r\n\r\nimport BeatLoader from \"react-spinners/BeatLoader\";\r\nimport {CopyToClipboard} from 'react-copy-to-clipboard';\r\n\r\nclass PersonalInfo extends Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            copied: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.getPersonalDetails();\r\n        this.props.getMeetingPreferences();\r\n    }\r\n    \r\n    copiedToClipboard() {\r\n        this.setState({ copied: true });\r\n        setTimeout(\r\n            () => this.setState({ copied: false }), \r\n            3000\r\n          )\r\n    }\r\n\r\n    render() {\r\n        let { copied } = this.state;\r\n        let { personalDetails, isPersonalDetailsLoading, personalRoom, isPersonalRoomLoading } = this.props;\r\n        return (\r\n            <div className=\"row p-2 border-bottom shadow\">\r\n                <div className=\"col-12\">\r\n                    {\r\n                        isPersonalDetailsLoading === true ?\r\n                            <BeatLoader color=\"#00a0d1\" loading={isPersonalDetailsLoading} size={10} />\r\n                            :\r\n                            <>\r\n                                <span className=\"dot bg-success\"></span> <b> {personalDetails.displayName} </b>\r\n                                <small className=\"d-block\">\r\n                                    {\r\n                                        isPersonalRoomLoading === true ?\r\n                                            <BeatLoader color=\"#00a0d1\" loading={isPersonalRoomLoading} size={10} />\r\n                                            :\r\n                                            <>\r\n                                                <i className=\"mx-2\">{personalRoom.personalMeetingRoomLink}</i>\r\n                                                <CopyToClipboard text={personalRoom.personalMeetingRoomLink} onCopy={() => this.copiedToClipboard()}>\r\n                                                    <>\r\n                                                        <i className=\"far fa-copy cursor-pointer\" title=\"Copy\"></i> {/* Internationalization */}\r\n                                                    </>\r\n                                                </CopyToClipboard>\r\n                                            </>\r\n                                    }\r\n                                    {\r\n                                        copied ?\r\n                                            <>\r\n                                                <small className=\"text-muted\"> (Copied) </small> {/* Internationalization */}\r\n                                            </>\r\n                                            : null\r\n                                    }\r\n                                </small>\r\n                            </>\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nPersonalInfo.propTypes = {\r\n    personalDetails: PropTypes.object.isRequired,\r\n    isPersonalDetailsLoading: PropTypes.bool.isRequired,\r\n    personalRoom: PropTypes.object.isRequired,\r\n    isMeetingPreferencesLoading: PropTypes.bool.isRequired,\r\n    errors: PropTypes.array\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    personalDetails: state.peopleReducer.personalDetails,\r\n    isPersonalDetailsLoading: state.peopleReducer.isPersonalDetailsLoading,\r\n    personalRoom: state.meetingPreferencesReducer.personalRoom,\r\n    isMeetingPreferencesLoading: state.meetingPreferencesReducer.isMeetingPreferencesLoading,\r\n    errors: state.errorsReducer.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getPersonalDetails, getMeetingPreferences })(PersonalInfo);\r\n","import { GET_MEETINGS, MEETINGS_LOADING, DELETE_MEETING, GET_MEETING, MEETING_LOADING } from './types';\r\nimport { clearErrors, setError, setErrors } from './errorActions';\r\nimport axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\n\r\nimport { getMinutesDiff, scrollToTop } from '../../utils/helpers';\r\nimport { join_before_host_minutes } from '../../utils/constants';\r\n\r\nexport const getUpcomingMeetings = () => dispatch => {\r\n    \r\n    dispatch(setMeetingsLoading(true));\r\n    axios.get('https://webexapis.com/v1/meetings')\r\n        .then(res => {\r\n            let status = res.status;\r\n            // Ok\r\n            if(status === 200 || status === 204) {\r\n                let meetings = res.data.items;\r\n                let sortedMeetings = meetings.sort((a, b) => b.start - a.start);\r\n                dispatch({ type: GET_MEETINGS, payload: sortedMeetings });\r\n            }\r\n            // Not ok\r\n            else {\r\n                dispatch(setErrors(res.data));\r\n            }\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n            dispatch(setError('An error occurred.'));\r\n        })\r\n        .finally(() => {\r\n            dispatch(setMeetingsLoading(false));\r\n        })\r\n}\r\n\r\nexport const setMeetingsLoading = (isLoading) => dispatch => {\r\n    dispatch({ type: MEETINGS_LOADING, payload: isLoading });\r\n}\r\n\r\nexport const getMeetingById = (meetingId) => dispatch => {\r\n\r\n    dispatch(setMeetingLoading(true));\r\n    axios.get(`https://webexapis.com/v1/meetings/${meetingId}`)\r\n        .then(res => {\r\n            let status = res.status;\r\n            // Ok\r\n            if(status === 200 || status === 204) {\r\n                let meeting = res.data;\r\n                dispatch({ type: GET_MEETING, payload: meeting });\r\n            }\r\n            // Not ok\r\n            else {\r\n                let error = res.data;\r\n                dispatch(setErrors(error));\r\n            }\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n            dispatch(setError('An error occurred while getting meeting information.'));\r\n        })\r\n        .finally(() => {\r\n            dispatch(setMeetingLoading(false));\r\n        })\r\n}\r\n\r\nexport const setMeetingLoading = (isLoading) => dispatch => {\r\n    dispatch({ type: MEETING_LOADING, payload: isLoading });\r\n}\r\n\r\nexport const deleteMeeting = (meetingId) => (dispatch, getState) => {\r\n\r\n    let meeting = getState().meetingsReducer.meetings.find(m => m.id === meetingId);\r\n    axios.delete(`https://webexapis.com/v1/meetings/${meetingId}`)\r\n        .then(res => {\r\n            let status = res.status;\r\n            // Ok\r\n            if(status === 200 || status === 204) {\r\n                dispatch({\r\n                    type: DELETE_MEETING,\r\n                    payload: meetingId\r\n                });\r\n                toast.info(`Meeting \"${meeting.title}\" was deleted successfully.`); // Internationalization\r\n            }\r\n            // Not ok\r\n            else {\r\n                dispatch(setErrors(res.data));\r\n            }\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n            dispatch(setError('An error occurred.'));\r\n        });\r\n}\r\n\r\nexport const addMeeting = (newMeeting, history) => dispatch => {\r\n\r\n    axios.post('https://webexapis.com/v1/meetings', newMeeting)\r\n        .then(res => {\r\n            let statusCode = res.status;\r\n            // Response: Ok\r\n            if(statusCode === 200 || statusCode === 204) {\r\n                toast.success(\"Meeting created successfully.\"); // Internationalization\r\n                history.push(\"/\");\r\n                dispatch(clearErrors());\r\n            }\r\n            // Response: Not ok\r\n            else if(statusCode >= 400) {\r\n                let error = res.data;\r\n                scrollToTop();\r\n                dispatch(setErrors(error));\r\n            }\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n            scrollToTop();\r\n            dispatch(setError(err.response.data.message));\r\n        });\r\n}\r\n\r\nexport const updateMeeting = (meetingId, updatedMeeting, history) => dispatch => {\r\n\r\n    axios.put(`https://webexapis.com/v1/meetings/${meetingId}`, updatedMeeting)\r\n    .then(res => {\r\n        let statusCode = res.status;\r\n        // Response: Ok\r\n        if(statusCode === 200 || statusCode === 204) {\r\n            toast.success('Meeting updated successfully.'); // Internationalization\r\n            history.push(\"/\");\r\n        }\r\n        // Response: Not ok\r\n        else if(statusCode >= 400) {\r\n            let error = res.data;\r\n            setErrors(error);\r\n        }\r\n    })\r\n    .catch(err => {\r\n        console.log(err);\r\n        dispatch(setError(err.response.data.message));\r\n    });\r\n}","import React, { Component } from 'react';\r\nimport {CopyToClipboard} from 'react-copy-to-clipboard';\r\nimport { Link, withRouter } from 'react-router-dom';\r\n\r\nimport { confirmation } from '../../utils/helpers';\r\nimport { token } from '../../utils/secrets';\r\n\r\nclass MeetingListItem extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            meetingId_clipboard: false,\r\n            meetingNumber_clipboard: false,\r\n            meetingSipAddress_clipboard: false,\r\n            meetingLink_clipboard: false\r\n        }\r\n    }\r\n\r\n    copiedToClipboard(targetName) {\r\n        Object.keys(this.state).filter(p => p.includes('_clipboard')).forEach(k => {\r\n            if(k !== targetName)\r\n                this.setState({ [k]: false });\r\n        })\r\n        this.setState({ [targetName]: true });\r\n        setTimeout(\r\n            () => this.setState({ [targetName]: false }), \r\n            3000\r\n          )\r\n    }\r\n\r\n    startMeeting = (sipAddress) => {\r\n        /* Internationalization */\r\n        confirmation('You are about to start this meeting. Continue?', () => {\r\n            localStorage.setItem('meetingSipAddress', sipAddress)\r\n            localStorage.setItem('ciscoAuthToken', token)\r\n            this.props.history.push('/riunioneWebex/meetings/live');\r\n        }, null);\r\n    }\r\n\r\n    goToEditPage = (meetingId) => {\r\n        localStorage.setItem('ciscoAuthToken', token);\r\n        localStorage.setItem('webexMeetingId', meetingId);\r\n        this.props.history.push('/riunioneWebex/riunione/modifica');\r\n    }\r\n\r\n    render() {\r\n        let { meeting } = this.props;\r\n        let { meetingId_clipboard, meetingNumber_clipboard, meetingSipAddress_clipboard, meetingLink_clipboard } = this.state;\r\n        return (\r\n            <div className=\"col-12 p-0 my-1\">\r\n                <div className=\"card\">\r\n                    <div className=\"card-header p-0\">\r\n                        <button className=\"btn btn-sm text-danger float-right\" onClick={() => this.props.onDelete(meeting.id)}>\r\n                            <i className=\"fas fa-trash-alt\" title=\"Delete\"></i> {/* Internationalization */}\r\n                        </button>\r\n                        <button className=\"btn btn-sm text-secondary float-right\" onClick={() => this.goToEditPage(meeting.id)}>\r\n                            <i className=\"fas fa-edit\" title=\"Edit\"></i> {/* Internationalization */}\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"card-body p-2\">\r\n                        <h5 className=\"card-title\"> {meeting.title} </h5>\r\n                        <span className=\"d-block border-bottom mb-2\">\r\n                            <b> {(new Date(meeting.start)).toLocaleString()} </b> - <b> {(new Date(meeting.end)).toLocaleString()} </b>\r\n                        </span>\r\n                        <span className=\"d-block\">\r\n                            Meeting id: {meeting.id} \r\n                            <CopyToClipboard text={meeting.id} onCopy={() => this.copiedToClipboard('meetingId_clipboard')}>\r\n                                <i className=\"ml-1 far fa-copy cursor-pointer\" title=\"Copy\"> {/* Internationalization */} </i>\r\n                            </CopyToClipboard>\r\n                            {\r\n                                meetingId_clipboard ?\r\n                                    <small className=\"text-muted\"> (Copied) {/* Internationalization */} </small> \r\n                                    : null\r\n                            }\r\n                        </span>\r\n                        <span className=\"d-block\">\r\n                            Meeting number: {meeting.meetingNumber} {/* Internationalization */}\r\n                            <CopyToClipboard text={meeting.meetingNumber} onCopy={() => this.copiedToClipboard('meetingNumber_clipboard')}>\r\n                                <i className=\"ml-1 far fa-copy cursor-pointer\" title=\"Copy\"> {/* Internationalization */} </i>\r\n                            </CopyToClipboard>\r\n                            {\r\n                                meetingNumber_clipboard ?\r\n                                    <small className=\"text-muted\"> (Copied) {/* Internationalization */} </small> \r\n                                    : null\r\n                            }\r\n                        </span>\r\n                        <span className=\"d-block\">\r\n                            Sip Address: {meeting.sipAddress}\r\n                            <CopyToClipboard text={meeting.sipAddress} onCopy={() => this.copiedToClipboard('meetingSipAddress_clipboard')}>\r\n                                <i className=\"ml-1 far fa-copy cursor-pointer\" title=\"Copy\"> {/* Internationalization */} </i>\r\n                            </CopyToClipboard>\r\n                            {\r\n                                meetingSipAddress_clipboard ?\r\n                                    <small className=\"text-muted\"> (Copied) {/* Internationalization */} </small> \r\n                                    : null\r\n                            }\r\n                        </span>\r\n                        <span className=\"d-block\">\r\n                            Meeting link: <i> {meeting.webLink} </i> {/* Internationalization */}\r\n                            <CopyToClipboard text={meeting.webLink} onCopy={() => this.copiedToClipboard('meetingLink_clipboard')}>\r\n                                <i className=\"ml-1 far fa-copy cursor-pointer\" title=\"Copy\"> {/* Internationalization */} </i> \r\n                            </CopyToClipboard>\r\n                            {\r\n                                meetingLink_clipboard ?\r\n                                    <small className=\"text-muted\"> (Copied)  </small>\r\n                                    : null\r\n                            }\r\n                        </span>\r\n                        <div className=\"text-right\">\r\n                            <Link to={`meetings/${meeting.id}/details`} className=\"btn btn-sm btn-info\"> \r\n                                <i className=\"fas fa-info-circle\"></i> Details {/* Internationalization */}\r\n                            </Link>\r\n                            <button className=\"btn btn-sm btn-success ml-2 \" onClick={() => this.startMeeting(meeting.sipAddress)}> \r\n                                <i className=\"fas fa-sign-in-alt\"></i> Start meeting {/* Internationalization */}\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(MeetingListItem);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction Refresh(props) {\r\n    let { size, color, className, tooltip } = props;\r\n    return (\r\n        <button className={`btn btn-${size} btn-${color} ${className}`} title={tooltip} onClick={props.onClick}>\r\n            <i className=\"fas fa-sync-alt\"></i>\r\n        </button>\r\n    );\r\n}\r\n\r\nRefresh.propTypes = {\r\n    size: PropTypes.string,\r\n    color: PropTypes.string,\r\n    className: PropTypes.string,\r\n    tooltip: PropTypes.string\r\n}\r\n\r\nRefresh.defaultProps = {\r\n    size: 'md',\r\n    color: 'primary',\r\n    className: '',\r\n    tooltip: 'Refresh'\r\n}\r\n\r\nexport default Refresh;","import React, { Component } from 'react';\r\nimport { Link, Redirect, withRouter } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { getUpcomingMeetings, deleteMeeting } from '../../redux/actions/meetingsActions';\r\n\r\nimport BeatLoader from \"react-spinners/BeatLoader\";\r\nimport MeetingListItem from './MeetingListItem';\r\nimport { confirmation } from './../../utils/helpers';\r\nimport { token } from './../../utils/secrets';\r\nimport Refresh from '../Layout/Shared/Refresh/Refresh';\r\n\r\nclass MeetingList extends Component {\r\n\r\n    componentDidMount() {\r\n        this.props.getUpcomingMeetings();\r\n    }\r\n\r\n    goToSchedulePage = () => {\r\n        localStorage.setItem('ciscoAuthToken', token)\r\n        this.props.history.push(\"/riunioneWebex/schedule\")\r\n    }\r\n\r\n    onDeleteMeeting = (meetingId) => {\r\n        /* Internationalization */\r\n        confirmation('Are you sure you want to delete this meeting?', () => {\r\n            this.props.deleteMeeting(meetingId);\r\n        }, null);\r\n    }\r\n\r\n    render() {\r\n        let { meetings, isMeetingsLoading } = this.props;\r\n        return (\r\n            <div id=\"meetings\">\r\n                <div className=\"row mt-2 p-2\">\r\n                    <div className=\"col-12\">\r\n                        <h4 className=\"d-inline-block\"> Meetings </h4>\r\n                        <Refresh color=\"primary\" size=\"sm\" className=\"float-right ml-1\" onClick={() => this.props.getUpcomingMeetings()} />\r\n                        <button className=\"btn btn-sm btn-primary float-right\" onClick={this.goToSchedulePage}> \r\n                            <i className=\"fas fa-plus-square\"></i> Schedule\r\n                        </button>\r\n                        <div className=\"col-12 p-0\">\r\n                        {\r\n                            isMeetingsLoading === true ?\r\n                                <div className=\"d-block text-center\">\r\n                                    <BeatLoader color=\"#007bff\" loading={isMeetingsLoading} size={15} />\r\n                                </div>\r\n                                :\r\n                                (meetings && meetings.length > 0) ?\r\n                                    meetings.map((m, i) => <MeetingListItem key={i} meeting={m} onDelete={this.onDeleteMeeting} /> )\r\n                                    :\r\n                                    <div className=\"col-12 p-0 mt-3\">\r\n                                        <div className=\"alert alert-primary\" role=\"alert\">\r\n                                            <i className=\"fas fa-info-circle\"></i> No upcoming meetings.\r\n                                        </div>\r\n                                    </div>        \r\n                        }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nMeetingList.propTypes = {\r\n    meetings: PropTypes.array.isRequired,\r\n    isMeetingsLoading: PropTypes.bool.isRequired,\r\n    errors: PropTypes.array\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    meetings: state.meetingsReducer.meetings,\r\n    isMeetingsLoading: state.meetingsReducer.isMeetingsLoading,\r\n    errors: state.errorsReducer.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getUpcomingMeetings, deleteMeeting })(withRouter(MeetingList));\r\n","import React, { Component } from 'react'\r\nimport PersonalInfo from '../../components/Personal/PersonalInfo';\r\nimport MeetingList from '../../components/Meetings/MeetingList';\r\n\r\nclass MeetingsPage extends Component {\r\n\r\n    componentDidMount() {\r\n        // Do something\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"transition-page\">\r\n                <PersonalInfo />\r\n                <MeetingList />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default MeetingsPage;","import { ADD_INVITEE, DELETE_INVITEE, GET_INVITEES, INVITEES_LOADING } from './types';\r\nimport { setError, setErrors } from './errorActions';\r\nimport axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\n\r\nexport const getInvitees = (meetingId) => dispatch => {\r\n\r\n    dispatch(setInviteesLoading(true));\r\n    axios.get(`https://webexapis.com/v1/meetingInvitees?meetingId=${meetingId}`)\r\n        .then(res => {\r\n            let status = res.status;\r\n            // Ok\r\n            if(status === 200 || status === 204) {\r\n                let invitees = res.data.items;\r\n                dispatch({ type: GET_INVITEES, payload: invitees });\r\n            }\r\n            // Not ok\r\n            else {\r\n                let error = res.data;\r\n                dispatch(setErrors(error));\r\n            }\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n            dispatch(setError('An error occurred.'));\r\n        })\r\n        .finally(() => {\r\n            dispatch(setInviteesLoading(false));\r\n        });\r\n}\r\n\r\nexport const setInviteesLoading = (isLoading) => dispatch => {\r\n    dispatch({ type: INVITEES_LOADING, payload: isLoading });\r\n}\r\n\r\nexport const addInvitee = (newInvitee) => dispatch => {\r\n\r\n    axios.post('https://webexapis.com/v1/meetingInvitees', newInvitee)\r\n        .then(res => {\r\n            let status = res.status;\r\n            // Ok\r\n            if(status === 200 || status === 204) {\r\n                let invitee = res.data;\r\n                dispatch({ type: ADD_INVITEE, payload: invitee });\r\n                toast.success(`${newInvitee.email} was successfully invited.`); // Internationalization\r\n            }\r\n            // Not ok\r\n            else {\r\n                let error = res.data;\r\n                setErrors(error)\r\n            }\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n            dispatch(setError('An error occurred.'));\r\n        });\r\n}\r\n\r\nexport const deleteInvitee = (inviteeId) => (dispatch, getState) => {\r\n    let invitee = getState().inviteesReducer.current_invitees.find(i => i.id === inviteeId);\r\n\r\n    axios.delete(`https://webexapis.com/v1/meetingInvitees/${inviteeId}`)\r\n        .then(res => {\r\n            let status = res.status;\r\n            // Ok\r\n            if(status === 200 || status === 204) {\r\n                toast.info(`'${invitee.email}' was successfully removed from the invitees list.`); // Internationalization\r\n                dispatch({ type: DELETE_INVITEE, payload: inviteeId });\r\n            }\r\n            // Not ok\r\n            else {\r\n                let error = res.data;\r\n                setErrors(error);\r\n            }\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n            dispatch(setError('An error occurred.'));\r\n        });\r\n}","import axios from 'axios';\r\n\r\nconst configureHeaders = (token) => {\r\n    axios.defaults.headers.common[\"Content-Type\"] = \"application/json\";\r\n    if(token)\r\n        axios.defaults.headers.common[\"Authorization\"] = token;\r\n    else\r\n        delete axios.defaults.headers.common[\"Authorization\"];\r\n};\r\n\r\nexport default configureHeaders;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst BackButton = ({ label, history }) => {\r\n    return (\r\n        <>\r\n            <button className=\"btn my-btn-secondary btn-sm shadow rounded my-2\" onClick={() => history.goBack()}> \r\n                <i className=\"fa fa-arrow-left\" aria-hidden=\"true\"/> {label}\r\n            </button>\r\n        </>\r\n    );\r\n}\r\n\r\nBackButton.propTypes = {\r\n    label: PropTypes.string,\r\n    history: PropTypes.object\r\n}\r\n\r\nBackButton.defaultProps = {\r\n    label: 'Go back'\r\n}\r\n\r\nexport default BackButton;","import React, { Component } from 'react';\r\nimport classnames from 'classnames';\r\nimport { Modal } from 'react-bootstrap';\r\nimport { translate, translateCap } from '../../i18n/translate';\r\nimport { confirmation, isValidEmail } from '../../utils/helpers';\r\n\r\nclass Invitees extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);        \r\n        this.state = {\r\n            email: '',\r\n            displayName: '',\r\n            coHost: false,\r\n            show: false,\r\n            errors: []\r\n        }\r\n    }\r\n\r\n    onOpen = () => {\r\n        this.setState({ show: true });\r\n    }\r\n\r\n    onClose = () => {\r\n        this.setState({ \r\n            email: '',\r\n            displayName: '',\r\n            coHost: false,\r\n            show: false,\r\n\r\n            showErrors: false,\r\n            errors: []\r\n        });\r\n    }\r\n\r\n    showErrors = (errors) => {\r\n        this.setState({ errors, showErrors: true });\r\n    }\r\n\r\n    clearErrors = () => {\r\n        this.setState({ errors: [], showErrors: false });\r\n    }\r\n\r\n    onChange = e => {\r\n        this.setState({ [e.target.name]: e.target.value });\r\n    }\r\n\r\n    onCheckboxChange = e => {\r\n        this.setState({ [e.target.name]: e.target.checked });\r\n    }\r\n\r\n    onRemove = (email) => {\r\n        /* Internationalization */\r\n        confirmation(translateCap('confirmations.removeInvitee', { email }), () => {\r\n            this.props.onRemove(email);\r\n        }, \r\n        null);\r\n    }\r\n\r\n    onSubmit = () => {\r\n        let { email, displayName, coHost } = this.state;\r\n        let invitee = { email, displayName, coHost };\r\n\r\n        let errors = this.validate(invitee);\r\n        if(errors.length > 0)\r\n            this.showErrors(errors);\r\n        else {\r\n            this.props.onAdd(invitee);\r\n            this.onClose();\r\n        }\r\n    }\r\n\r\n    validate = (invitee) => {\r\n        let validationErrors = [];\r\n\r\n        if(!isValidEmail(invitee.email))\r\n            validationErrors.push(translateCap('validations.invalidEmail'));\r\n        // Other validations if required\r\n        return validationErrors;\r\n    }\r\n\r\n    render() {\r\n        let { email, displayName, coHost, show, showErrors, errors } = this.state;\r\n        let { invitees, allowCoHost } = this.props;\r\n        return (\r\n            <div id=\"invitees\">\r\n\r\n                <h5 className=\"p-0 m-0\"> {translateCap('Invitees.invitees')} </h5>\r\n                                \r\n                <div className=\"collapse show col-12 p-0 mt-3\" id=\"invitees\">\r\n                    <div id=\"invitees-table\" className=\"table-responsive\">\r\n                        <table className=\"table table-sm table-bordered\">\r\n                            <thead className=\"thead-light\">\r\n                                <tr>\r\n                                    <th scope=\"col\" className=\"text-center\"> {translateCap('Invitees.email')} </th>\r\n                                    <th scope=\"col\" className=\"text-center\"> {translateCap('Invitees.name')} </th>\r\n                                    <th scope=\"col\" className=\"text-center\"> {translateCap('Invitees.coHost')} </th>\r\n                                    <th scope=\"col\" className=\"text-center\"> {translateCap('general.actions')} </th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {\r\n                                    (invitees && invitees.length > 0) ?\r\n                                        invitees.map((invitee, index) => {\r\n                                            return (\r\n                                                <tr key={index}>\r\n                                                    <td className='text-center'> <small> {invitee.email} </small> </td>\r\n                                                    <td className='text-center'> <small> {invitee.displayName} </small> </td>\r\n                                                    <td className='text-center'> \r\n                                                        <small> \r\n                                                        {\r\n                                                            invitee.coHost ?\r\n                                                                <i className=\"fas fa-check text-muted\"></i> :\r\n                                                                <i className=\"fas fa-times text-muted\"></i>\r\n                                                        } \r\n                                                        </small> \r\n                                                    </td>\r\n                                                    <td className=\"text-center\"> \r\n                                                        <i type='button' className='fas fa-trash-alt cursor-pointer text-danger' data-toggle='tooltip' title={translateCap('general.remove')} onClick={() => this.onRemove(invitee.email)}>\r\n                                                        </i>\r\n                                                    </td>\r\n                                                </tr>\r\n                                            )\r\n                                        })\r\n                                        :\r\n                                        <tr>\r\n                                            <td colSpan=\"4\"> <small className=\"text-muted ml-2\"> {translateCap('Invitees.noInvitees')}. </small> </td>\r\n                                        </tr>\r\n                                }\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-3 mx-auto text-center\">\r\n                            <button id=\"addInviteeBtn\" type=\"button\" className=\"btn btn-sm btn-outline-secondary my-2\" onClick={this.onOpen} data-placement=\"top\" title={translateCap('Invitees.newInvitation')}> + </button>\r\n                        </div>\r\n                    </div>        \r\n                </div>\r\n\r\n                {/* Modal: add invitee */}\r\n                <Modal show={show} onHide={this.onClose} backdrop=\"static\" centered keyboard={false}>\r\n                    \r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title> {translateCap('Invitees.newInvitation')} </Modal.Title>\r\n                    </Modal.Header>\r\n\r\n                    <Modal.Body>\r\n                        <div id=\"add-invitee-form\">\r\n\r\n                            {/* Component: Validation summary */}\r\n                            <div id=\"validation-summary\" className={classnames(\"validation-summary my-2 border rounded shadow text-white bg-danger \", {\"d-none\": !showErrors })}>\r\n                                <div className=\"col-12 text-right p-0\">\r\n                                    <button type=\"button\" className=\"btn btn-sm btn-default text-white\" data-toggle=\"tooltip\" title={translateCap('general.close')} onClick={() => this.clearErrors()}> x </button>\r\n                                </div>\r\n                                <ul id=\"validation-summary-errors\">\r\n                                    {\r\n                                        errors.map((err, index) => {\r\n                                            return <li key={index} className=\"validation-summary-item\"> {err} </li>\r\n                                        })\r\n                                    }\r\n                                </ul>\r\n                            </div>\r\n\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"invitee-email\"> {translateCap('Invitees.email')} <small className=\"text-danger\">*</small> </label>\r\n                                <input required type=\"text\" id=\"invitee-email\" name=\"email\" className=\"form-control form-control-sm\" value={email} onChange={this.onChange} />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"invitee-displayName\"> {translateCap('Invitees.name')} </label>\r\n                                <input type=\"text\" id=\"invitee-displayName\" name=\"displayName\" className=\"form-control form-control-sm\" value={displayName} onChange={this.onChange} />\r\n                            </div>\r\n                            {/* {\r\n                                !allowCoHost ? \r\n                                    null :\r\n                                    <div className=\"custom-control custom-switch mt-3\">\r\n                                        <input type=\"checkbox\" id=\"coHost\" name=\"coHost\" className=\"custom-control-input\" checked={coHost} onChange={this.onCheckboxChange} />\r\n                                        <label className=\"custom-control-label\" htmlFor=\"coHost\"> Co-Host </label>\r\n                                    </div>\r\n                            } */}\r\n                            <div className=\"col-12 mt-4 px-0 pt-3 border-top text-right\">\r\n                                <button type=\"button\" className=\"btn btn-sm btn-secondary\" onClick={this.onClose}> {translateCap('general.close')} </button>\r\n                                <button type=\"button\" className=\"btn btn-sm btn-success ml-2\" onClick={this.onSubmit}> {translateCap('general.save')} </button>\r\n                            </div>\r\n                        </div>\r\n                    </Modal.Body>\r\n                </Modal>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Invitees;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withRouter } from 'react-router';\r\nimport isEqual from 'react-fast-compare';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { clearErrors, setError, setErrors } from '../../redux/actions/errorActions';\r\nimport { addInvitee, deleteInvitee, getInvitees } from '../../redux/actions/inviteesActions';\r\nimport { addMeeting, getMeetingById, updateMeeting } from '../../redux/actions/meetingsActions';\r\nimport configureHeaders from '../../redux/securityUtils/configureHeaders';\r\n\r\nimport classnames from 'classnames';\r\nimport { translate, translateCap } from '../../i18n/translate';\r\nimport { convertToInputDateTimeFormat, getMinutesDiff, scrollToTop } from '../../utils/helpers';\r\nimport { join_before_host_minutes } from '../../utils/constants';\r\n\r\nimport GoBack from '../Layout/Shared/GoBack';\r\nimport Invitees from '../Invitees/Invitees';\r\nimport { Collapse } from 'react-bootstrap';\r\nimport { BeatLoader } from 'react-spinners';\r\nimport { toast } from 'react-toastify';\r\nimport axios from 'axios';\r\n\r\nclass MeetingForm extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.minutesDropdown = React.createRef()\r\n        this.state = {\r\n            id: null,\r\n            title: '',\r\n            agenda: '',\r\n            password: '',\r\n            start: '',\r\n            end: '',\r\n            timezone: '',\r\n            recurrence: '',\r\n            sendEmail: true,\r\n            enabledAutoRecordMeeting: false,\r\n            allowAnyUserToBeCoHost: false,\r\n            enabledJoinBeforeHost: false,\r\n            joinBeforeHostMinutes: 0,\r\n            invitees: [],\r\n\r\n            isAdvancedOptionsOpen: false,\r\n\r\n            isUpdate: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.clearErrors();\r\n\r\n        let token = localStorage.getItem('ciscoAuthToken');\r\n        if(!token) {\r\n            this.props.setError(translateCap('MeetingForm.missingAuthToken'));\r\n        }\r\n        else {\r\n            configureHeaders(`Bearer ${token}`);\r\n\r\n            let meetingId = localStorage.getItem('webexMeetingId');\r\n            if(meetingId) {\r\n                this.props.getMeetingById(meetingId);\r\n                this.props.getInvitees(meetingId);\r\n    \r\n                let { current_meeting: meeting, current_invitees: invitees } = this.props;\r\n                let start = convertToInputDateTimeFormat(new Date(meeting.start));\r\n                let end = convertToInputDateTimeFormat(new Date(meeting.end));\r\n    \r\n                this.setState({ id: meetingId, ...meeting, start, end, invitees, isUpdate: true });\r\n            }\r\n        }\r\n\r\n        localStorage.removeItem('ciscoAuthToken');\r\n        localStorage.removeItem('webexMeetingId');\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if(!isEqual(prevProps.current_meeting, this.props.current_meeting)) {\r\n            let { current_meeting: meeting } = this.props;\r\n            let start = convertToInputDateTimeFormat(new Date(meeting.start));\r\n            let end = convertToInputDateTimeFormat(new Date(meeting.end));\r\n            this.setState({ ...meeting, start, end });\r\n        }\r\n\r\n        if(!isEqual(prevProps.current_invitees, this.props.current_invitees)) {\r\n            let { current_invitees: invitees } = this.props;\r\n            this.setState({ invitees });\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        // Cleanup code here\r\n    }\r\n\r\n    addMeetingInvitee = async (meetingId, invitee) => {\r\n        let newInvitee = { meetingId, ...invitee };\r\n        this.props.addInvitee(newInvitee);\r\n    }\r\n\r\n    onChange = e => {\r\n        this.setState({ [e.target.name]: e.target.value });\r\n    }\r\n\r\n    onCheckboxChange = e => {\r\n        this.setState({ [e.target.name]: e.target.checked });\r\n        if(e.target.name === 'enabledJoinBeforeHost')\r\n            this.minutesDropdown.current.disabled = !e.target.checked;\r\n    }\r\n\r\n    toggleAdvancedOptions = () => {\r\n        let { isAdvancedOptionsOpen } = this.state;\r\n        this.setState({ isAdvancedOptionsOpen: !isAdvancedOptionsOpen });\r\n    }\r\n\r\n    onAddInvitee = (newInvitee) => {\r\n        let { id, invitees, isUpdate } = this.state;\r\n        \r\n        let exists = invitees.find(i => i.email === newInvitee.email);\r\n        if(exists)\r\n            return;\r\n\r\n        if(isUpdate)\r\n            this.addMeetingInvitee(id, newInvitee);\r\n        else {\r\n            invitees.push(newInvitee);\r\n            this.setState({ invitees });     \r\n        }\r\n    }\r\n    \r\n    onRemoveInvitee = (email) => {\r\n        let { invitees, isUpdate } = this.state;\r\n\r\n        let exists = invitees.find(i => i.email === email);\r\n        if(!exists)\r\n            return;\r\n\r\n        if(isUpdate)\r\n            this.props.deleteInvitee(exists.id);\r\n        else {\r\n            this.setState({ invitees: [...invitees.filter(i => i.email !== email)] });\r\n        }\r\n    }\r\n\r\n    resetForm = () => {\r\n        this.setState({\r\n            id: null,\r\n            title: '',\r\n            agenda: '',\r\n            password: '',\r\n            start: '',\r\n            end: '',\r\n            timezone: '',\r\n            recurrence: '',\r\n            sendEmail: true,\r\n            enabledAutoRecordMeeting: false,\r\n            allowAnyUserToBeCoHost: false,\r\n            enabledJoinBeforeHost: false,\r\n            joinBeforeHostMinutes: 0,\r\n            invitees: [],\r\n\r\n            isAdvancedOptionsOpen: false,\r\n\r\n            isUpdate: false\r\n        })\r\n    }\r\n\r\n    createMeeting = () => {\r\n        let meeting = this.getMeetingObject();\r\n        console.log('New meeting: ', meeting);\r\n        \r\n        let errors = this.validateMeeting(meeting);\r\n        if(errors.length > 0) {\r\n            this.props.setErrors(errors)\r\n            scrollToTop()\r\n        }\r\n        else {\r\n            axios.post('https://webexapis.com/v1/meetings', meeting)\r\n                .then(res => {\r\n                    let statusCode = res.status;\r\n                    // Response: Ok\r\n                    if(statusCode === 200 || statusCode === 204) {\r\n                        toast.success(translateCap('notifications.meetingCreated'))\r\n                        this.props.clearErrors()\r\n                        this.resetForm()\r\n                    }\r\n                    // Response: Not ok\r\n                    else if(statusCode >= 400) {\r\n                        let error = res.data;\r\n                        scrollToTop();\r\n                        this.props.setError(error)\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    console.error(err)\r\n                    scrollToTop();\r\n                    this.props.setError(err.response.data.message)\r\n                });\r\n        }\r\n    }\r\n\r\n    updateMeeting = () => {\r\n        let { id } = this.state;\r\n        let meeting = this.getMeetingObject();\r\n        console.log('Updated meeting: ', meeting);\r\n\r\n        let errors = this.validateMeeting(meeting);\r\n        if(errors.length > 0) {\r\n            this.props.setErrors(errors)\r\n            scrollToTop()\r\n        }\r\n        else\r\n            axios.put(`https://webexapis.com/v1/meetings/${id}`, meeting)\r\n                .then(res => {\r\n                    let statusCode = res.status;\r\n                    // Response: Ok\r\n                    if(statusCode === 200 || statusCode === 204) {\r\n                        toast.success(translateCap('notifications.meetingUpdated'))\r\n                        this.props.clearErrors()\r\n                        this.resetForm()\r\n                    }\r\n                    // Response: Not ok\r\n                    else if(statusCode >= 400) {\r\n                        let error = res.data;\r\n                        scrollToTop();\r\n                        this.props.setError(error)\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    console.error(err)\r\n                    scrollToTop();\r\n                    this.props.setError(err.response.data.message)\r\n                });\r\n    }\r\n\r\n    getMeetingObject = () => {\r\n        let { title, agenda, password, start, end, timezone, recurrence, sendEmail, enabledAutoRecordMeeting, allowAnyUserToBeCoHost, enabledJoinBeforeHost, joinBeforeHostMinutes, invitees } = this.state;\r\n        let meeting = { title, agenda, password, start, end, timezone, recurrence, sendEmail, enabledAutoRecordMeeting, allowAnyUserToBeCoHost, enabledJoinBeforeHost, joinBeforeHostMinutes: parseInt(joinBeforeHostMinutes), invitees };\r\n\r\n        if(this.state.isUpdate)\r\n            delete meeting['invitees'];\r\n\r\n        if(meeting.start !== '')\r\n            meeting.start = new Date(start).toISOString();\r\n        if(meeting.end !== '')\r\n            meeting.end = new Date(end).toISOString();\r\n        if(meeting.enabledJoinBeforeHost === false)\r\n            delete meeting['joinBeforeHostMinutes'];\r\n\r\n        // Remove empty keys\r\n        Object.keys(meeting).forEach(key => {\r\n            if(meeting[key] === undefined || (typeof(meeting[key]) === \"string\" && meeting[key].trim() === \"\") || (Array.isArray(meeting[key]) && meeting[key].length === 0))\r\n                delete meeting[key];\r\n        });\r\n\r\n        return meeting;\r\n    }\r\n\r\n    validateMeeting = (meeting) => {\r\n        let errors = [];\r\n    \r\n        if(!meeting.title)\r\n            errors.push(translateCap('validations.meeting.titleEmpty'));\r\n        if(!meeting.start)\r\n            errors.push(translateCap('validations.meeting.startEmpty'));\r\n        if(!meeting.end)\r\n            errors.push(translateCap('validations.meeting.endEmpty'));\r\n    \r\n        if(meeting.start && meeting.end) \r\n        {\r\n            let now = new Date();\r\n            let start = new Date(meeting.start);\r\n            let end = new Date(meeting.end);\r\n    \r\n            if(start < now)\r\n                errors.push(translateCap('validations.meeting.startTimeBeforeCurrentTime'));\r\n            if(end < now)\r\n                errors.push(translateCap('validations.meeting.endTimeBeforeCurrentTime'));\r\n            if(start > end)\r\n                errors.push(translateCap('validations.meeting.endTimeBeforeStartTime'));\r\n    \r\n            let minutesDiff = getMinutesDiff(start, end);\r\n            if(minutesDiff < 10 || minutesDiff > 24 * 60)\r\n                errors.push(translateCap('validations.meeting.invalidDuration'));\r\n        }\r\n    \r\n        if(meeting.enabledJoinBeforeHost === true)\r\n            if(!join_before_host_minutes.includes(meeting.joinBeforeHostMinutes))\r\n                errors.push(translateCap('validations.meeting.joinBeforeHostMinutes'));\r\n    \r\n        return errors;\r\n    }\r\n\r\n    onSubmit = () => {\r\n        let { isUpdate } = this.state;\r\n        if(!isUpdate)\r\n            this.createMeeting();\r\n        else {\r\n            this.updateMeeting();\r\n        }\r\n    }\r\n\r\n    renderMinutesDropdown = () => {\r\n        let { enabledJoinBeforeHost, joinBeforeHostMinutes } = this.state;\r\n        return enabledJoinBeforeHost ?\r\n            (\r\n                <select id=\"meeting-joinBeforeHostMinutes\" name=\"joinBeforeHostMinutes\" className=\"mx-1\"\r\n                    ref={this.minutesDropdown}\r\n                    onChange={this.onChange}\r\n                    value={joinBeforeHostMinutes}>\r\n                    { join_before_host_minutes.map((m, i) => <option key={i} value={m}> {m} </option>) }\r\n                </select>\r\n            ) :\r\n            (\r\n                <select id=\"meeting-joinBeforeHostMinutes\" name=\"joinBeforeHostMinutes\" className=\"mx-1\" disabled\r\n                    ref={this.minutesDropdown}\r\n                    onChange={this.onChange}\r\n                    value={joinBeforeHostMinutes}>\r\n                    { join_before_host_minutes.map((m, i) => <option key={i} value={m}> {m} </option>) }\r\n                </select>\r\n            )\r\n    }\r\n\r\n    render() {\r\n        let { \r\n            title, agenda, password, start, end, timezone, recurrence, sendEmail, enabledAutoRecordMeeting, allowAnyUserToBeCoHost, enabledJoinBeforeHost, joinBeforeHostMinutes, invitees, \r\n            isAdvancedOptionsOpen, isUpdate \r\n        } = this.state;\r\n        let { isMeetingLoading, isInviteesLoading, errors } = this.props;\r\n\r\n        return (\r\n            <>\r\n                <div className=\"row p-2\">\r\n                    <div className=\"col-12 col-md-10 m-auto\">\r\n                        \r\n                        <GoBack label={translateCap('general.goBack')} history={this.props.history} />\r\n\r\n                        <h4 className=\"text-right border-bottom\"> {isUpdate ? translateCap('MeetingForm.updateMeeting') : translateCap('MeetingForm.createMeeting')} </h4>\r\n                        {\r\n                            isMeetingLoading ?\r\n                                <div className=\"d-block text-center\">\r\n                                    <BeatLoader color=\"#007bff\" loading={isMeetingLoading} size={15} />\r\n                                </div>\r\n                                :\r\n                                <div id=\"create-meeting-form\">\r\n\r\n                                    {/* Component: Validation summary */}\r\n                                    <div id=\"validation-summary\" className={classnames(\"validation-summary my-2 border rounded shadow text-white bg-danger \", {\"d-none\": !(errors.length > 0)})}>\r\n                                        <div className=\"col-12 text-right p-0\">\r\n                                            <button type=\"button\" className=\"btn btn-sm btn-default text-white\" data-toggle=\"tooltip\" title={translateCap('general.close')} onClick={() => this.props.clearErrors()}> x </button>\r\n                                        </div>\r\n                                        <ul id=\"validation-summary-errors\">\r\n                                            {\r\n                                                errors.map((err, index) => {\r\n                                                    return <li key={index} className=\"validation-summary-item\"> {err} </li>\r\n                                                })\r\n                                            }\r\n                                        </ul>\r\n                                    </div>\r\n\r\n                                    {/* Main inputs */}\r\n                                    <div className=\"form-group\">\r\n                                        <label htmlFor=\"meeting-title\"> {translateCap('MeetingForm.title')} <small className=\"text-danger\">*</small> </label>\r\n                                        <input required type=\"text\" id=\"meeeting-title\" name=\"title\" className=\"form-control form-control-sm\" value={title} onChange={this.onChange} />\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <label htmlFor=\"meeting-agenda\"> {translateCap('MeetingForm.agenda')} </label>\r\n                                        <input type=\"text\" id=\"meeeting-agenda\" name=\"agenda\" className=\"form-control form-control-sm\" value={agenda} onChange={this.onChange} />\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <label htmlFor=\"meeting-password\"> {translateCap('MeetingForm.password')} </label>\r\n                                        <input type=\"password\" id=\"meeeting-password\" name=\"password\" className=\"form-control form-control-sm\" value={password} onChange={this.onChange} />\r\n                                    </div>\r\n                                    <div className=\"form-group row\">\r\n                                        <div className=\"col-12 col-sm-6\">\r\n                                            <label htmlFor=\"meeting-title\"> {translateCap('MeetingForm.start')} <small className=\"text-danger\">*</small> </label>\r\n                                            <input required type=\"datetime-local\" id=\"meeeting-start\" name=\"start\" className=\"form-control form-control-sm\" value={start} onChange={this.onChange} />\r\n                                        </div>\r\n                                        <div className=\"col-12 col-sm-6\">\r\n                                            <label htmlFor=\"meeting-title\"> {translateCap('MeetingForm.end')} <small className=\"text-danger\">*</small> </label>\r\n                                            <input required type=\"datetime-local\" id=\"meeeting-end\" name=\"end\" className=\"form-control form-control-sm\" value={end} onChange={this.onChange} />\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <label htmlFor=\"meeting-timezone\"> {translateCap('MeetingForm.timezone')} </label>\r\n                                        <input type=\"text\" id=\"meeeting-timezone\" name=\"timezone\" className=\"form-control form-control-sm\" value={timezone} onChange={this.onChange} />\r\n                                    </div>\r\n                                    {/* <div className=\"form-group\">\r\n                                        <label htmlFor=\"meeting-recurrence\"> Recurrence </label>\r\n                                        <input type=\"text\" id=\"meeeting-recurrence\" name=\"recurrence\" className=\"form-control form-control-sm\" value={recurrence} onChange={this.onChange} />\r\n                                    </div> */}\r\n                                    <div className=\"custom-control custom-switch\">\r\n                                        <input type=\"checkbox\" id=\"meeting-sendEmail\" name=\"sendEmail\" className=\"custom-control-input\" checked={sendEmail} onChange={this.onCheckboxChange} />\r\n                                        <label className=\"custom-control-label\" htmlFor=\"meeting-sendEmail\"> {translateCap('MeetingForm.sendEmail')} </label>\r\n                                    </div>\r\n\r\n                                    {/* Advanced options */}\r\n                                    <div className=\"form-group my-4 py-1 border-bottom\">\r\n                                        <span type=\"button\" aria-controls=\"advanced-options\" aria-expanded={isAdvancedOptionsOpen} onClick={this.toggleAdvancedOptions}>\r\n                                            <i className={`fas fa-chevron-${isAdvancedOptionsOpen ? 'up' : 'down'}`} /> {translateCap('MeetingForm.advancedOptions')}\r\n                                        </span>\r\n                                        <Collapse in={isAdvancedOptionsOpen}>\r\n                                            <div id=\"advanced-options\" className=\"border-top\">\r\n                                                <div className=\"custom-control custom-switch mt-3\">\r\n                                                    <input type=\"checkbox\" id=\"meeting-allowAnyUserToBeCoHost\" name=\"allowAnyUserToBeCoHost\" className=\"custom-control-input\" checked={allowAnyUserToBeCoHost} onChange={this.onCheckboxChange} />\r\n                                                    <label className=\"custom-control-label\" htmlFor=\"meeting-allowAnyUserToBeCoHost\"> {translateCap('MeetingForm.allowAnyUserToBeCoHost')} </label>\r\n                                                </div>\r\n                                                <div className=\"custom-control custom-switch mt-3\">\r\n                                                    <input type=\"checkbox\" id=\"meeting-enabledAutoRecordMeeting\" name=\"enabledAutoRecordMeeting\" className=\"custom-control-input\" checked={enabledAutoRecordMeeting} onChange={this.onCheckboxChange} />\r\n                                                    <label className=\"custom-control-label\" htmlFor=\"meeting-enabledAutoRecordMeeting\"> {translateCap('MeetingForm.enabledAutoRecordMeeting')} </label>\r\n                                                </div>\r\n                                                <div className=\"custom-control custom-switch mt-3\">\r\n                                                    <input type=\"checkbox\" id=\"meeting-enabledJoinBeforeHost\" name=\"enabledJoinBeforeHost\" className=\"custom-control-input\" checked={enabledJoinBeforeHost} onChange={this.onCheckboxChange} />\r\n                                                    <label className=\"custom-control-label\" htmlFor=\"meeting-enabledJoinBeforeHost\"> {translateCap('MeetingForm.enabledJoinBeforeHost')}: </label>\r\n                                                    {this.renderMinutesDropdown()} {translate('general.minutes')}\r\n                                                </div>\r\n                                            </div>\r\n                                        </Collapse>\r\n                                    </div>\r\n\r\n                                    <div className=\"form-group mt-3\">\r\n                                        {\r\n                                            isInviteesLoading ?\r\n                                                <div className=\"d-block text-center\">\r\n                                                    <BeatLoader color=\"#007bff\" loading={isInviteesLoading} size={15} />\r\n                                                </div> :\r\n                                                <Invitees invitees={invitees} allowCoHost={allowAnyUserToBeCoHost} onAdd={this.onAddInvitee} onRemove={this.onRemoveInvitee} />\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <button type=\"button\" className=\"btn btn-md btn-primary shadow float-right mr-4\" onClick={this.onSubmit}>\r\n                                        <i className=\"fas fa-save\"></i> {translateCap('general.save')}\r\n                                    </button>\r\n\r\n                                </div>\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nMeetingForm.propTypes = {\r\n    current_meeting: PropTypes.object.isRequired,\r\n    isMeetingLoading: PropTypes.bool.isRequired,\r\n    current_invitees: PropTypes.array.isRequired,\r\n    isInviteesLoading: PropTypes.bool.isRequired,\r\n    errors: PropTypes.array.isRequired\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    current_meeting: state.meetingsReducer.current_meeting,\r\n    isMeetingLoading: state.meetingsReducer.isMeetingLoading,\r\n    current_invitees: state.inviteesReducer.current_invitees,\r\n    isInviteesLoading: state.inviteesReducer.isInviteesLoading,\r\n    errors: state.errorsReducer.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { addMeeting, addInvitee, deleteInvitee, getMeetingById, getInvitees, updateMeeting, clearErrors, setError, setErrors })(withRouter(MeetingForm));","import React, { Component } from 'react';\r\nimport MeetingForm from './../../components/Meetings/MeetingForm';\r\n\r\nclass CreateMeetingPage extends Component {\r\n    \r\n    componentDidMount() {\r\n        // Do something\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"transition-page\">\r\n                <MeetingForm />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default CreateMeetingPage;","import React, { Component } from 'react';\r\nimport MeetingForm from '../../components/Meetings/MeetingForm';\r\n\r\nclass EditMeetingPage extends Component {\r\n\r\n    componentDidMount() {\r\n        // Do something here\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"transition-page\">\r\n                <MeetingForm />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default EditMeetingPage;","import React, { Component } from 'react';\r\nimport { createMembershipAsync, createRoomAsync, getGuestDetails, initializeGuest, initWebexAsync, issueGuestToken, registerGuestAsync } from '../../utils/webexConfig';\r\nimport { token } from '../../utils/secrets';\r\nimport isEqual from 'react-fast-compare';\r\n\r\nclass TestPage extends Component {\r\n\r\n    async componentDidMount() {\r\n        let guestToken = issueGuestToken('bot1@test.com', 'Bot 1');\r\n        let guestAccessToken = await registerGuestAsync(guestToken);\r\n        console.log('Guest access token: ', guestAccessToken);\r\n        let guestDetails = await getGuestDetails(guestAccessToken);\r\n        console.log('Guest details: ', guestDetails);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default TestPage;","import React from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\r\n\r\nimport CustomRoute from './CustomRoute';\r\nimport LiveMeeting from './../components/Meetings/LiveMeeting/LiveMeeting/LiveMeeting';\r\nimport MeetingsPage from './Pages/MeetingsPage';\r\nimport CreateMeetingPage from './Pages/CreateMeetingPage';\r\nimport EditMeetingPage from './Pages/EditMeetingPage';\r\nimport TestPage from './Pages/TestPage';\r\n\r\nfunction Routes({ locale }) {\r\n    return (\r\n      <Switch>\r\n        <CustomRoute exact path={[\"/LiveSession/:sessionId(\\\\d+)/Host\", \"/LiveSession/:sessionId(\\\\d+)/Guest\", \"/riunioneWebex/meetings/live\"]} component={LiveMeeting} />\r\n        <CustomRoute exact path={[\"/\", \"/default\", \"/meetings\", \"/default/meetings\"]} component={MeetingsPage} />\r\n        <CustomRoute exact path={[\"/riunioneWebex/schedule\"]} component={CreateMeetingPage} />\r\n        <CustomRoute exact path={[\"/riunioneWebex/riunione/modifica\"]} component={EditMeetingPage} />\r\n        <CustomRoute exact path={[\"/test\"]} component={TestPage} />\r\n      </Switch>\r\n    )\r\n}\r\n\r\nexport default Routes;\r\n","import React, { Component } from \"react\";\r\n\r\nimport {I18nProvider, LOCALES } from './i18n';\r\nimport { ToastContainer } from 'react-toastify';\r\n\r\nimport Header from \"./components/Layout/Header/Header\";\r\nimport Routes from './Router/Routes';\r\nimport configureHeaders from './redux/securityUtils/configureHeaders';\r\nimport { getToken } from \"./utils/webexConfig\";\r\nimport { LOCALES_ARRAY } from \"./i18n/locales\";\r\nimport { LocalStorageKeys } from \"./utils/constants\";\r\nimport { changeIntlLanguage, configureIntl } from \"./i18n/translate\";\r\n\r\nclass App extends Component {\r\n\r\n  constructor() {\r\n    super();\r\n\r\n    configureHeaders(getToken());\r\n    configureIntl(LOCALES.ITALIAN);\r\n\r\n    this.state = {\r\n      locale: LOCALES.ITALIAN\r\n    }\r\n  }\r\n  \r\n  componentDidMount() {\r\n    // During resizing, calculates window height correctly\r\n    window.addEventListener('resize', () => this.calculateWindowHeight());\r\n\r\n    let locale = localStorage.getItem(LocalStorageKeys.Language);\r\n    if(locale && LOCALES_ARRAY.includes(locale))\r\n      this.changeLanguage(locale);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('resize', null)\r\n  }\r\n\r\n  calculateWindowHeight = () => {\r\n    // SOURCE: https://css-tricks.com/the-trick-to-viewport-units-on-mobile/\r\n    // First we get the viewport height and we multiple it by 1% to get a value for a vh unit\r\n    let vh = window.innerHeight * 0.01;\r\n    // Then we set the value in the --vh custom property to the root of the document\r\n    document.documentElement.style.setProperty('--vh', `${vh}px`);\r\n  }\r\n\r\n  changeLanguage = (locale) => {\r\n    if(locale && LOCALES_ARRAY.includes(locale)) {\r\n      localStorage.setItem(LocalStorageKeys.Language, locale);\r\n      changeIntlLanguage(locale);\r\n      this.setState({ locale });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { locale } = this.state; \r\n    return (\r\n      <>\r\n\r\n        <div className=\"main-container\">\r\n          <Header locale={locale} changeLanguage={this.changeLanguage} />\r\n          <Routes locale={locale} />\r\n        </div>\r\n\r\n        <ToastContainer\r\n          position=\"bottom-right\"\r\n          autoClose={4000}\r\n          hideProgressBar\r\n          newestOnTop={false}\r\n          closeOnClick\r\n          rtl={false}\r\n          pauseOnFocusLoss={false}\r\n          draggable\r\n          pauseOnHover={false}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import { SET_WEBEX_INSTANCE } from './../actions/types';\r\n\r\nconst initialState = {\r\n    webex: {}\r\n};\r\n\r\nconst webexReducer = (state = initialState, action) => {\r\n\r\n    switch(action.type) {\r\n        \r\n        case SET_WEBEX_INSTANCE:\r\n            return {\r\n                ...state,\r\n                webex: action.payload\r\n            }\r\n\r\n        default:\r\n            return state;  \r\n    }\r\n}\r\n\r\nexport default webexReducer;","import { GET_ERRORS, CLEAR_ERRORS } from '../actions/types';\r\n\r\nconst initialState = {\r\n    errors: []\r\n};\r\n\r\nconst errorsReducer = ( state = initialState, action ) => {\r\n    \r\n    switch(action.type) {\r\n\r\n        case GET_ERRORS:\r\n            return {\r\n                ...state,\r\n                errors: action.payload\r\n            }\r\n\r\n        case CLEAR_ERRORS:\r\n            return {\r\n                errors: []\r\n            };\r\n\r\n        default:\r\n            return state;\r\n            \r\n    }\r\n}\r\n\r\nexport default errorsReducer;","import { GET_PERSONAL_DETAILS, PERSONAL_DETAILS_LOADING } from '../actions/types';\r\n\r\nconst initialState = {\r\n    personalDetails: {},\r\n    isPersonalDetailsLoading: false\r\n}\r\n\r\nconst peopleReducer = (state = initialState, action) => {\r\n\r\n    switch(action.type) {\r\n\r\n        case PERSONAL_DETAILS_LOADING:\r\n            return {\r\n                ...state,\r\n                isPersonalDetailsLoading: action.payload\r\n            }\r\n\r\n        case GET_PERSONAL_DETAILS:\r\n            return {\r\n                ...state,\r\n                personalDetails: action.payload\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default peopleReducer;","import { GET_MEETING_PREFERENCES, MEETING_PREFERENCES_LOADING } from '../actions/types';\r\n\r\nconst initialState = {\r\n    audio: {},\r\n    video: {},\r\n    schedulingOptions: {},\r\n    sites: [],\r\n    personalRoom: {},\r\n    isMeetingPreferencesLoading: false\r\n}\r\n\r\nconst meetingPreferencesReducer = (state = initialState, action) => {\r\n\r\n    switch(action.type) {\r\n\r\n        case MEETING_PREFERENCES_LOADING:\r\n            return {\r\n                ...state,\r\n                isMeetingPreferencesLoading: action.payload\r\n            }\r\n\r\n        case GET_MEETING_PREFERENCES:\r\n            let { audio, video, schedulingOptions, sites, personalMeetingRoom } = action.payload;\r\n            return {\r\n                ...state,\r\n                isMeetingPreferencesLoading: false,\r\n                audio,\r\n                video,\r\n                schedulingOptions,\r\n                sites,\r\n                personalRoom: personalMeetingRoom\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default meetingPreferencesReducer;","import { GET_MEETINGS, MEETINGS_LOADING, DELETE_MEETING, GET_MEETING, MEETING_LOADING } from '../actions/types';\r\n\r\nconst initialState = {\r\n    meetings: [],\r\n    isMeetingsLoading: false,\r\n\r\n    current_meeting: {},\r\n    isMeetingLoading: false\r\n}\r\n\r\nconst meetingsReducer = (state = initialState, action) => {\r\n\r\n    switch(action.type) {\r\n\r\n        case MEETINGS_LOADING:\r\n            return {\r\n                ...state,\r\n                isMeetingsLoading: action.payload\r\n            };\r\n\r\n        case GET_MEETINGS:\r\n            return {\r\n                ...state,\r\n                meetings: action.payload\r\n            };\r\n\r\n        case DELETE_MEETING:\r\n            return {\r\n                ...state,\r\n                meetings: state.meetings.filter(m => m.id !== action.payload)\r\n            };\r\n\r\n        case MEETING_LOADING:\r\n            return {\r\n                ...state,\r\n                isMeetingLoading: action.payload\r\n            }\r\n\r\n        case GET_MEETING:\r\n            return {\r\n                ...state,\r\n                current_meeting: action.payload\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default meetingsReducer;","import { ADD_INVITEE, DELETE_INVITEE, GET_INVITEES, INVITEES_LOADING } from '../actions/types';\r\n\r\nconst initialState = {\r\n    current_invitees: [],\r\n    isInviteesLoading: false\r\n}\r\n\r\nconst inviteesReducer = (state = initialState, action) => {\r\n    \r\n    switch(action.type) {\r\n\r\n        case INVITEES_LOADING:\r\n            return {\r\n                ...state,\r\n                isInviteesLoading: action.payload\r\n            };\r\n\r\n        case GET_INVITEES:\r\n            return {\r\n                ...state,\r\n                current_invitees: action.payload\r\n            };\r\n\r\n        case ADD_INVITEE:\r\n            return {\r\n                ...state,\r\n                current_invitees: [...state.current_invitees, action.payload]\r\n            };\r\n\r\n        case DELETE_INVITEE:\r\n            return {\r\n                ...state,\r\n                current_invitees: [...state.current_invitees.filter(i => i.id !== action.payload)]\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default inviteesReducer;","import { combineReducers } from 'redux';\r\nimport webexReducer from './webexReducer';\r\nimport errorsReducer from './errorsReducer';\r\nimport peopleReducer from './peopleReducer';\r\nimport meetingPreferencesReducer from './meetingPreferencesReducer';\r\nimport meetingsReducer from './meetingsReducer';\r\nimport inviteesReducer from './inviteesReducer';\r\n\r\nexport default combineReducers ({\r\n    errorsReducer,\r\n    webexReducer,\r\n    peopleReducer,\r\n    meetingPreferencesReducer,\r\n    meetingsReducer,\r\n    inviteesReducer\r\n});","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './reducers';\r\n\r\nconst initialState = {};\r\n\r\nconst middleware = [thunk];\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(rootReducer, initialState, composeEnhancers(applyMiddleware(...middleware)));\r\n\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport 'react-confirm-alert/src/react-confirm-alert.css';\r\nimport './css/react-confirm-alert.css';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport './css/variables.css';\r\nimport './css/index.css';\r\n\r\nimport App from './App';\r\n\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport store from './redux/store';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <Router>\r\n        <App />\r\n      </Router>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// First we get the viewport height and we multiple it by 1% to get a value for a vh unit\r\nlet vh = window.innerHeight * 0.01;\r\n// Then we set the value in the --vh custom property to the root of the document\r\ndocument.documentElement.style.setProperty('--vh', `${vh}px`);","import webex from 'webex';\r\nimport { token, guestIssuerSecret, guestIssuerId } from './secrets';\r\nimport jwt from 'jsonwebtoken';\r\nimport { JoinIntent, JoinIntents, QualityLevel, QualityLevels } from './constants';\r\n\r\nexport const initWebexAsync = async (jwtToken) => {\r\n    console.info(\"-> Executing webexInit\");\r\n    try {\r\n        let wb = await webex.init({\r\n            config: {\r\n            meetings: {\r\n                reconnection: {\r\n                    enabled: true\r\n                }\r\n            }\r\n            // Any other sdk config we need\r\n            },\r\n            credentials: {\r\n                access_token: jwtToken\r\n            }\r\n        });\r\n        return wb;\r\n    }\r\n    catch(err) {\r\n        console.error(\"~ Error in webexInitAsync(): \", err);\r\n    }\r\n}\r\n\r\n// ---------------------------------------------- Authentication ------------------------------------------------------------\r\n\r\nexport const getToken = () => {\r\n    return `Bearer ${token}`;\r\n}\r\n\r\n/**\r\n * Guest Issuer: issues a guest token that expires in 24 hours\r\n */\r\nexport const issueGuestToken = (subject, name) => {\r\n    console.log('-> Executing issueGuestToken');\r\n    let payload = {\r\n        sub: subject,\r\n        name,\r\n        iss: guestIssuerId\r\n    };\r\n\r\n    var token = jwt.sign(\r\n        payload,\r\n        Buffer.from(guestIssuerSecret, 'base64'),\r\n        { expiresIn: '48h' }\r\n    );\r\n\r\n    return token;\r\n}\r\n\r\n/**\r\n * Registers/authenticates the guest from the guest token\r\n * @return {number}  Guest's access token (expires in 24 hours)\r\n */\r\nexport const registerGuestAsync = async (guestToken) => {\r\n    console.log('-> Executing registerGuestAsync');\r\n\r\n    if(guestToken) {\r\n        try {\r\n            let res = await fetch('https://webexapis.com/v1/jwt/login', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Authorization': `Bearer ${guestToken}`\r\n                }\r\n            });\r\n            let data = await res.json();\r\n            return data.token;\r\n        }\r\n        catch(err) {\r\n            return;\r\n        }\r\n    }\r\n    return;\r\n}\r\n\r\nexport const initializeGuest = async (subject, name) => {\r\n    let guestToken = issueGuestToken(subject, name);\r\n    let guestAccessToken = await registerGuestAsync(guestToken);\r\n    let guestDetails = await getGuestDetails(guestAccessToken);\r\n    return guestDetails;\r\n}\r\n\r\n// ---------------------------------------------- Meetings ------------------------------------------------------------\r\n\r\n\r\nexport const registerAsync = async (wb) => {\r\n    console.info(\"-> Executing registerAsync\");\r\n    if (!wb.meetings.registered) {\r\n        try {\r\n            await wb.meetings.register();\r\n            // Sync our meetings with existing meetings on the server\r\n            await wb.meetings.syncMeetings();\r\n        }\r\n        catch(err) {\r\n            console.error(\"~ Error in register(): \", err);\r\n        }\r\n    }\r\n}\r\n\r\nexport const unregisterAsync = async (wb) => {\r\n    console.info(\"-> Executing unregisterAsync\");\r\n    try {\r\n        if (wb.meetings.registered)\r\n            await wb.meetings.unregister();\r\n    }\r\n    catch(err) {\r\n        console.error(\"~ Error in unregisterAsync(): \", err);\r\n    }\r\n}\r\n\r\nexport const createMeetingAsync = async (wb, destination) => {\r\n    console.info(\"-> Executing createMeetingAsync\");\r\n    try {\r\n        let meeting = await wb.meetings.create(destination);\r\n        return meeting;\r\n    }\r\n    catch(err) {\r\n        console.error(\"~ Error in unregisterAsync(): \", err);\r\n    }\r\n}\r\n\r\n/** Join the meeting with a specific video quality (in this case 'LOW') and the video initially muted. This method's workflow is:\r\n * @param {Object} meeting The meeting object that is returned when you call: *webex.meetings.create(...)*\r\n * @param {string} pin Meeting's *password*\r\n * @param {'LOW'|'MEDIUM'|'HIGH'} localVideoQuality Defines local video quality. Default: **LOW**\r\n * 1. Join the meeting\r\n * 2. Add local media streams to the meeting\r\n * 3. Set the local video quality to 'LOW'\r\n * 4. Mute the video\r\n */\r\nexport const joinMeetingWithMediaAsync = async (meeting, pin, localVideoQuality = QualityLevel.Low) => {\r\n    console.info(\"-> Executing joinMeeting\");\r\n    \r\n    try {\r\n        // If `pin` is present, means the account trying to join is a `guest` account\r\n        if(pin)\r\n            await meeting.join({ moderator: false, pin });\r\n        else\r\n            await meeting.join();\r\n\r\n        return addMediaToMeeting(meeting, localVideoQuality);\r\n    }\r\n    catch(err) {\r\n        console.error(err);\r\n    }\r\n}\r\n\r\nexport const addMediaToMeeting = (meeting, localVideoQuality = QualityLevel.Low) => {\r\n    return meeting.getSupportedDevices({sendAudio: true, sendVideo: true}).then(({sendAudio, sendVideo}) => {\r\n        let mediaSettings = {\r\n            receiveVideo: true,\r\n            receiveAudio: true,\r\n            receiveShare: true,\r\n            sendShare: false,\r\n            sendVideo,\r\n            sendAudio\r\n        };\r\n\r\n        meeting.getMediaStreams(mediaSettings).then((mediaStreams) => {\r\n            let [localStream, localShare] = mediaStreams;\r\n            meeting.addMedia({ localShare, localStream, mediaSettings }).then(() => {\r\n                meeting.setLocalVideoQuality(localVideoQuality).then(() => {\r\n                    meeting.muteVideo()\r\n                })\r\n            })\r\n        });\r\n    });\r\n}\r\n\r\n// Waits for the meeting to be media update ready\r\nexport const waitForMediaReady = (meeting) => {\r\n    return new Promise((resolve, reject) => {\r\n      if (meeting.canUpdateMedia()) {\r\n        resolve();\r\n      }\r\n      else {\r\n        console.info('SHARE-SCREEN: Unable to update media, pausing to retry...');\r\n        let retryAttempts = 0;\r\n  \r\n        const retryInterval = setInterval(() => {\r\n            retryAttempts += 1;\r\n            console.info('SHARE-SCREEN: Retry update media check');\r\n    \r\n            if (meeting.canUpdateMedia()) {\r\n                console.info('SHARE-SCREEN: Able to update media, continuing');\r\n                clearInterval(retryInterval);\r\n                resolve();\r\n            }\r\n            // If we can't update our media after 15 seconds, something went wrong\r\n            else if (retryAttempts > 15) {\r\n                console.error('SHARE-SCREEN: Unable to share screen, media was not able to update.');\r\n                clearInterval(retryInterval);\r\n                reject();\r\n            }\r\n        }, 7000);\r\n      }\r\n    });\r\n}\r\n\r\n// ---------------------------------------------- Rooms ------------------------------------------------------------\r\n\r\nexport const createRoomAsync = async (wb, title) => {\r\n    console.info(\"-> Executing createRoomAsync\");\r\n    try {\r\n        let room = await wb.rooms.create({ title });\r\n        return room;\r\n    }\r\n    catch(err) {\r\n        console.log(err);\r\n        return;\r\n    }\r\n}\r\n\r\nexport const getRoomsAsync = async (wb) => {\r\n    try {\r\n        let rooms = await wb.rooms.list();\r\n        return rooms.items;\r\n    }\r\n    catch(err) {\r\n        console.log('Unable to get rooms: ', err);\r\n        return;\r\n    }\r\n}\r\n\r\nexport const getRoomByTitleAsync = async (wb, title) => {\r\n    let rooms = await getRoomsAsync(wb);\r\n    if(rooms)\r\n        return rooms.filter(r => r.title === title)[0];\r\n    return;\r\n}\r\n\r\nexport const getRoomByIdAsync = async (wb, roomId) => {\r\n    try {\r\n        let room = await wb.rooms.get(roomId);\r\n        if(room)\r\n            return room;\r\n    }\r\n    catch(err) {\r\n        return;\r\n    }\r\n}\r\n\r\n// ---------------------------------------------- Memberships ------------------------------------------------------\r\n\r\nexport const getAllMembershipsAsync = async (wb, roomId) => {\r\n    let roomMemberships = await wb.memberships.list({ roomId });\r\n    return roomMemberships.items;\r\n}\r\n\r\nexport const getMembershipAsync = async (wb, roomId, personId) => {\r\n    let memberships = await wb.memberships.list({ roomId });\r\n    let membership = memberships.items.filter(m => m.personId === personId)[0];\r\n    return membership;\r\n}\r\n\r\nexport const membershipExists = async (wb, roomId, personId) => {\r\n    let membership = await getMembershipAsync(wb, roomId, personId);\r\n    if(membership)\r\n        return true;\r\n    return false;\r\n}\r\n\r\nexport const createMembershipAsync = async (wb, roomId, personId, isRoomModerator=false) => {\r\n    try {\r\n        let exists = await membershipExists(wb, roomId, personId);\r\n        if(exists === false) {\r\n            return await wb.memberships.create({ roomId, personId, isModerator: isRoomModerator });\r\n        }\r\n        return;\r\n    }\r\n    catch(err) {\r\n        return;\r\n    }\r\n}\r\n\r\nexport const updateMembershipAsync = async (wb, updatedMembership) => {\r\n    return await wb.memberships.update(updatedMembership);\r\n}\r\n\r\n// export const removeMembershipAsync = async (wb, roomId, personId) => {\r\n//     let membership = await getMembershipAsync(wb, roomId, personId);\r\n//     if(membership)\r\n//         await wb.memberships.remove(membership);\r\n// }\r\n\r\nexport const removeMembershipAsync = async (wb, membership) => {\r\n    return wb.memberships.remove(membership);\r\n}\r\n\r\n// ---------------------------------------------- Messages ---------------------------------------------------------\r\n\r\nexport const getAllMessagesAsync = async (wb, roomId) => {\r\n    let messages = await getMessagesRecursively(wb, roomId, 1000)\r\n    return messages;\r\n}\r\n\r\nexport const getMessagesRecursively = async (wb, roomId, max = 1000) => {\r\n    let messages = (await wb.messages.list({ roomId, max })).items\r\n    if(messages.length === max)\r\n        return getMessagesRecursively(wb, roomId, max + 1000);\r\n    else\r\n        return messages;\r\n}\r\n\r\nexport const createMessageAsync = async (wb, roomId, text) => {\r\n    let message = await wb.messages.create({ roomId, text });\r\n    return message;\r\n}\r\n\r\nexport const updateMessageAsync = async (wb, id, text) => {\r\n    try {\r\n        let message = await wb.messages.create({ id, text });\r\n        return message;\r\n    } catch(e) {\r\n        return;\r\n    }\r\n}\r\n\r\nexport const removeMessageAsync = async (wb, messageId) => {\r\n    await wb.messages.remove(messageId);\r\n}\r\n\r\n// ---------------------------------------------- People ---------------------------------------------------------\r\n\r\nexport const getPersonByIdAsync = async (wb, personId) => {\r\n    try {\r\n        let person = await wb.people.get( personId );\r\n        return person;\r\n    }\r\n    catch(err) {\r\n        return;\r\n    }\r\n}\r\n\r\nexport const personIdExistsAsync = async (wb, personId) => {\r\n    try {\r\n        let person = await getPersonByIdAsync(wb, personId);\r\n        if(person)\r\n            return true;\r\n        return false;\r\n    }\r\n    catch(err) {\r\n        console.log('~ personIdExistsAsync: ', err);\r\n    }\r\n}\r\n\r\n// ---------------------------------------------- Guest operations ---------------------------------------------------------\r\n\r\nexport const getGuestDetails = async (guestAccessToken) => {\r\n    console.log('-> Executing getGuestDetails');\r\n    \r\n    if(guestAccessToken) {\r\n        try {\r\n        let res = await fetch('https://webexapis.com/v1/people/me', {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Authorization': `Bearer ${guestAccessToken}`\r\n                }\r\n            });\r\n            let data = await res.json();\r\n            return data;\r\n        }\r\n        catch(err) {\r\n            return;\r\n        }\r\n    }\r\n    return;\r\n}"],"sourceRoot":""}