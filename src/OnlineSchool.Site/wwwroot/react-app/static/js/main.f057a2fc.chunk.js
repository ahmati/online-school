(this["webpackJsonpwebex-react-app"]=this["webpackJsonpwebex-react-app"]||[]).push([[0],{10:function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"m",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"i",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"l",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"j",(function(){return d})),n.d(t,"k",(function(){return m})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return g})),n.d(t,"g",(function(){return f}));var r={Language:"webex-app-language",MeetingSipAddress:"meetingSipAddress",MeetingPassword:"meetingPassword",CiscoAuthToken:"ciscoAuthToken"},i={Single:"SINGLE",Multiple:"MULTIPLE",Disabled:"DISABLED"},a=(i.Single,i.Multiple,i.Disabled,[0,5,10,15]),o={LocalStreamProblem:"localStreamProblem",Loading:"loading",Initializing:"initializing",Registering:"registering",Joining:"joining",MeetingReady:"meetingReady",MeetingDestroyed:"meetingDestroyed",Failed:"failed",MissingInformation:"missingInformation",NetworkDisconnected:"networkDisconnected",ReconnectionStarting:"reconnectionStarting",ReconnectionSuccess:"reconnectionSuccess",ReconnectionFailure:"reconnectionFailure",NetworkConnected:"networkConnected"},s={NotInMeeting:"NOT_IN_MEETING",InLobby:"IN_LOBBY",InMeeting:"IN_MEETING"},c=(s.NotInMeeting,s.InLobby,s.InMeeting,{Active:"ACTIVE",NotActive:"INACTIVE"}),l=(c.Active,c.NotActive,{Idle:"idle",Paused:"paused",Recording:"recording"}),u=(l.Idle,l.Paused,l.Recording,{RaiseHand:"50585002-2564-4451-a2bc-4475db4b7fbe",LowerHand:"92aae601-1fc5-414e-88cc-3e06f4b343c8",RaiseHandLog:"*** alzato la mano ***"}),d={Low:"LOW",Medium:"MEDIUM",High:"HIGH"},m=[d.Low,d.Medium,d.High],p={Single:"Single",Equal:"Equal",ActivePresence:"ActivePresence",Prominent:"Prominent",OnePlusN:"OnePlusN"},g=["Single","Equal","ActivePresence","Prominent","OnePlusN"],f=10},1408:function(e,t){},1454:function(e,t){},1456:function(e,t){},1467:function(e,t){},1469:function(e,t){},1497:function(e,t){},1499:function(e,t){},1500:function(e,t){},1505:function(e,t){},1507:function(e,t){},1526:function(e,t){},1538:function(e,t){},1541:function(e,t){},156:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r="NDRkMTA0ZDEtNmU5NC00MDRjLWE2MjgtY2FiNGRhZDI4NjUzODI4OGIxMmMtNDI3_PF84_ebdf3b62-c327-4af2-8733-10d8711bb8cd",i="Y2lzY29zcGFyazovL3VzL09SR0FOSVpBVElPTi9iYjY1ODIwZi05MGFiLTQwMTctYWE4OC00MGNlNzkzZDIwM2M",a="OiE29yKCEnedeKwUuLpTXb1DkRKEExoePRt+73WiXfQ="},1603:function(e,t){},1905:function(e,t,n){},1906:function(e,t,n){},1907:function(e,t,n){},1909:function(e,t,n){},1910:function(e,t,n){},1911:function(e,t,n){},1912:function(e,t,n){},1960:function(e,t,n){"use strict";n.r(t);var r,i,a=n(3),o=n.n(a),s=n(96),c=n.n(s),l=(n(930),n(931),n(932),n(933),n(934),n(935),n(4)),u=n(5),d=n(18),m=n(17),p=n(324),g=n.n(p),f=n(1974),h="en-US",b="it-IT",v=[h,b],j=n(31),x=n(65),O=Object(x.a)({},h,{general:{changeLanguage:"change language",actions:"actions",close:"close",enterFullscreen:"enter fullscreen",exitFullscreen:"exit fullscreen",empty:"empty",goBack:"go back",minutes:"minutes",remove:"remove",save:"save",search:"search",showMore:"show more",showLess:"show less"},LiveMeeting:{mute:"mute",unmute:"unmute",participants:"participants",chat:"chat",raiseHand:"raise hand",lowerHand:"lower hand",executionSteps:{localStreamProblem:"Could not retrieve local audio/video. Make sure you have audio/video devices, and that the sources are not being used by another app.",loading:"loading...",initializing:"initializing webex instance...",registering:"registering device...",joining:"joining meeting...",meetingReady:"meeting ready",meetingDestroyed:"meeting has ended / you are no longer in meeting.",failed:"something failed \u2718",missingInformation:"internal server error! Some information is missing! \u2718",networkDisconnected:"network disconnected",reconnectionStarting:"attempting to reconnect...",reconnectionSuccess:"reconnection successful",reconnectionFailure:"Reconnection failed. Please try to re-join the meeting once again.",networkConnected:"network reconnected"},myScreen:"my screen",otherScreen:"{name}'s screen",unmuteRequest:"you are requested to unmute yourself. Unmute?",leaveMeetingPrompt:"are you sure you want to leave the meeting?",leaveMeetingPrompt_host:"you are about to end the meeting for all. Continue?",localVideo:"local video",remoteVideo:"remote video",recording:"recording",recordingPaused:"recording paused",maxNumberOfInterventions:"maximum number of interventions is 10",MeetingControls:{controls:"controls",toggleAudio:"toggle audio",muteAudio:"mute audio",unmuteAudio:"unmute audio",unmuteDisallowed:"your audio is blocked",toggleVideo:"toggle video",intervention:"intervention",muteVideo:"video on",unmuteVideo:"video off",toggleScreenShare:"toggle screen-share",shareScreen:"share screen",stopShare:"Stop share",leaveMeeting:"leave meeting",endMeeting:"end meeting"},OtherOptionsButton:{moreOptions:"more options",layout:"layout",displayMyVideo:"show my video",hideMyVideo:"hide my video",startRecording:"start recording",pauseRecording:"pause recording",resumeRecording:"resume recording",stopRecording:"stop recording",videoQuality:"video quality",remoteVideoQuality:"incoming video quality",low:"low",medium:"medium",high:"high",videoLayout:"video layout",single:"single",equal:"equal",activePresence:"active presence",prominent:"prominent"},Participants:{muteAll:"mute all",unmuteAll:"unmute all",raisedHands:"raised hands",hosts:"hosts",moderators:"moderators",guests:"guests"},Participant:{host:"host",me:"me",expel:"expel"},Chat:{chatNotAvailable:"chat is not available right now.",downloadChat:"download chat",writeMessage:"write a message"},notifications:{newMessage:"new message(s)",noHost:"meeting has ended due to having no host online (reason: host might have disconnected)"}},MeetingForm:{missingAuthToken:"Authorization token is missing",createMeeting:"new scheduled meeting",updateMeeting:"update meeting information",advancedOptions:"advanced options",noInvitees:"no invitees",title:"title",agenda:"agenda",password:"password",start:"start",end:"end",timezone:"timezone",sendEmail:"send email",allowAnyUserToBeCoHost:"allow any user to be co-host",enabledAutoRecordMeeting:"auto-record meeting",enabledJoinBeforeHost:"enable join before host"},Invitees:{newInvitation:"new invitation",noInvitees:"no invitees",invitees:"invitees",invitee:"invitee",email:"email",name:"nome",coHost:"co-host",invite:"invitare"},confirmations:{removeInvitee:"Are you sure you want to remove '{email}' from the invitees?"},notifications:{meetingCreated:"meeting created successfully",meetingUpdated:"meeting updated successfully",newMessage:"new message(s)",mutedByOthers:"you have been muted",meetingDestroyed:"meeting has ended / you are no longer in meeting.",noHost:"meeting has ended due to having no host online (reason: host might have disconnected)",maxHandRaiseReached:"maximum number of interventions is 10."},validations:{invalidEmail:"email is invalid",meeting:{titleEmpty:"title is required",startEmpty:"start time is required",endEmpty:"end time is required",startTimeBeforeCurrentTime:"start time cannot be before current time",endTimeBeforeCurrentTime:"end time cannot be before current time",endTimeBeforeStartTime:"end time cannot be before start time",invalidDuration:"meeting duration cannot be shorter than 10 minutes / longer than 24 hours",joinBeforeHostMinutes:'invalid "join before host" minutes'}}}),y=Object(x.a)({},b,{general:{changeLanguage:"cambia lingua",actions:"azioni",close:"chiudi",enterFullscreen:"vai fullscreen",exitFullscreen:"esci fullscreen",empty:"vuoto",goBack:"ritorno",minutes:"minuti",remove:"rimuovi",save:"salva",search:"ricerca",showMore:"mostra di pi\xf9",showLess:"mostra meno"},LiveMeeting:{mute:"mute",unmute:"unmute",participants:"participanti",chat:"chat",raiseHand:"alza la mano",lowerHand:"abbassa la mano",executionSteps:{localStreamProblem:"Impossibile verificare la disponibilit\xe0 di audio e video del tuo computer. Assicurati del funzionamento audio/video sul tuo computer e che questi non siano attualmente utilizzati da un'altra app.",loading:"caricamento in corso...",initializing:"inizializzazione istanza webex...",registering:"registrazione dispositivo...",joining:"ingresso meeting...",meetingReady:"meeting pronto",meetingDestroyed:"il meeting \xe8 concluso / non sei pi\xf9 nel meeting.",failed:"qualcosa \xe8 andata male \u2718",missingInformation:"internal server error! Mancano alcune informazioni! \u2718",networkDisconnected:"Rete internet disconnessa",reconnectionStarting:"Tentativo di riconnessione...",reconnectionSuccess:"Riconnessione con successo",reconnectionFailure:"Riconnessione fallita. Prova a rientrare nel meeting di nuovo.",networkConnected:"Rete riconnessa"},myScreen:"il mio video",otherScreen:"video di {name}",unmuteRequest:"ti viene richiesto di riattivare l'audio. Riattivare?",leaveMeetingPrompt:"sei sicuro di voler lasciare il meeting?",leaveMeetingPrompt_host:"stai per terminare il meeting per tutti. Continuare?",localVideo:"video locale",remoteVideo:"video remoto",recording:"registrazione",recordingPaused:"registrazione in pausa",maxNumberOfInterventions:"il numero massimo di interventi \xe8 10",MeetingControls:{controls:"controls",toggleAudio:"attiva/disattiva audio",muteAudio:"mute audio",unmuteAudio:"unmute audio",unmuteDisallowed:"il tuo audio \xe8 disattivato",toggleVideo:"attiva/disattiva video",intervention:"intervento",muteVideo:"disattiva video",unmuteVideo:"attiva video",toggleScreenShare:"attiva/disattiva condivisione video",shareScreen:"condividi video",stopShare:"Stop condivisione",leaveMeeting:"abbandona il meeting",endMeeting:"fine meeting"},OtherOptionsButton:{moreOptions:"altre opzioni",layout:"lo schema",displayMyVideo:"mostra il mio video",hideMyVideo:"nascondi il mio video",startRecording:"avvia registrazione",pauseRecording:"pause registrazione",resumeRecording:"riprendi registrazione",stopRecording:"stop registrazione",videoQuality:"video quality",remoteVideoQuality:"incoming video quality",low:"low",medium:"medium",high:"high",videoLayout:"layout del video",single:"singolo",equal:"uguale",activePresence:"presenza attiva",prominent:"prominente"},Participants:{muteAll:"mute all",unmuteAll:"unmute all",raisedHands:"mani alzate",hosts:"hosts",moderators:"moderatori",guests:"ospiti"},Participant:{host:"host",me:"me",expel:"espelli"},Chat:{chatNotAvailable:"la chat non \xe8 disponibile adesso.",downloadChat:"scarica chat",writeMessage:"scrivi un messaggio"}},MeetingForm:{missingAuthToken:"manca il token di autorizzazione",createMeeting:"nuovo riunione programmato",updateMeeting:"aggiorna le informazioni sulla riunione",advancedOptions:"opzioni avanzate",noInvitees:"nessun invitato",title:"titolo",agenda:"agenda",password:"password",start:"ora di inizio",end:"tempo di fine",timezone:"timezone",sendEmail:"invia una email",allowAnyUserToBeCoHost:"consentire a qualsiasi utente di essere co-host",enabledAutoRecordMeeting:"avvio automatico della registrazione",enabledJoinBeforeHost:"abilita l'accesso prima dell'host"},Invitees:{newInvitation:"nuovo invito",noInvitees:"nessun invitato",invitees:"invitati",invitee:"invitato",email:"e-mail",name:"nome",coHost:"co-host",invite:"invitare"},confirmations:{removeInvitee:"sei sicuro di voler rimuovere '{email}' dagli invitati?"},notifications:{meetingCreated:"la riunione \xe8 stata creata con successo",meetingUpdated:"la riunione \xe8 stata aggiornata con successo",newMessage:"nuovi messaggi",mutedByOthers:"il tuo audio \xe8 stato disattivato",meetingDestroyed:"il meeting \xe8 concluso / non sei pi\xf9 nel meeting.",noHost:"meeting \xe8 terminato a causa della mancanza di host online (motivo: l'host potrebbe essersi disconnesso)",maxHandRaiseReached:"il numero massimo di interventi \xe8 10"},validations:{invalidEmail:"l'email non \xe8 valida",meeting:{titleEmpty:"il titolo \xe8 obbligatorio",startEmpty:"l'ora di inizio \xe8 obbligatoria",endEmpty:"l'ora di fine \xe8 obbligatoria",startTimeBeforeCurrentTime:"l'ora di inizio non pu\xf2 essere precedente all'ora corrente",endTimeBeforeCurrentTime:"l'ora di fine non pu\xf2 essere precedente all'ora corrente",endTimeBeforeStartTime:"l'ora di fine non pu\xf2 essere precedente all'ora di inizio",invalidDuration:"la durata della riunione non pu\xf2 essere inferiore a 10 minuti / superiore a 24 ore",joinBeforeHostMinutes:'minuti "partecipa prima dell\'host" non validi'}}}),w=Object(j.a)(Object(j.a)({},O),y),M=n(2),k=n(58),S=(n(938),n(86)),N=n(8),R=n.n(N),C=n(12),I=n(914),L=function(e,t,n){Object(I.confirmAlert)({title:"Conferma",message:e,buttons:[{label:"Si",className:"confirm-yes",onClick:function(){var e=Object(C.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{label:"No",className:"confirm-no",onClick:function(){var e=Object(C.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=3;break}return e.next=3,n();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]})},A=function(){window.scrollTo(0,0)},E=function(e){var t=e.getDate(),n=e.getMonth()+1,r=e.getFullYear(),i=e.getHours(),a=e.getMinutes();return n=(n<10?"0":"")+n,t=(t<10?"0":"")+t,i=(i<10?"0":"")+i,a=(a<10?"0":"")+a,"".concat(r,"-").concat(n,"-").concat(t,"T").concat(i,":").concat(a,":00")},H=function(e){return new Promise((function(t){return setTimeout(t,e)}))},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"string"!==typeof e?"":e.charAt(0)?e.charAt(0).toUpperCase()+e.slice(1):void 0},V=function(){var e=Object(C.a)(R.a.mark((function e(t){var n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.getUserMedia(t);case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(C.a)(R.a.mark((function e(){var t;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V({audio:!0,video:!0});case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",!1);case 5:return t.getTracks().forEach((function(e){return e.stop()})),e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i.formatMessage({id:e},t)},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return T(i.formatMessage({id:e},t))},F=n(1972),z=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.props.locale;return Object(M.jsx)("header",{children:Object(M.jsx)("div",{className:"row m-0 p-0",children:Object(M.jsx)("div",{className:"col-12 m-0 p-0",children:Object(M.jsxs)(F.a,{id:"language-dropdown",className:"float-right",children:[Object(M.jsx)(F.a.Toggle,{variant:"primary",id:"dropdown-basic",className:"px-1 my-bg-primary",children:B("general.changeLanguage")}),Object(M.jsxs)(F.a.Menu,{children:[Object(M.jsxs)(F.a.Item,{className:t===h?"active":"",onClick:function(){return e.props.changeLanguage(h)},children:[Object(M.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAICAIAAAB/FOjAAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkFDMDBDOUI5MEQyRDExRTZCMTYwRTM1Mzc2MUVBNjZBIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkFDMDBDOUJBMEQyRDExRTZCMTYwRTM1Mzc2MUVBNjZBIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QUMwMEM5QjcwRDJEMTFFNkIxNjBFMzUzNzYxRUE2NkEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QUMwMEM5QjgwRDJEMTFFNkIxNjBFMzUzNzYxRUE2NkEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5DrIOHAAAAnElEQVR42pTOQQrCMBCF4RknNgRdWXoCwQt4AA8g2JN4Aw8rLlyLUDFNZ8Y0BTdOF75l+D8mrj1dqmqpqlAWRY8bOTTuLWDOEVEIXlVGggCJfb1ab2s32MIB5LAcKEIVlUX6JHMgslKSSWQQWXKvzJnZ4NzuSzoNBbF5PfrYAaINds97+fvXAONCiOw8g8GH39e5egTd9Qb/7CPAACXjSql7lb2oAAAAAElFTkSuQmCCMTA2OA==",style:{width:"13px",height:"10px"},alt:"en"}),Object(M.jsx)("small",{children:" English "})]}),Object(M.jsxs)(F.a.Item,{className:t===b?"active":"",onClick:function(){return e.props.changeLanguage(b)},children:[Object(M.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAVCAIAAACor3u9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTExIDc5LjE1ODMyNSwgMjAxNS8wOS8xMC0wMToxMDoyMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjMyNkM1MjREMEM3RTExRTY5MjcxOTRFODNENTg4QTQ2IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjMyNkM1MjRFMEM3RTExRTY5MjcxOTRFODNENTg4QTQ2Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MzI2QzUyNEIwQzdFMTFFNjkyNzE5NEU4M0Q1ODhBNDYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MzI2QzUyNEMwQzdFMTFFNjkyNzE5NEU4M0Q1ODhBNDYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4Ab6oxAAAAPklEQVR42mJkmOTGgAv8/u6v7rTBu4EBN3hY2fB6xVpmbm5cCpgYaAxGLRi1YNSCUQtGLRi1YNQCogBAgAEAMJkJWvloa2UAAAAASUVORK5CYII5NzQ=",style:{width:"13px",height:"10px"},alt:"it"}),Object(M.jsx)("small",{children:" Italian "})]})]})]})})})})}}]),n}(a.Component),U=n(57),Q=n(922),G=function(){return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[]),null},Y=n(915),_=n.n(Y),J=function(){return Object(M.jsx)(_.a,{showUnder:150,style:{zIndex:50,bottom:38,right:15,color:"#164da3"},children:Object(M.jsx)("i",{className:"fa fa-arrow-circle-up fa-2x","aria-hidden":"true"})})},Z=function(e){var t=e.component,n=(e.authStore,Object(Q.a)(e,["component","authStore"]));return Object(M.jsx)(U.b,Object(j.a)(Object(j.a)({},n),{},{render:function(e){return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(G,{}),Object(M.jsx)(t,Object(j.a)(Object(j.a)({},e),n)),Object(M.jsx)(J,{})]})}}))},W=n(28),q=(n(944),n(51)),X=n(10),K=n(230),$=n.n(K),ee=n(918),te=n(919),ne=n.n(te),re=(n(1905),n(1906),function(e){var t=e.id,n=e.isOpen,r=e.onClose,i=e.children;return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("div",{className:"slide-drawer-mask ".concat(n?"":"d-none"),onClick:r}),Object(M.jsx)("div",{id:t,className:"slide-drawer ".concat(n?"open":""),children:Object(M.jsx)("div",{className:"slide-drawer-container",children:i})})]})});re.defaultProps={id:"slidedrawer",isOpen:!1,onClose:function(){return console.log("Slidedrawer onClose")}};var ie=re,ae=n(1971),oe=function(e){var t=e.self,n=e.participant,r=e.onLowerHand,i=e.onToggleAudio,a=e.onRemove;e.onMakeHost;return n?Object(M.jsxs)("li",{className:"list-group-item",children:[n.handRaised?n.isSelf||t.isModerator?Object(M.jsx)("button",{className:"btn btn-sm btn-default rounded-circle",onClick:function(){return r(n.id)},title:B("LiveMeeting.lowerHand"),children:Object(M.jsx)("i",{className:"far fa-hand-paper"})}):Object(M.jsx)("button",{disabled:!0,className:"btn btn-sm btn-default rounded-circle",title:B("LiveMeeting.raiseHand"),children:Object(M.jsx)("i",{className:"far fa-hand-paper"})}):null,Object(M.jsxs)("span",{className:"pl-1",children:[" ",n.name," "]}),n.isHost?Object(M.jsxs)("small",{className:"text-muted",children:[" (",B("LiveMeeting.Participant.host"),") "]}):null," ",n.isSelf?Object(M.jsxs)("small",{className:"text-muted",children:[" (",B("LiveMeeting.Participant.me"),") "]}):null,!t.isModerator||n.isSelf||n.isModerator?null:Object(M.jsx)(M.Fragment,{children:Object(M.jsx)("button",{className:"btn btn-sm float-right text-danger",title:B("LiveMeeting.Participant.expel"),onClick:function(){return a(n.id)},children:Object(M.jsx)("i",{className:"fas fa-times"})})}),n.isSelf||t.isModerator?Object(M.jsx)("button",{className:"btn btn-sm text-success float-right participant-audio",title:"".concat(n.isAudioMuted?B("LiveMeeting.unmute"):B("LiveMeeting.mute")),onClick:function(){return i(n.id,!n.isAudioMuted)},children:Object(M.jsx)("i",{className:"fas fa-microphone".concat(n.isAudioMuted?"-slash":"")})}):null]}):null};oe.defaultProps={self:{isHost:!1,isModerator:!1},participant:null,onLowerHand:function(){return console.log("onLowerHand")},onToggleAudio:function(){return console.log("onToggleAudio")},onRemove:function(){return console.log("onRemove")},onMakeHost:function(){return console.log("onMakeHost")}};var se=oe,ce=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).onSearch=function(t){var n=e.props.participants,r=t.target.value.trim().toLowerCase(),i=n;r.length>=2&&(i=n.filter((function(e){return e.name.toLowerCase().includes(r)}))),e.setState({displaySet:i,searchKey:r})},e.adjustDisplayCount=function(t){e.setState({displayCount:e.state.displayCount+t})},e.state={displaySet:[],displayCount:10,searchKey:""},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.setState({displaySet:this.props.participants})}},{key:"componentDidUpdate",value:function(e){var t=this.state.searchKey,n=this.props.participants;if(!1===$()(n,e.participants)){var r=n;t.length>=2&&(r=n.filter((function(e){return e.name.toLowerCase().includes(t)}))),this.setState({displaySet:r})}}},{key:"render",value:function(){var e=this,t=this.state,n=t.displaySet,r=t.displayCount,i=this.props,a=i.id,o=(i.title,i.self),s=i.isOpen,c=i.onToggleOpen,l=(i.participants,i.onLowerHand),u=i.onToggleAudio,d=i.onRemove,m=i.onMakeHost,p=i.children;return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)("li",{id:"participants-section-title",className:"list-group-item border cursor-pointer border-bottom",onClick:c,children:[p,Object(M.jsx)("i",{className:"fas fa-chevron-".concat(s?"up":"down"," absolute-right mr-3")})]}),Object(M.jsx)(ae.a,{in:s,children:Object(M.jsxs)("div",{id:a,children:[Object(M.jsx)("input",{type:"search",placeholder:"".concat(B("general.search"),"..."),className:"search-input w-100",onChange:this.onSearch}),0===n.length?Object(M.jsx)("li",{className:"list-group-item",children:Object(M.jsxs)("small",{className:"text-muted ml-2",children:[Object(M.jsx)("i",{className:"fas fa-info"})," ",B("general.empty")]})}):Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("div",{className:"list-container",children:[n.slice(0,r).map((function(e){return Object(M.jsx)(se,{self:o,participant:e,onLowerHand:l,onToggleAudio:u,onRemove:d,onMakeHost:m},e.id)})),n.length>r?Object(M.jsx)("button",{className:"btn btn-sm btn-block",onClick:function(){return e.adjustDisplayCount(10)},children:B("general.showMore")}):null,r>10?Object(M.jsx)("button",{className:"btn btn-sm btn-block",onClick:function(){return e.adjustDisplayCount(-10)},children:B("general.showLess")}):null]})})]})})]})}}]),n}(a.Component);ce.defaultProps={id:"participants-section",self:{isHost:!1,isModerator:!1},isOpen:!1,onToggleOpen:function(){return console.log("onToggleOpen")},isModerator:!1,participants:[],onLowerHand:function(){return console.log("onLowerHand")},onToggleAudio:function(){return console.log("onToggleAudio")},onRemove:function(){return console.log("onRemove")},onMakeHost:function(){return console.log("onMakeHost")}};var le=ce,ue=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).prepareHandRaised=function(){var t=e.props,n=t.participants,r=t.handRaises,i=n.filter((function(e){return e.status===X.i.InMeeting})).sort((function(e,t){return e-t})),a=[];return r.forEach((function(e){var t=Object(j.a)({},i.filter((function(t){return t.id===e.participantId}))[0]);t.handRaised=e.timestamp,a.push(t)})),function(){var e=arguments.length>1?arguments[1]:void 0;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).sort((function(t,n){return new Date(t[e])-new Date(n[e])}))}(a,"handRaised"),a},e.state={isHandRaisedOpen:!0,isHostsOpen:!0,isModsOpen:!0,isGuestsOpen:!0},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.isHandRaisedOpen,r=t.isHostsOpen,i=t.isModsOpen,a=t.isGuestsOpen,o=this.props,s=o.id,c=o.isOpen,l=o.participants,u=l.filter((function(e){return!0===e.isSelf}))[0],d=l.filter((function(e){return e.status===X.i.InMeeting})).sort((function(e,t){return e-t})),m=this.prepareHandRaised(),p=d.filter((function(e){return e.isHost})),g=d.filter((function(e){return e.isModerator})),f=d.filter((function(e){return!e.isHost&&!e.isModerator}));return Object(M.jsxs)(ie,{id:s,isOpen:c,onClose:this.props.onClose,children:[Object(M.jsxs)("div",{className:"slide-drawer-header",children:[Object(M.jsxs)("b",{children:[" ",B("LiveMeeting.participants")," (",d.length,") "]}),Object(M.jsxs)("div",{className:"d-inline-block float-right",children:[u.isModerator?Object(M.jsxs)(F.a,{className:"d-inline-block p-0",children:[Object(M.jsx)(F.a.Toggle,{variant:"default",id:"participants-menu",className:"p-0 mr-3",children:Object(M.jsx)("i",{className:"fas fa-ellipsis-h"})}),Object(M.jsxs)(F.a.Menu,{children:[Object(M.jsxs)(F.a.Item,{onClick:this.props.onMuteAll,children:[" ",B("LiveMeeting.Participants.muteAll")," "]}),Object(M.jsxs)(F.a.Item,{onClick:this.props.onUnmuteAll,children:[" ",B("LiveMeeting.Participants.unmuteAll")," "]})]})]}):null,Object(M.jsx)("button",{className:"btn btn-sm btn-default ml-1",title:B("general.close"),children:Object(M.jsx)("i",{className:"fas fa-times fa-lg text-danger",onClick:this.props.onClose})})]})]}),Object(M.jsx)("div",{className:"slide-drawer-body",children:Object(M.jsxs)("ul",{className:"list-group list-group-flush h-100",children:[Object(M.jsx)(le,{id:"handRaised-section",self:u,isOpen:n,onToggleOpen:function(){return e.setState({isHandRaisedOpen:!n})},participants:m,onLowerHand:this.props.onLowerHand,onToggleAudio:this.props.onToggleAudio,onRemove:this.props.onRemove,onMakeHost:this.props.onMakeHost,children:Object(M.jsxs)("span",{children:[" ",B("LiveMeeting.Participants.raisedHands")," "]})}),Object(M.jsx)(le,{id:"hosts-section",self:u,isOpen:r,onToggleOpen:function(){return e.setState({isHostsOpen:!r})},participants:p,onLowerHand:this.props.onLowerHand,onToggleAudio:this.props.onToggleAudio,onRemove:this.props.onRemove,onMakeHost:this.props.onMakeHost,children:Object(M.jsxs)("span",{children:[" ",B("LiveMeeting.Participants.hosts")," "]})}),Object(M.jsx)(le,{id:"moderators-section",self:u,isOpen:i,onToggleOpen:function(){return e.setState({isModsOpen:!i})},participants:g,onLowerHand:this.props.onLowerHand,onToggleAudio:this.props.onToggleAudio,onRemove:this.props.onRemove,onMakeHost:this.props.onMakeHost,children:Object(M.jsxs)("span",{children:[" ",B("LiveMeeting.Participants.moderators")," "]})}),Object(M.jsx)(le,{id:"guests-section",self:u,isOpen:a,onToggleOpen:function(){return e.setState({isGuestsOpen:!a})},participants:f,onLowerHand:this.props.onLowerHand,onToggleAudio:this.props.onToggleAudio,onRemove:this.props.onRemove,onMakeHost:this.props.onMakeHost,children:Object(M.jsxs)("span",{children:[" ",B("LiveMeeting.Participants.guests")," "]})})]})})]})}}]),n}(a.Component);ue.defaultProps={id:"participants-drawer",participants:[],handRaises:[],isOpen:!1,onClose:function(){return console.log("onClose")},onMuteAll:function(){return console.log("onMuteAll")},onUnmuteAll:function(){return console.log("onUnmuteAll")},onLowerHand:function(){return console.log("onLowerHand")},onToggleAudio:function(){return console.log("onToggleAudio")},onRemove:function(){return console.log("onRemove")},onMakeHost:function(){return console.log("onMakeHost")}};var de=ue,me=(n(1907),n(920)),pe=n.n(me),ge=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(l.a)(this,n),t.call(this)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.userId,r=e.self,i=e.messages,a=e.fileSelectMode,o=e.placeholder,s=e.timestampFormat,c=e.showTypingIndicator,l=e.isOpen,u=e.isLoading,d=e.isReady,m=e.isChatDownloading,p=this.props,g=p.onClose,f=p.onSendMessage,h=p.onDownloadChat;return Object(M.jsx)(ie,{id:t,isOpen:l,onClose:g,children:d?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)("div",{className:"slide-drawer-header",children:[Object(M.jsxs)("b",{children:[" ",B("LiveMeeting.chat")," "]}),r.isModerator&&!1===u?Object(M.jsxs)("div",{className:"d-inline-block float-right",children:[Object(M.jsx)("button",{id:"downloadChatBtn",className:"btn btn-sm my-btn-primary px-1 py-0",title:B("LiveMeeting.Chat.downloadChat"),onClick:h,children:m?Object(M.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}):Object(M.jsx)("i",{className:"fas fa-download fa-lg"})}),Object(M.jsx)("button",{className:"btn btn-sm btn-default ml-1",title:B("general.close"),children:Object(M.jsx)("i",{className:"fas fa-times fa-lg text-danger",onClick:g})})]}):null]}),Object(M.jsx)("div",{className:"slide-drawer-body",children:u?Object(M.jsxs)("div",{className:"w-100 text-center absolute-center",children:[Object(M.jsx)("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"})," Loading..."]}):Object(M.jsx)(pe.a,{userId:n,messages:i,fileSelectMode:a,placeholder:o,timestampFormat:s,showTypingIndicator:c,onSendMessage:f})})]}):Object(M.jsxs)("small",{className:"absolute-center",children:[Object(M.jsx)("i",{className:"fas fa-info-circle"})," ",B("LiveMeeting.Chat.chatNotAvailable")]})})}}]),n}(a.Component);ge.defaultProps={id:"chat-default",userId:0,self:{isHost:!1,isModerator:!1},messages:[],fileSelectMode:X.c.Disabled,placeholder:"",timestampFormat:"calendar",showTypingIndicator:!1,isOpen:!1,isLoading:!1,isReady:!1,isChatDownloading:!1,onClose:function(){return console.log("onClose")},onSendMessage:function(){return console.log("onSendMessage")},onDownloadChat:function(){return console.log("onDownloadChat")}};var fe=ge,he=(n(1909),n(1910),function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).renderLocalVideoVisibilitySubmenu=function(){return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(F.a.Header,{children:B("LiveMeeting.OtherOptionsButton.layout")}),Object(M.jsx)(F.a.Item,{onClick:e.props.onToggleLocalVideoVisibility,children:e.props.isLocalVideoHidden?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("i",{className:"far fa-eye"})," ",B("LiveMeeting.OtherOptionsButton.displayMyVideo")]}):Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("i",{className:"far fa-eye-slash"})," ",B("LiveMeeting.OtherOptionsButton.hideMyVideo")]})})]})},e.renderRecordingSubmenu=function(){var t=e.props,n=t.isModerator,r=t.recordingState;if(!n)return null;switch(r){case X.l.Idle:return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(F.a.Header,{children:B("LiveMeeting.recording")}),Object(M.jsxs)(F.a.Item,{onClick:e.props.onStartRecording,children:[Object(M.jsx)("i",{className:"fas fa-play"})," ",B("LiveMeeting.OtherOptionsButton.startRecording")]})]});case X.l.Paused:return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(F.a.Header,{children:B("LiveMeeting.recording")}),Object(M.jsxs)(F.a.Item,{onClick:e.props.onResumeRecording,children:[Object(M.jsx)("i",{className:"fas fa-play"})," ",B("LiveMeeting.OtherOptionsButton.resumeRecording")]}),Object(M.jsxs)(F.a.Item,{onClick:e.props.onStopRecording,children:[Object(M.jsx)("i",{className:"fas fa-stop"})," ",B("LiveMeeting.OtherOptionsButton.stopRecording")]})]});case X.l.Recording:return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(F.a.Header,{children:B("LiveMeeting.recording")}),Object(M.jsxs)(F.a.Item,{onClick:e.props.onPauseRecording,children:[Object(M.jsx)("i",{className:"fas fa-pause"})," ",B("LiveMeeting.OtherOptionsButton.pauseRecording")]}),Object(M.jsxs)(F.a.Item,{onClick:e.props.onStopRecording,children:[Object(M.jsx)("i",{className:"fas fa-stop"})," ",B("LiveMeeting.OtherOptionsButton.stopRecording")]})]});default:return null}},e.renderHandRaiseSubmenu=function(){var t=e.props,n=t.isModerator,r=t.isRoomReady,i=t.isHandRaised,a=t.onToggleHand;return!n&&r?Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(F.a.Item,{onClick:function(){return a()},children:i?Object(M.jsxs)(M.Fragment,{children:[" ",Object(M.jsx)("i",{className:"far fa-hand-point-down"})," ",B("LiveMeeting.lowerHand")," "]}):Object(M.jsxs)(M.Fragment,{children:[" ",Object(M.jsx)("i",{className:"far fa-hand-paper"})," ",B("LiveMeeting.raiseHand")," "]})})}):null},e.renderLocalVideoQualitySubmenu=function(){return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(F.a.Header,{children:B("LiveMeeting.OtherOptionsButton.videoQuality")}),Object(M.jsx)(F.a.Item,{active:e.props.localVideoQuality===X.j.High,onClick:function(){return e.props.onChangeLocalVideoQuality(X.j.High)},children:B("LiveMeeting.OtherOptionsButton.high")}),Object(M.jsx)(F.a.Item,{active:e.props.localVideoQuality===X.j.Medium,onClick:function(){return e.props.onChangeLocalVideoQuality(X.j.Medium)},children:B("LiveMeeting.OtherOptionsButton.medium")}),Object(M.jsx)(F.a.Item,{active:e.props.localVideoQuality===X.j.Low,onClick:function(){return e.props.onChangeLocalVideoQuality(X.j.Low)},children:B("LiveMeeting.OtherOptionsButton.low")})]})},e.renderVideoLayoutSubmenu=function(){var t=e.props,n=t.layoutType,r=t.onChangeVideoLayout;return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(F.a.Header,{children:B("LiveMeeting.OtherOptionsButton.videoLayout")}),Object(M.jsx)(F.a.Item,{active:n===X.d.Single,onClick:function(){return r(X.d.Single)},children:B("LiveMeeting.OtherOptionsButton.single")}),Object(M.jsx)(F.a.Item,{active:n===X.d.Equal,onClick:function(){return r(X.d.Equal)},children:B("LiveMeeting.OtherOptionsButton.equal")}),Object(M.jsx)(F.a.Item,{active:n===X.d.ActivePresence,onClick:function(){return r(X.d.ActivePresence)},children:B("LiveMeeting.OtherOptionsButton.activePresence")}),Object(M.jsx)(F.a.Item,{active:n===X.d.Prominent,onClick:function(){return r(X.d.Prominent)},children:B("LiveMeeting.OtherOptionsButton.prominent")}),Object(M.jsxs)(F.a.Item,{active:n===X.d.OnePlusN,onClick:function(){return r(X.d.OnePlusN)},children:[X.d.OnePlusN," "]})]})},e.renderIncomingVideoQualitySubmenu=function(){return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(F.a.Header,{children:B("LiveMeeting.OtherOptionsButton.remoteVideoQuality")}),Object(M.jsx)(F.a.Item,{active:e.props.remoteVideoQuality===X.j.High,onClick:function(){return e.props.onChangeRemoteVideoQuality(X.j.High)},children:B("LiveMeeting.OtherOptionsButton.high")}),Object(M.jsx)(F.a.Item,{active:e.props.remoteVideoQuality===X.j.Medium,onClick:function(){return e.props.onChangeRemoteVideoQuality(X.j.Medium)},children:B("LiveMeeting.OtherOptionsButton.medium")}),Object(M.jsx)(F.a.Item,{active:e.props.remoteVideoQuality===X.j.Low,onClick:function(){return e.props.onChangeRemoteVideoQuality(X.j.Low)},children:B("LiveMeeting.OtherOptionsButton.low")})]})},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props.direction;return Object(M.jsxs)(F.a,{drop:e,id:"moreOptions",className:"d-inline-block",children:[Object(M.jsx)(F.a.Toggle,{variant:"light",className:"meeting-control rounded-circle shadow mx-1 px-3",title:B("LiveMeeting.OtherOptionsButton.moreOptions"),children:Object(M.jsx)("i",{className:"fas fa-ellipsis-v"})}),Object(M.jsxs)(F.a.Menu,{children:[this.renderLocalVideoVisibilitySubmenu(),this.renderLocalVideoQualitySubmenu(),this.renderVideoLayoutSubmenu()]})]})}}]),n}(a.Component));he.defaultProps={direction:"up",isModerator:!1,isRoomReady:!1,isLocalVideoHidden:!1,onToggleLocalVideoVisibility:function(){return console.log("onToggleLocalVideoVisibility")},isHandRaised:!1,recordingState:X.l.idle,onStartRecording:function(){return console.log("onStartRecording")},onPauseRecording:function(){return console.log("onPauseRecording")},onResumeRecording:function(){return console.log("onResumeRecording")},onStopRecording:function(){return console.log("onStopRecording")},localVideoQuality:X.j.Low,remoteVideoQuality:X.j.Low,onChangeLocalVideoQuality:function(){return console.log("onChangeLocalVideoQuality")},onChangeRemoteVideoQuality:function(){return console.log("onChangeRemoteVideoQuality")},layoutType:void 0,onChangeVideoLayout:function(){return console.log("onChangeVideoLayout")}};var be=he,ve=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).renderAudioControl=function(){var t=e.props.self;return t.disallowUnmute&&t.isAudioMuted?Object(M.jsxs)("button",{disabled:!0,id:"toggleAudioBtn",className:"meeting-control btn btn-md btn-light rounded-pill shadow mx-1",title:B("LiveMeeting.MeetingControls.unmuteDisallowed"),children:[Object(M.jsx)("i",{className:"fas fa-lock"}),Object(M.jsxs)("span",{children:[" ",B("LiveMeeting.MeetingControls.unmuteAudio")]})]}):Object(M.jsxs)("button",{id:"toggleAudioBtn",className:"meeting-control btn btn-md btn-light rounded-pill shadow mx-1",title:B("LiveMeeting.MeetingControls.toggleAudio"),onClick:e.props.onToggleAudio,children:[Object(M.jsx)("i",{className:"fas fa-microphone".concat(t.isAudioMuted?"-slash":" my-text-primary")}),Object(M.jsxs)("span",{children:[" ",t.isAudioMuted?B("LiveMeeting.MeetingControls.unmuteAudio"):B("LiveMeeting.MeetingControls.muteAudio")," "]})]})},e.renderRaiseHand=function(){var t=e.props,n=t.self,r=t.isRoomReady,i=t.isHandRaised,a=t.handRaisesCount;if(!n.isModerator&&r)return!i&&a>=X.g?Object(M.jsxs)("button",{disabled:!0,id:"toggleHandBtn",className:"meeting-control btn btn-md btn-light rounded-pill shadow mx-1",title:B("notifications.maxHandRaiseReached"),children:[Object(M.jsx)("i",{className:"far fa-hand-paper"}),Object(M.jsxs)("span",{children:[" ",B("LiveMeeting.raiseHand")," "]})]}):Object(M.jsxs)("button",{id:"toggleHandBtn",className:"meeting-control btn btn-md btn-light rounded-pill shadow mx-1",title:B("LiveMeeting.MeetingControls.intervention"),onClick:Object(C.a)(R.a.mark((function t(){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.onToggleHand();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),children:[i?Object(M.jsx)("i",{className:"far fa-hand-point-down"}):Object(M.jsx)("i",{className:"far fa-hand-paper"}),Object(M.jsxs)("span",{children:[" ",B(i?"LiveMeeting.lowerHand":"LiveMeeting.raiseHand")," "]})]})},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.self,n=e.isRoomReady,r=e.isLocalVideoHidden,i=e.isLocalSharing,a=e.recordingState,o=e.isHandRaised,s=e.localVideoQuality,c=e.remoteVideoQuality,l=e.layoutType,u=this.props,d=u.onToggleLocalVideoVisibility,m=u.onQuitMeeting,p=(u.onToggleAudio,u.onToggleVideo),g=u.onToggleShare,f=u.onStartRecording,h=u.onPauseRecording,b=u.onResumeRecording,v=u.onStopRecording,j=(u.onToggleHand,u.onChangeLocalVideoQuality),x=u.onChangeRemoteVideoQuality,O=u.onChangeVideoLayout,y=u.onToggleParticipantsDrawer,w=u.onToggleChatDrawer;return t?Object(M.jsx)("div",{id:"meeting-controls",className:"row m-0 p-0",children:Object(M.jsxs)("div",{className:"col-12 m-0 p-0",children:[Object(M.jsxs)("div",{className:"absolute-left left-controls",children:[this.renderAudioControl(),Object(M.jsxs)("button",{id:"toggleVideoBtn",className:"meeting-control btn btn-md btn-light rounded-pill shadow mx-1",title:B("LiveMeeting.MeetingControls.toggleVideo"),onClick:p,children:[Object(M.jsx)("i",{className:"fas fa-video".concat(t.isVideoMuted?"-slash":" my-text-primary")}),Object(M.jsxs)("span",{children:[" ",t.isVideoMuted?B("LiveMeeting.MeetingControls.unmuteVideo"):B("LiveMeeting.MeetingControls.muteVideo")," "]})]}),Object(M.jsxs)("button",{id:"toggleShareScreenBtn",className:"meeting-control btn btn-md btn-light rounded-pill shadow mx-1",title:B("LiveMeeting.MeetingControls.toggleScreenShare"),onClick:Object(C.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),children:[Object(M.jsx)("i",{className:"fas fa-desktop ".concat(i?" my-text-primary":"")}),Object(M.jsxs)("span",{children:[" ",B(i?"LiveMeeting.MeetingControls.stopShare":"LiveMeeting.MeetingControls.shareScreen")," "]})]}),this.renderRaiseHand(),Object(M.jsx)(be,{isModerator:t.isModerator,isRoomReady:n,isLocalVideoHidden:r,onToggleLocalVideoVisibility:d,isHandRaised:o,recordingState:a,onStartRecording:f,onPauseRecording:h,onResumeRecording:b,onStopRecording:v,localVideoQuality:s,remoteVideoQuality:c,onChangeLocalVideoQuality:j,onChangeRemoteVideoQuality:x,layoutType:l,onChangeVideoLayout:O}),Object(M.jsx)("button",{id:"endMeetingBtn",className:"meeting-control btn btn-md btn-danger rounded-circle shadow mx-1",title:t.isHost?B("LiveMeeting.MeetingControls.endMeeting"):B("LiveMeeting.MeetingControls.leaveMeeting"),onClick:Object(C.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:case"end":return e.stop()}}),e)}))),children:Object(M.jsx)("i",{className:"fas fa-times"})})]}),Object(M.jsx)("div",{className:"absolute-center center-controls",children:Object(M.jsx)("button",{id:"endMeetingBtn",className:"btn btn-md btn-danger rounded-circle shadow mx-1",title:t.isHost?B("LiveMeeting.MeetingControls.endMeeting"):B("LiveMeeting.MeetingControls.leaveMeeting"),onClick:Object(C.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:case"end":return e.stop()}}),e)}))),children:Object(M.jsx)("i",{className:"fas fa-times"})})}),Object(M.jsx)("div",{className:"absolute-right right-controls mr-2",children:Object(M.jsxs)("div",{className:"btn-group shadow",role:"group","aria-label":"Participants | Chat",children:[Object(M.jsxs)("button",{id:"toggleParticipantsBtn",className:"meeting-control btn btn-md btn-light",title:B("LiveMeeting.participants"),onClick:y,children:[Object(M.jsx)("i",{className:"fas fa-users"}),Object(M.jsxs)("span",{children:[" ",B("LiveMeeting.participants")," "]})]}),Object(M.jsxs)("button",{id:"toggleChatBtn",className:"meeting-control btn btn-md btn-light border-left",title:B("LiveMeeting.chat"),onClick:w,children:[Object(M.jsx)("i",{className:"fas fa-comments"}),Object(M.jsxs)("span",{children:[" ",B("LiveMeeting.chat")," "]})]})]})})]})}):null}}]),n}(a.Component);ve.defaultProps={self:null,isRoomReady:!1,isLocalVideoHidden:!1,onToggleLocalVideoVisibility:function(){return console.log("onToggleLocalVideoVisibility")},onQuitMeeting:function(){return console.log("onQuitMeeting")},onToggleAudio:function(){return console.log("onToggleAudio")},onToggleVideo:function(){return console.log("onToggleVideo")},onToggleShareScreen:function(){return console.log("onToggleShareScreen")},isLocalSharing:!1,recordingState:X.l.Idle,onStartRecording:function(){return console.log("onStartRecording")},onPauseRecording:function(){return console.log("onPauseRecording")},onResumeRecording:function(){return console.log("onResumeRecording")},onStopRecording:function(){return console.log("onStopRecording")},isHandRaised:!1,handRaisesCount:0,onToggleHand:function(){return console.log("onToggleHand")},localVideoQuality:X.j.Low,remoteVideoQuality:X.j.Low,onChangeLocalVideoQuality:function(){return console.log("onChangeLocalVideoQuality")},onChangeRemoteVideoQuality:function(){return console.log("onChangeRemoteVideoQuality")},layoutType:void 0,onChangeVideoLayout:function(){return console.log("onChangeVideoLayout")},onToggleParticipantsDrawer:function(){return console.log("onToggleParticipantsDrawer")},onToggleChatDrawer:function(){return console.log("onToggleChatDrawer")}};var je=ve,xe=(n(1911),function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).componentDidMount=function(){e.videoContainer.current.addEventListener("mousemove",(function(t){e.glimpseOverlay()})),e.videoContainer.current.addEventListener("fullscreenchange",(function(t){document.fullscreenElement?e.setState({isFullscreen:!0}):e.setState({isFullscreen:!1})}))},e.componentWillUnmount=function(){e.videoContainer.current.removeEventListener("mousemove",null),e.videoContainer.current.removeEventListener("fullscreenchange",null)},e.setVideoStream=function(t){e.video.current.srcObject=t},e.setAudioStream=function(t){e.audio.current.srcObject=t},e.isFullScreen=function(){var t;return null!==(t=e.state.isFullscreen)&&void 0!==t&&t},e.toggleFullscreen=function(){e.state.isFullscreen?document.exitFullscreen():e.videoContainer.current.requestFullscreen()},e.toggleAudio=function(){e.state.volume>0?e.setVolume(0):e.setVolume(100)},e.toggleVolume=function(t){e.setVolume(t.target.value)},e.setVolume=function(t){e.audio.current.volume=t/100,e.setState({volume:t})},e.glimpseOverlay=function(){e.setState({showOverlay:!0}),clearTimeout(e.mouseTimeout),e.mouseTimeout=setTimeout((function(){return e.setState({showOverlay:!1})}),2e3)},e.mouseTimeout=null,e.videoContainer=o.a.createRef(),e.video=o.a.createRef(),e.audio=o.a.createRef(),e.state={showOverlay:!0,isFullscreen:!1,volume:100},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.title,r=t.showControls,i=this.state,a=i.showOverlay,o=i.isFullscreen,s=i.volume;return Object(M.jsxs)("div",{ref:this.videoContainer,className:"video-player",onDoubleClick:function(){return e.toggleFullscreen()},children:[a?Object(M.jsxs)("div",{className:"video-player-overlay",children:[n?Object(M.jsxs)("small",{className:"video-title px-1 bg-white text-dark rounded shadow-lg",children:[Object(M.jsx)("i",{className:"fas fa-info fa-sm"})," ",n]}):null,Object(M.jsxs)("div",{className:"video-controls shadow",children:[r?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("button",{className:"btn btn-sm border",onClick:this.toggleAudio,children:Object(M.jsx)("i",{className:"fas ".concat(s>0?"fa-volume-up":"fa-volume-mute")})}),Object(M.jsx)("input",{id:"audioSlider",type:"range",className:"mr-1",min:"0",max:"100",step:"1",value:s,onChange:this.toggleVolume})]}):null,Object(M.jsx)("button",{className:"btn btn-default btn-sm video-fullscreen border",title:B(o?"general.exitFullscreen":"general.enterFullscreen"),onClick:this.toggleFullscreen,children:o?Object(M.jsx)("i",{className:"fas fa-compress-alt"}):Object(M.jsx)("i",{className:"fas fa-expand-alt"})})]})]}):null,Object(M.jsx)("video",{muted:!0,ref:this.video,autoPlay:!0,playsInline:!0}),Object(M.jsx)("audio",{ref:this.audio,autoPlay:!0,playsInline:!0})]})}}]),n}(a.Component));xe.defaultProps={title:null,showControls:!1};var Oe=xe,ye=(n(1912),function(e){var t=e.recordingState;return t&&t!==X.l.Idle?t&&t===X.l.Recording?Object(M.jsx)("div",{id:"recording-indicator",children:Object(M.jsx)("small",{children:Object(M.jsxs)("i",{className:"fas fa-record-vinyl text-danger",children:[" ",B("LiveMeeting.recording")," "]})})}):t&&t===X.l.Paused?Object(M.jsx)("div",{id:"recording-indicator",children:Object(M.jsx)("small",{children:Object(M.jsxs)("i",{className:"fas fa-record-vinyl text-warning",children:[" ",B("LiveMeeting.recordingPaused")," "]})})}):void 0:null});ye.defaultProps={recordingState:X.l.Idle};var we=ye,Me=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).onWindowClose=function(e){return e.preventDefault(),e.returnValue},e.setProgress=Object(C.a)(R.a.mark((function t(){var n,r,i,a=arguments;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:0,r=a.length>1?a[1]:void 0,i=a.length>2&&void 0!==a[2]?a[2]:"",e.setState({isMeetingReady:r,executionStep:i}),t.next=6,H(n);case 6:case"end":return t.stop()}}),t)}))),e.initChatRoom=Object(C.a)(R.a.mark((function t(){var n,r,i,a,o,s,c,l,u;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("-> Executing initChatRoom"),n=e.sdkMeeting,r=e.getRoomTitle(),i=[],a=null,o=[],!n){t.next=35;break}if(s=n.members.membersCollection.members,Object.keys(s).forEach((function(e){o.push(s[e]),s[e].isSelf&&(a=s[e]),s[e].status===X.i.InMeeting&&!s[e].isSelf&&s[e].isHost&&i.push(s[e])})),console.log("-> Moderators already in meeting: ",i),!a){t.next=35;break}return t.next=13,Object(q.j)(e.webex,r);case 13:if(!(c=t.sent)){t.next=19;break}return t.next=17,e.setRoom(c.id);case 17:t.next=35;break;case 19:if(!a.isHost||0!==i.length){t.next=35;break}return t.next=22,Object(q.d)(e.webex,r);case 22:return l=t.sent,t.next=25,Object(q.e)(e.webex,l.id);case 25:return(u=t.sent[0]).isModerator=!0,t.next=29,Object(q.t)(e.webex,u);case 29:if(u=t.sent,!l){t.next=33;break}return t.next=33,e.setRoom(l.id,o);case 33:t.next=35;break;case 35:case"end":return t.stop()}}),t)}))),e.setRoom=function(){var t=Object(C.a)(R.a.mark((function t(n,r){var i,a,o,s,c,l,u,d,m,p;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isRoomLoading:!0}),i=e.state,a=i.senderDetails,o=i.handRaises,s=i.self,c=[],l=[],t.next=6,Object(q.f)(e.webex,n);case 6:(u=t.sent).sort((function(e,t){return new Date(e.created)-new Date(t.created)})),d=u.map((function(e){return e.personId})).filter((function(e,t,n){return n.indexOf(e)===t})),m=R.a.mark((function t(n){var r;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a.filter((function(e){return e.id===d[n]}))[0]){t.next=5;break}return t.next=4,Object(q.h)(e.webex,d[n]);case 4:r=t.sent;case 5:l.push(r);case 6:case"end":return t.stop()}}),t)})),p=0;case 11:if(!(p<d.length)){t.next=16;break}return t.delegateYield(m(p),"t0",13);case 13:p++,t.next=11;break;case 16:u.forEach((function(t){if(e.isCustomMessage(t.text)){var n=JSON.parse(t.text);if(n.signal===X.a.RaiseHand){var i;(null!==(i=null===r||void 0===r?void 0:r.findIndex((function(e){return e.id===n.forParticipantId&&e.status===X.i.InMeeting})))&&void 0!==i?i:-1)>-1&&o.push({participantId:n.forParticipantId,timestamp:t.created})}else{var a=o.findIndex((function(e){return e.participantId===n.forParticipantId}));a>-1&&o.splice(a,1)}}else{var s,u,d=null!==(s=null===(u=l.filter((function(e){return e.id===t.personId}))[0])||void 0===u?void 0:u.displayName)&&void 0!==s?s:t.personEmail,m=e.buildMessage(t.id,t.text,t.created,t.updated,{id:t.personId,name:d});c.push(m)}})),e.setState({roomId:n,isRoomLoading:!1,isRoomReady:!0,messages:c,senderDetails:l,handRaises:o}),!0===(-1!==o.findIndex((function(e){return e.participantId===s.id})))&&e.toggleHand();case 20:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.getRoomTitle=function(){var t=e.sdkMeeting.meetingInfo,n=t.meetingName,r=t.meetingNumber;return"".concat(n," (").concat(r,")")},e.bindMeetingEvents=function(){var t=Object(C.a)(R.a.mark((function t(n){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("-> Executing bindMeetingEvents"),n.on("all",(function(e,t){console.log("** Meeting:all ** ",e,t)})),n.on("error",(function(e){console.error("** Meeting:error ** ",e)})),n.on("DESTROY_MEETING",function(){var t=Object(C.a)(R.a.mark((function t(n){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.leaveMeeting();case 3:e.setProgress(0,!1,X.b.MeetingDestroyed),(e.localVideo.current.isFullScreen()||e.remoteVideo.current.isFullScreen()||e.screenShare.current.isFullScreen())&&document.exitFullscreen(),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()),n.on("media:ready",(function(t){t&&("local"!==t.type&&"Local"!==t.type||e.localVideo.current.setVideoStream(t.stream),"remoteAudio"===t.type&&e.remoteVideo.current.setAudioStream(t.stream),"remoteVideo"===t.type&&e.remoteVideo.current.setVideoStream(t.stream),"localShare"===t.type&&(e.localShareStream=t.stream),"remoteShare"===t.type&&(e.remoteShareStream=t.stream))})),n.on("media:stopped",(function(t){"local"===t.type&&e.localVideo&&e.localVideo.current&&e.localVideo.current.setVideoStream(null),"remoteAudio"===t.type&&e.remoteVideo&&e.remoteVideo.current&&e.remoteVideo.current.setAudioStream(null),"remoteVideo"===t.type&&e.remoteVideo&&e.remoteVideo.current&&e.remoteVideo.current.setVideoStream(null),"localShare"===t.type&&e.screenShare&&e.screenShare.current&&e.screenShare.current.setVideoStream(null),"remoteShare"===t.type&&e.screenShare&&e.screenShare.current&&e.screenShare.current.setVideoStream(null)})),n.members.on("members:update",function(){var t=Object(C.a)(R.a.mark((function t(n){var r,i,a,o,s,c;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],i=null,a=n.full,Object.keys(a).forEach((function(t){var n=e.extractMemberInfo(a[t]);n.isSelf&&(i=n),r.push(n)})),console.log("Participants: ",r),e.setState({participants:r,self:i}),t.next=8,e.getPersonalInfo();case 8:return o=r.filter((function(e){return e.status===X.i.InMeeting})),s=o.filter((function(e){return e.isHost})),c=r.filter((function(e){return e.status!==X.i.InMeeting})),e.handleNoHost(o,i),t.next=14,e.handleInMeeting(o,s);case 14:return t.next=16,e.handleNotInMeeting(c,s);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),n.on("meeting:self:mutedByOthers",(function(e){Object(k.c)("\ud83d\udd07 ".concat(B("notifications.mutedByOthers")),{transition:k.a,position:"top-right",autoClose:3e3,toastId:"fcd8f4b2-0c05-4c2b-b87d-5ed7d29e5da0"})})),n.on("meeting:self:requestedToUnmute",(function(t){e.handleUnmuteRequest()})),n.on("meeting:startedSharingLocal",(function(){e.screenShare.current.setVideoStream(e.localShareStream),e.setState({isLocalSharing:!0}),(e.localVideo.current.isFullScreen()||e.remoteVideo.current.isFullScreen())&&document.exitFullscreen()})),n.on("meeting:stoppedSharingLocal",(function(){e.screenShare.current.setVideoStream(null),e.setState({isLocalSharing:!1}),e.screenShare.current.isFullScreen()&&document.exitFullscreen()})),n.on("meeting:startedSharingRemote",(function(){e.screenShare.current.setVideoStream(e.remoteShareStream),e.setState({isRemoteSharing:!0}),(e.localVideo.current.isFullScreen()||e.remoteVideo.current.isFullScreen())&&document.exitFullscreen()})),n.on("meeting:stoppedSharingRemote",(function(){e.screenShare.current.setVideoStream(null),e.setState({isRemoteSharing:!1}),e.screenShare.current.isFullScreen()&&document.exitFullscreen()})),n.on("network:disconnected",(function(){e.setProgress(0,!1,X.b.NetworkDisconnected),(e.localVideo.current.isFullScreen()||e.remoteVideo.current.isFullScreen()||e.screenShare.current.isFullScreen())&&document.exitFullscreen()})),n.on("meeting:reconnectionStarting",(function(){e.setProgress(0,!1,X.b.ReconnectionStarting)})),n.on("meeting:reconnectionSuccess",(function(){e.setProgress(500,!1,X.b.ReconnectionSuccess),e.setProgress(0,!0)})),n.on("meeting:reconnectionFailure",(function(t){e.setProgress(0,!1,X.b.ReconnectionFailure)})),n.on("network:connected",(function(){e.setProgress(500,!1,X.b.NetworkConnected),e.setProgress(0,!0)}));case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.unbindMeetingEvents=function(e){try{e.off("all"),e.off("error"),e.off("media:ready"),e.off("media:stopped"),e.off("meeting:startedSharingLocal"),e.off("meeting:stoppedSharingLocal"),e.off("meeting:startedSharingRemote"),e.off("meeting:stoppedSharingRemote"),e.off("meeting:self:mutedByOthers"),e.off("meeting:self:requestedToUnmute"),e.off("members:update")}catch(t){console.error(t)}},e.extractMemberInfo=function(e){var t=e.id,n=e.name,r=e.isSelf,i=e.isHost,a=e.isModerator,o=e.isAudioMuted,s=e.isVideoMuted,c=e.isContentSharing,l=e.isRecording,u=e.isMutable,d=e.isRemovable,m=e.status,p={id:t,personId:e.participant.person.id,name:n,isSelf:r,isHost:i,isModerator:a,isAudioMuted:o,isVideoMuted:s,isContentSharing:c,isRecording:l,isMutable:u,isRemovable:d,status:m};if(p.status===X.i.InMeeting){var g=e.participant.controls.audio,f=g.disallowUnmute,h=g.requestedToUnmute;p.disallowUnmute=f,p.requestedToUnmute=h}return p},e.getPersonalInfo=Object(C.a)(R.a.mark((function t(){var n,r,i;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.state,r=n.self,i=n.selfDetails,!r||i){t.next=6;break}return t.next=4,Object(q.h)(e.webex,r.personId);case 4:(i=t.sent)&&e.setState({selfDetails:i});case 6:case"end":return t.stop()}}),t)}))),e.handleNoHost=function(){var t=Object(C.a)(R.a.mark((function t(n,r){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==n.filter((function(e){return e.isHost})).length){t.next=4;break}return t.next=4,e.leaveMeeting();case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.handleInMeeting=function(){var t=Object(C.a)(R.a.mark((function t(n,r){var i,a,o,s,c,l,u,d,m;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=e.state,a=i.roomId,o=i.memberships,s=i.handRaises,c=!!r.filter((function(e){return e.isSelf}))[0],l=n.map((function(e){return e.id})),s.forEach((function(e,t){l.includes(e.participantId)||s.splice(t,1)})),u=Object(W.a)(n),t.prev=5,m=R.a.mark((function t(){var n,r,i,s,l,u;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=d.value,r=n.id,i=n.personId,n.name,t.prev=2,!c||n.isSelf){t.next=15;break}if(!!(null===(s=o.filter((function(e){return e.participantId===r}))[0])||void 0===s?void 0:s.membership)){t.next=15;break}return t.next=8,e.webex.memberships.list({roomId:a,personId:i});case 8:if(l=t.sent.items[0]){t.next=13;break}return t.next=12,Object(q.b)(e.webex,a,i,!1);case 12:l=t.sent;case 13:u={participantId:r,membership:l},o.push(u);case 15:t.next=19;break;case 17:t.prev=17,t.t0=t.catch(2);case 19:case"end":return t.stop()}}),t,null,[[2,17]])})),u.s();case 8:if((d=u.n()).done){t.next=12;break}return t.delegateYield(m(),"t0",10);case 10:t.next=8;break;case 12:t.next=17;break;case 14:t.prev=14,t.t1=t.catch(5),u.e(t.t1);case 17:return t.prev=17,u.f(),t.finish(17);case 20:e.setState({handRaises:s,memberships:o});case 21:case"end":return t.stop()}}),t,null,[[5,14,17,20]])})));return function(e,n){return t.apply(this,arguments)}}(),e.handleNotInMeeting=function(){var t=Object(C.a)(R.a.mark((function t(n,r){var i,a,o,s,c,l,u;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=e.state,i.roomId,i.participants,a=i.memberships,o=i.handRaises,s=!!r.filter((function(e){return e.isSelf}))[0],c=Object(W.a)(n),t.prev=3,u=R.a.mark((function t(){var n,r,i,c,u,d;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=l.value,r=n.id,n.personId,(i=o.findIndex((function(e){return e.participantId===r})))>-1&&o.splice(i,1),t.prev=4,!s||n.isSelf){t.next=17;break}if(!(u=null===(c=a.filter((function(e){return e.participantId===r}))[0])||void 0===c?void 0:c.membership)){t.next=17;break}return t.prev=8,t.next=11,Object(q.q)(e.webex,u);case 11:d=a.findIndex((function(e){return e.participantId===r})),a.splice(d,1),t.next=17;break;case 15:t.prev=15,t.t0=t.catch(8);case 17:t.next=21;break;case 19:t.prev=19,t.t1=t.catch(4);case 21:case"end":return t.stop()}}),t,null,[[4,19],[8,15]])})),c.s();case 6:if((l=c.n()).done){t.next=10;break}return t.delegateYield(u(),"t0",8);case 8:t.next=6;break;case 10:t.next=15;break;case 12:t.prev=12,t.t1=t.catch(3),c.e(t.t1);case 15:return t.prev=15,c.f(),t.finish(15);case 18:e.setState({handRaises:o,memberships:a});case 19:case"end":return t.stop()}}),t,null,[[3,12,15,18]])})));return function(e,n){return t.apply(this,arguments)}}(),e.bindMembershipEvents=Object(C.a)(R.a.mark((function t(){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.webex.memberships.listen();case 3:console.log("-> Listening for memberships..."),e.webex.memberships.on("created",function(){var t=Object(C.a)(R.a.mark((function t(n){var r;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,console.log("New membership"),-1!==e.state.roomId){t.next=9;break}return t.next=5,Object(q.i)(e.webex,n.data.roomId);case 5:if(!(r=t.sent)||r.title!==e.getRoomTitle()){t.next=9;break}return t.next=9,e.setRoom(n.data.roomId);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log("Error in membership:created ",t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()),e.webex.memberships.on("deleted",(function(t){try{console.log("-> Deleted membership");var n=e.state,r=n.roomId,i=(n.self,n.selfDetails),a=t.data.personId,o=i&&i.id===a,s=r===t.data.roomId;-1!==r&&o&&s&&e.setState({roomId:-1,isRoomReady:!1})}catch(c){console.log("Error in membership:created ",c)}})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("-> Unable to register for membership events: ",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e.unbindMembershipEvents=Object(C.a)(R.a.mark((function t(){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{e.webex.memberships.stopListening(),e.webex.memberships.off("created"),e.webex.memberships.off("updated"),e.webex.memberships.off("deleted")}catch(n){console.error(n)}case 1:case"end":return t.stop()}}),t)}))),e.bindMessageEvents=Object(C.a)(R.a.mark((function t(){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.webex.messages.listen();case 3:console.log("-> Listening for messages..."),e.webex.messages.on("created",function(){var t=Object(C.a)(R.a.mark((function t(n){var r,i,a,o,s,c,l,u,d,m,p,g,f,h,b,v,j,x,O,y,w,M;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state,o=a.roomId,s=a.messages,a.self,c=a.selfDetails,l=a.senderDetails,u=a.isChatOpen,d=!!n.data.updated,m=n.data,p=m.id,g=m.text,f=m.personId,h=m.personEmail,b=m.created,v=m.updated,j=n.actorId,x=l.filter((function(e){return e.id===f}))[0]){t.next=10;break}return t.next=8,Object(q.h)(e.webex,f);case 8:x=t.sent,l.push(x);case 10:if(O=null!==(r=null===(i=x)||void 0===i?void 0:i.displayName)&&void 0!==r?r:h,n.data.roomId!==o){t.next=20;break}if(y=c&&j===c.id,!e.isCustomMessage(g)){t.next=18;break}return t.next=16,e.handleCustomMessage(n,x);case 16:t.next=20;break;case 18:g!==X.a.RaiseHandLog&&(w=e.buildMessage(p,g,b,v,{id:j,name:O}),d?g===X.a.RaiseHandLog?s.push(w):(M=s.findIndex((function(e){return e.id===p})))>-1&&(s[M]=w):-1===s.findIndex((function(e){return e.id===p}))&&(s.push(w),y||u||Object(k.c)("\u2709\ufe0f ".concat(B("notifications.newMessage")),{transition:k.a,position:"top-right",autoClose:3e3,toastId:"fcd8f4b2-0c05-4c2b-b87d-5ed7d29e5da0"}))),e.setState({messages:s,senderDetails:l});case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e.webex.messages.on("deleted",(function(t){console.log("-> Deleted message");var n=e.state,r=n.roomId,i=n.messages;if(t.data.roomId===r){var a=t.data.id,o=i.findIndex((function(e){return e.id===a}));o>-1&&(i.splice(o,1),e.setState({messages:i}))}})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("-> Unable to register for message events: ",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e.unbindMessageEvents=function(){try{e.webex.messages.stopListening(),e.webex.messages.off("created"),e.webex.messages.off("deleted")}catch(t){console.error(t)}},e.buildMessage=function(e,t,n,r,i){var a,o,s={id:e,author:{id:null!==(a=null===i||void 0===i?void 0:i.id)&&void 0!==a?a:0,username:null!==(o=null===i||void 0===i?void 0:i.name)&&void 0!==o?o:"Unknown"},text:t,type:"text",timestamp:new Date(n).getTime()};return r&&(s.updated=new Date(r).getTime()),s},e.isCustomMessage=function(e){try{return!!JSON.parse(e).isCustomMessage}catch(t){return!1}},e.handleCustomMessage=function(){var t=Object(C.a)(R.a.mark((function t(n,r){var i,a,o,s,c,l,u,d,m,p,g;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.state,o=a.handRaises,s=a.selfDetails,a.participants,c=n.actorId,l=null!==(i=null===r||void 0===r?void 0:r.displayName)&&void 0!==i?i:n.data.personEmail,u=JSON.parse(n.data.text),d=u.forParticipantId,m=u.signal,p=s&&s.id===c,m===X.a.RaiseHand?(-1===(g=o.findIndex((function(e){return e.participantId===d})))&&o.push({participantId:d,timestamp:n.created}),p||(f=l,Object(k.c)("\u270b ".concat(f),{transition:k.a,position:"top-right",autoClose:3e3}))):m===X.a.LowerHand&&(g=o.findIndex((function(e){return e.participantId===d})))>-1&&o.splice(g,1),e.setState({handRaises:o});case 8:case"end":return t.stop()}var f}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.clearCustomMessage=function(){var t=Object(C.a)(R.a.mark((function t(n){var r,i,a,o;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.state.selfDetails,i=n.actorId,a=n.data,o=a.id,a.text,!r||i!==r.id){t.next=6;break}return t.next=6,Object(q.r)(e.webex,o);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.sendMessage=function(){var t=Object(C.a)(R.a.mark((function t(n){var r,i,a;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.state,i=r.roomId,a=r.isRoomReady,-1===i||!a){t.next=4;break}return t.next=4,Object(q.c)(e.webex,i,n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.toggleAudio=Object(C.a)(R.a.mark((function t(){var n,r;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n=e.sdkMeeting,!(r=e.state.self)){t.next=12;break}if(!r.isAudioMuted){t.next=10;break}if(!1!==r.disallowUnmute){t.next=8;break}return t.next=8,n.unmuteAudio();case 8:t.next=12;break;case 10:return t.next=12,n.muteAudio();case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.error(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])}))),e.toggleVideo=Object(C.a)(R.a.mark((function t(){var n,r;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n=e.sdkMeeting,!(r=e.state.self)){t.next=11;break}if(!r.isVideoMuted){t.next=9;break}return t.next=7,n.unmuteVideo();case 7:t.next=11;break;case 9:return t.next=11,n.muteVideo();case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.error(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])}))),e.toggleShareScreen=function(){try{var t=e.sdkMeeting;e.state.isLocalSharing?Object(q.u)(t).then((function(){t.stopShare(),e.toggleLocalSharingState()})):Object(q.u)(t).then((function(){t.shareScreen().then((function(){console.info("LOCAL-SHARE-SCREEN: Screen successfully added to meeting."),e.toggleLocalSharingState()})).catch((function(e){console.error("LOCAL-SHARE-SCREEN: Unable to share screen, error:"),console.error(e)}))}))}catch(n){console.error(n)}},e.toggleLocalSharingState=function(){var t=e.state.isLocalSharing;e.setState({isLocalSharing:!t})},e.startRecording=Object(C.a)(R.a.mark((function t(){var n;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n=e.sdkMeeting,n.recording.state!==X.l.Idle){t.next=6;break}return t.next=6,n.startRecording();case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e.pauseRecording=Object(C.a)(R.a.mark((function t(){var n;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n=e.sdkMeeting,n.recording.state!==X.l.Recording){t.next=6;break}return t.next=6,n.pauseRecording();case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e.resumeRecording=Object(C.a)(R.a.mark((function t(){var n;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n=e.sdkMeeting,n.recording.state!==X.l.Paused){t.next=6;break}return t.next=6,n.resumeRecording();case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e.stopRecording=Object(C.a)(R.a.mark((function t(){var n,r;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n=e.sdkMeeting,(r=n.recording.state)!==X.l.Recording&&r!==X.l.Paused){t.next=6;break}return t.next=6,n.stopRecording();case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),e.toggleHand=function(){var t=e.state,n=t.self,r=t.handRaises,i=(t.participants,""),a=-1!==r.findIndex((function(e){return e.participantId===n.id}));i=a?JSON.stringify({isCustomMessage:!0,forParticipantId:n.id,signal:X.a.LowerHand}):JSON.stringify({isCustomMessage:!0,forParticipantId:n.id,signal:X.a.RaiseHand});var o=0;a||(o=e.getActiveHandRaisesCount());try{!a&&o>=X.g?k.c.warning(B("notifications.maxHandRaiseReached"),{transition:k.a,position:"top-right",autoClose:3e3,toastId:"4bc3761a-396c-4490-9258-b4999d8afe6c"}):e.sendMessage(i)}catch(s){console.error(s)}},e.toggleLocalVideoQuality=function(){var t=Object(C.a)(R.a.mark((function t(n){var r;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.sdkMeeting,!X.k.includes(n)){t.next=11;break}return t.prev=2,t.next=5,r.setLocalVideoQuality(n);case 5:e.forceUpdate(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e){return t.apply(this,arguments)}}(),e.toggleVideoLayout=function(){var t=Object(C.a)(R.a.mark((function t(n){var r;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.sdkMeeting,!X.e.includes(n)){t.next=9;break}return t.prev=2,t.next=5,r.changeVideoLayout(n);case 5:t.next=9;break;case 7:t.prev=7,t.t0=t.catch(2);case 9:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e){return t.apply(this,arguments)}}(),e.toggleRemoteVideoQuality=function(){var t=Object(C.a)(R.a.mark((function t(n){var r;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.sdkMeeting,!X.k.includes(n)){t.next=11;break}return t.prev=2,t.next=5,r.setRemoteQualityLevel(n);case 5:t.sent,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e){return t.apply(this,arguments)}}(),e.toggleLocalVideoVisibility=function(){e.setState({isLocalVideoHidden:!e.state.isLocalVideoHidden})},e.downloadChat=Object(C.a)(R.a.mark((function t(){var n,r,i,a;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isChatDownloading:!0}),n=e.state,r=n.roomId,i=n.senderDetails,a=[],t.prev=3,t.delegateYield(R.a.mark((function t(){var n,o,s,c,l,u,d;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(q.f)(e.webex,r);case 2:(n=t.sent).sort((function(e,t){return new Date(e.created)-new Date(t.created)})),o=n.map((function(e){return e.personId})).filter((function(e,t,n){return n.indexOf(e)===t})),s=R.a.mark((function t(n){var r;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=i.filter((function(e){return e.id===o[n]}))[0]){t.next=5;break}return t.next=4,Object(q.h)(e.webex,o[n]);case 4:r=t.sent;case 5:a.push(r);case 6:case"end":return t.stop()}}),t)})),c=0;case 7:if(!(c<o.length)){t.next=12;break}return t.delegateYield(s(c),"t0",9);case 9:c++,t.next=7;break;case 12:l="Chat - ".concat(e.sdkMeeting.meetingInfo.meetingName),u="",d="",n.forEach((function(t){var n,r,i;if(e.isCustomMessage(t.text)){if(JSON.parse(t.text).signal!==X.a.RaiseHand)return;i=X.a.RaiseHandLog}else i=t.text;var o=null!==(n=null===(r=a.filter((function(e){return e.id===t.personId}))[0])||void 0===r?void 0:r.displayName)&&void 0!==n?n:t.personEmail,s=new Date(t.created),c=s.toLocaleDateString()+" "+s.toLocaleTimeString();d="".concat(o," (").concat(c,")\n").concat(i,"\n\n"),u+=d})),e.downloadTxtFile(l,u);case 16:case"end":return t.stop()}}),t)}))(),"t0",5);case 5:t.next=10;break;case 7:t.prev=7,t.t1=t.catch(3),console.error(t.t1);case 10:return t.prev=10,e.setState({isChatDownloading:!1}),t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[3,7,10,13]])}))),e.downloadTxtFile=function(e,t){var n=document.createElement("a"),r=new Blob([t],{type:"text/plain"});n.href=URL.createObjectURL(r),n.download="".concat(e,".txt"),document.body.appendChild(n),n.click(),n.parentNode.removeChild(n)},e.toggleParticipantAudio=function(){var t=Object(C.a)(R.a.mark((function t(n,r){var i;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i=e.state.participants.filter((function(e){return e.id===n}))[0])){t.next=15;break}if(t.prev=2,!i.isSelf){t.next=8;break}return t.next=6,e.toggleAudio();case 6:t.next=10;break;case 8:return t.next=10,e.sdkMeeting.mute(n,r);case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),console.error(t.t0);case 15:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e,n){return t.apply(this,arguments)}}(),e.lowerParticipantHand=function(){var t=Object(C.a)(R.a.mark((function t(n){var r;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=JSON.stringify({isCustomMessage:!0,forParticipantId:n,signal:X.a.LowerHand}),t.prev=1,t.next=4,e.sendMessage(r);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.error(t.t0);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}(),e.muteAll=Object(C.a)(R.a.mark((function t(){var n,r;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.participants,r=n.filter((function(e){return e.status===X.i.InMeeting&&!e.isModerator&&!e.isHost&&!e.isSelf})),t.next=4,Promise.all(r.map(function(){var t=Object(C.a)(R.a.mark((function t(n){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.sdkMeeting.mute(n.id,!0);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.error(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()));case 4:case"end":return t.stop()}}),t)}))),e.unmuteAll=Object(C.a)(R.a.mark((function t(){var n,r;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.participants,r=n.filter((function(e){return e.status===X.i.InMeeting&&!e.isModerator&&!e.isHost&&!e.isSelf})),t.next=4,Promise.all(r.map(function(){var t=Object(C.a)(R.a.mark((function t(n){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.sdkMeeting.mute(n.id,!1);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.error(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}()));case 4:case"end":return t.stop()}}),t)}))),e.removeParticipant=function(){var t=Object(C.a)(R.a.mark((function t(n){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.sdkMeeting.remove(n);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.err(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}(),e.makeHost=function(t){try{e.sdkMeeting.transfer(t)}catch(n){console.error(n)}},e.confirmLeave=Object(C.a)(R.a.mark((function t(){var n,r;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.state.self,r=B("LiveMeeting.leaveMeetingPrompt"),n&&n.isHost&&(r=B("LiveMeeting.leaveMeetingPrompt_host")),L(r,Object(C.a)(R.a.mark((function t(){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.leaveMeeting();case 2:case"end":return t.stop()}}),t)}))),null);case 4:case"end":return t.stop()}}),t)}))),e.leaveMeeting=Object(C.a)(R.a.mark((function t(){var n,r,i,a;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n=e.state,r=n.self,i=n.participants,a=i.filter((function(e){return!e.isSelf&&e.status===X.i.InMeeting})),!r.isHost){t.next=9;break}if(!e.sdkMeeting.recording||e.sdkMeeting.recording.state===X.l.Idle){t.next=7;break}return t.next=7,e.stopRecording();case 7:return t.next=9,Promise.all(a.map(function(){var t=Object(C.a)(R.a.mark((function t(n){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.removeParticipant(n.id);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.error(t.t0);case 14:return t.prev=14,t.next=17,e.unSubscribeAndLeave();case 17:return t.finish(14);case 18:case"end":return t.stop()}}),t,null,[[0,11,14,18]])}))),e.unSubscribeAndLeave=Object(C.a)(R.a.mark((function t(){var n,r;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.state.self,e.unbindMembershipEvents(),e.unbindMessageEvents(),!(r=e.sdkMeeting)||r.meetingState!==X.h.Active){t.next=26;break}if(t.prev=5,n.status!==X.i.InMeeting){t.next=9;break}return t.next=9,r.leave();case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(5),console.error(t.t0);case 14:return t.prev=14,e.unbindMeetingEvents(r),t.next=18,Object(q.s)(e.webex);case 18:return e.sdkMeeting=null,localStorage.removeItem(X.f.MeetingSipAddress),localStorage.removeItem(X.f.CiscoAuthToken),localStorage.removeItem(X.f.Language),localStorage.removeItem(X.f.JoinIntent),e.setState({isBlocking:!1}),e.setProgress(0,!1,X.b.MeetingDestroyed),t.finish(14);case 26:case"end":return t.stop()}}),t,null,[[5,11,14,26]])}))),e.getActiveHandRaisesCount=function(){var t=e.state,n=t.handRaises,r=t.participants,i=0,a=r.filter((function(e){return e.status===X.i.InMeeting}));return n.forEach((function(e){a.findIndex((function(t){return t.id===e.participantId}))>-1&&i++})),i},e.handleLocalVideoDrag=function(){return!(!e.localVideo||!e.localVideo.current)&&(e.localVideo.current.glimpseOverlay(),!e.localVideo.current.isFullScreen())},e.handleUnmuteRequest=function(){var t=e.state.self;e.sdkMeeting&&t.isAudioMuted&&L(B("LiveMeeting.unmuteRequest"),(function(){e.sdkMeeting.unmuteAudio()}),null)},e.getScreenshareTitle=function(){var t=e.state,n=t.isLocalSharing,r=t.isRemoteSharing,i=t.participants;if(n||r){var a,o=i.filter((function(e){return e.isContentSharing}))[0];if(o)return o.isSelf?B("LiveMeeting.myScreen"):B("LiveMeeting.otherScreen",{name:null!==(a=o.name)&&void 0!==a?a:"guest"})}},e.webex=null,e.sdkMeeting=null,e.localVideo=o.a.createRef(),e.remoteAudio=o.a.createRef(),e.remoteVideo=o.a.createRef(),e.localShareStream=null,e.remoteShareStream=null,e.screenShare=o.a.createRef(),e.state={isBlocking:!0,isMeetingReady:!1,executionStep:X.b.Loading,self:null,selfDetails:null,participants:[],participantDetails:[],handRaises:[],isLocalSharing:!1,isRemoteSharing:!1,isLocalVideoHidden:!1,isParticipantsMenuOpen:!1,isChatOpen:!1,isRoomLoading:!1,isRoomReady:!1,isChatDownloading:!1,roomId:-1,memberships:[],messages:[],senderDetails:[]},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(C.a)(R.a.mark((function e(){var t,n,r,i=this;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=localStorage.getItem(X.f.MeetingSipAddress),n=localStorage.getItem(X.f.MeetingPassword),r=localStorage.getItem(X.f.CiscoAuthToken),t&&r){e.next=9;break}return e.next=7,this.setProgress(0,!1,X.b.MissingInformation);case 7:e.next=21;break;case 9:return e.next=11,D();case 11:if(e.sent){e.next=15;break}this.setProgress(0,!1,X.b.LocalStreamProblem),e.next=21;break;case 15:return e.next=17,this.setProgress(500,!1,X.b.Initializing);case 17:return e.next=19,Object(q.l)(r);case 19:this.webex=e.sent,this.webex.once("ready",Object(C.a)(R.a.mark((function e(){var r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.webex.canAuthorize){e.next=38;break}return e.prev=1,e.next=4,Object(q.s)(i.webex);case 4:return e.next=6,i.setProgress(500,!1,X.b.Registering);case 6:return e.next=8,Object(q.o)(i.webex);case 8:return e.next=10,Object(q.a)(i.webex,t);case 10:if(!(r=e.sent)){e.next=30;break}return e.next=14,i.setProgress(500,!1,X.b.Joining);case 14:return i.sdkMeeting=r,e.next=17,i.bindMembershipEvents();case 17:return e.next=19,i.bindMeetingEvents(r);case 19:return e.next=21,Object(q.n)(r,n);case 21:return i.initChatRoom(),e.next=24,i.bindMessageEvents();case 24:return e.next=26,i.setProgress(500,!1,X.b.MeetingReady);case 26:return e.next=28,i.setProgress(0,!0);case 28:e.next=32;break;case 30:return e.next=32,i.setProgress(!1,X.b.Failed);case 32:e.next=38;break;case 34:return e.prev=34,e.t0=e.catch(1),e.next=38,i.setProgress(!1,X.b.Failed);case 38:case"end":return e.stop()}}),e,null,[[1,34]])}))));case 21:e.next=25;break;case 23:e.prev=23,e.t0=e.catch(0);case 25:case"end":return e.stop()}}),e,this,[[0,23]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.leaveMeeting()}},{key:"render",value:function(){var e,t,n,r,i,a=this,o=this.sdkMeeting,s=this.state,c=s.isBlocking,l=s.isMeetingReady,u=s.executionStep,d=s.participants,m=s.handRaises,p=s.self,g=s.selfDetails,f=s.isLocalSharing,h=s.isRemoteSharing,b=s.isParticipantsMenuOpen,v=s.isLocalVideoHidden,j=s.isChatOpen,x=s.isRoomLoading,O=s.isRoomReady,y=s.isChatDownloading,w=s.messages,k=null!==(e=null===g||void 0===g?void 0:g.id)&&void 0!==e?e:"0",S=-1!==m.findIndex((function(e){var t;return e.participantId===(null!==(t=null===p||void 0===p?void 0:p.id)&&void 0!==t?t:"0")})),N=this.getActiveHandRaisesCount(),I=o&&o.recording?o.recording.state:X.l.Idle,L=null!==(t=null===o||void 0===o?void 0:o.mediaProperties.localQualityLevel)&&void 0!==t?t:X.j.Low,A=null!==(n=null===o||void 0===o?void 0:o.mediaProperties.remoteQualityLevel)&&void 0!==n?n:X.j.Low,E=f||h,H=this.getScreenshareTitle(),T=null===(r=this.sdkMeeting)||void 0===r||null===(i=r.lastVideoLayoutInfo)||void 0===i?void 0:i.layoutType;return Object(M.jsxs)(M.Fragment,{children:[l?null:Object(M.jsx)("div",{id:"meeting-initialization-overlay",children:Object(M.jsxs)("div",{className:"w-100 text-center absolute-center",children:[Object(M.jsx)("i",{className:"fas fa-info-circle"})," ",B("LiveMeeting.executionSteps.".concat(u)),u===X.b.MeetingDestroyed?Object(M.jsx)("span",{className:"d-block mt-2",children:Object(M.jsxs)("a",{href:"/",className:"btn btn-sm my-btn-primary shadow",children:[Object(M.jsx)("i",{class:"fas fa-home"})," ",B("general.goBack")]})}):null]})}),Object(M.jsx)(ee.a,{onBeforeunload:this.onWindowClose}),Object(M.jsx)(U.a,{when:c,message:function(e){var t=B("LiveMeeting.leaveMeetingPrompt");return p&&p.isHost&&(t=B("LiveMeeting.leaveMeetingPrompt_host")),window.confirm(t)}}),Object(M.jsxs)("div",{id:"meeting-streams",className:"d-flex justify-content-center flex-wrap",children:[Object(M.jsx)(ne.a,{bounds:"parent",onStart:this.handleLocalVideoDrag,children:Object(M.jsx)("div",{id:"local-video",className:"shadow-lg ".concat(v?"d-none":""),children:Object(M.jsx)(Oe,{ref:this.localVideo,title:B("LiveMeeting.localVideo")},"Local video")})}),Object(M.jsx)("div",{id:"remote-video",className:"".concat(E?"h-50":"h-100"),children:Object(M.jsx)(Oe,{ref:this.remoteVideo,title:B("LiveMeeting.remoteVideo"),showControls:!0},"Remote video")}),Object(M.jsx)("div",{id:"screenshare-video",className:"".concat(E?"d-block":"d-none"),children:Object(M.jsx)(Oe,{ref:this.screenShare,title:H},"Screenshare")})]}),p?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(je,{self:p,isRoomReady:O,recordingState:I,isLocalVideoHidden:v,onToggleLocalVideoVisibility:this.toggleLocalVideoVisibility,isLocalSharing:f,isHandRaised:S,handRaisesCount:N,localVideoQuality:L,remoteVideoQuality:A,onChangeLocalVideoQuality:this.toggleLocalVideoQuality,onChangeRemoteVideoQuality:this.toggleRemoteVideoQuality,onChangeVideoLayout:this.toggleVideoLayout,layoutType:T,onToggleAudio:this.toggleAudio,onToggleVideo:this.toggleVideo,onToggleShare:this.toggleShareScreen,onStartRecording:this.startRecording,onPauseRecording:this.pauseRecording,onResumeRecording:this.resumeRecording,onStopRecording:this.stopRecording,onToggleHand:this.toggleHand,onQuitMeeting:Object(C.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.confirmLeave();case 2:case"end":return e.stop()}}),e)}))),onToggleParticipantsDrawer:function(){return a.setState({isParticipantsMenuOpen:!b})},onToggleChatDrawer:function(){return a.setState({isChatOpen:!j})}}),Object(M.jsx)(de,{id:"participants-drawer",isModerator:p.isModerator,participants:d,handRaises:m,isOpen:b,onClose:function(){return a.setState({isParticipantsMenuOpen:!1})},onMuteAll:this.muteAll,onUnmuteAll:this.unmuteAll,onLowerHand:this.lowerParticipantHand,onToggleAudio:this.toggleParticipantAudio,onRemove:this.removeParticipant,onMakeHost:this.makeHost}),Object(M.jsx)(fe,{id:"chat-drawer",userId:k,self:p,messages:w,fileSelectMode:X.c.Disabled,placeholder:B("LiveMeeting.Chat.writeMessage"),timestampFormat:"h:mm:ss a",isOpen:j,isLoading:x,isReady:O,isChatDownloading:y,onClose:function(){return a.setState({isChatOpen:!1})},onSendMessage:function(){var e=Object(C.a)(R.a.mark((function e(t){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.sendMessage(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onDownloadChat:this.downloadChat})]}):null,Object(M.jsx)(we,{recordingState:I})]})}}]),n}(a.Component),ke=Object(U.g)(Me),Se=n(197),Ne="GET_ERRORS",Re="CLEAR_ERRORS",Ce="SET_WEBEX_INSTANCE",Ie="GET_PERSONAL_DETAILS",Le="PERSONAL_DETAILS_LOADING",Ae="GET_MEETING_PREFERENCES",Ee="MEETING_PREFERENCES_LOADING",He="GET_MEETINGS",Te="MEETINGS_LOADING",Ve="DELETE_MEETING",De="GET_MEETING",Pe="MEETING_LOADING",Be="GET_INVITEES",Fe="INVITEES_LOADING",ze="ADD_INVITEE",Ue="DELETE_INVITEE",Qe=function(){return function(e){e({type:Re})}},Ge=function(e){return function(t){t({type:Ne,payload:[e]})}},Ye=function(e){return function(t){t({type:Ne,payload:e})}},_e=n(77),Je=n.n(_e),Ze=function(e){return function(t){t({type:Le,payload:e})}},We=function(e){return function(t){t({type:Ee,payload:e})}},qe=n(268),Xe=n.n(qe),Ke=n(231),$e=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={copied:!1},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.getPersonalDetails(),this.props.getMeetingPreferences()}},{key:"copiedToClipboard",value:function(){var e=this;this.setState({copied:!0}),setTimeout((function(){return e.setState({copied:!1})}),3e3)}},{key:"render",value:function(){var e=this,t=this.state.copied,n=this.props,r=n.personalDetails,i=n.isPersonalDetailsLoading,a=n.personalRoom,o=n.isPersonalRoomLoading;return Object(M.jsx)("div",{className:"row p-2 border-bottom shadow",children:Object(M.jsx)("div",{className:"col-12",children:!0===i?Object(M.jsx)(Xe.a,{color:"#00a0d1",loading:i,size:10}):Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("span",{className:"dot bg-success"})," ",Object(M.jsxs)("b",{children:[" ",r.displayName," "]}),Object(M.jsxs)("small",{className:"d-block",children:[!0===o?Object(M.jsx)(Xe.a,{color:"#00a0d1",loading:o,size:10}):Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("i",{className:"mx-2",children:a.personalMeetingRoomLink}),Object(M.jsx)(Ke.CopyToClipboard,{text:a.personalMeetingRoomLink,onCopy:function(){return e.copiedToClipboard()},children:Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("i",{className:"far fa-copy cursor-pointer",title:"Copy"})," "]})})]}),t?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("small",{className:"text-muted",children:" (Copied) "})," "]}):null]})]})})})}}]),n}(a.Component),et=Object(Se.b)((function(e){return{personalDetails:e.peopleReducer.personalDetails,isPersonalDetailsLoading:e.peopleReducer.isPersonalDetailsLoading,personalRoom:e.meetingPreferencesReducer.personalRoom,isMeetingPreferencesLoading:e.meetingPreferencesReducer.isMeetingPreferencesLoading,errors:e.errorsReducer.errors}}),{getPersonalDetails:function(){return function(e){e(Ze(!0)),Je.a.get("https://webexapis.com/v1/people/me").then((function(t){var n=t.status;if(200===n||204===n){var r=t.data;e({type:Ie,payload:r})}else{var i=t.data;e(Ye(i))}})).catch((function(t){console.log(t),e(Ge("An error occurred."))})).finally((function(){e(Ze(!1))}))}},getMeetingPreferences:function(){return function(e){e(We(!0)),Je.a.get("https://webexapis.com/v1/meetingPreferences").then((function(t){var n=t.status;if(200===n||204===n){var r=t.data;e({type:Ae,payload:r})}else{var i=t.data;Ye(i)}})).catch((function(t){console.log(t),e(Ge("An error occurred."))})).finally((function(){e(We(!1))}))}}})($e),tt=function(e){return function(t){t({type:Te,payload:e})}},nt=function(e){return function(t){t({type:Pe,payload:e})}},rt=n(195),it=n(156),at=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).startMeeting=function(e){L("You are about to start this meeting. Continue?",(function(){localStorage.setItem("meetingSipAddress",e),localStorage.setItem("ciscoAuthToken",it.c),r.props.history.push("/riunioneWebex/meetings/live")}),null)},r.goToEditPage=function(e){localStorage.setItem("ciscoAuthToken",it.c),localStorage.setItem("webexMeetingId",e),r.props.history.push("/riunioneWebex/riunione/modifica")},r.state={meetingId_clipboard:!1,meetingNumber_clipboard:!1,meetingSipAddress_clipboard:!1,meetingLink_clipboard:!1},r}return Object(u.a)(n,[{key:"copiedToClipboard",value:function(e){var t=this;Object.keys(this.state).filter((function(e){return e.includes("_clipboard")})).forEach((function(n){n!==e&&t.setState(Object(x.a)({},n,!1))})),this.setState(Object(x.a)({},e,!0)),setTimeout((function(){return t.setState(Object(x.a)({},e,!1))}),3e3)}},{key:"render",value:function(){var e=this,t=this.props.meeting,n=this.state,r=n.meetingId_clipboard,i=n.meetingNumber_clipboard,a=n.meetingSipAddress_clipboard,o=n.meetingLink_clipboard;return Object(M.jsx)("div",{className:"col-12 p-0 my-1",children:Object(M.jsxs)("div",{className:"card",children:[Object(M.jsxs)("div",{className:"card-header p-0",children:[Object(M.jsxs)("button",{className:"btn btn-sm text-danger float-right",onClick:function(){return e.props.onDelete(t.id)},children:[Object(M.jsx)("i",{className:"fas fa-trash-alt",title:"Delete"})," "]}),Object(M.jsxs)("button",{className:"btn btn-sm text-secondary float-right",onClick:function(){return e.goToEditPage(t.id)},children:[Object(M.jsx)("i",{className:"fas fa-edit",title:"Edit"})," "]})]}),Object(M.jsxs)("div",{className:"card-body p-2",children:[Object(M.jsxs)("h5",{className:"card-title",children:[" ",t.title," "]}),Object(M.jsxs)("span",{className:"d-block border-bottom mb-2",children:[Object(M.jsxs)("b",{children:[" ",new Date(t.start).toLocaleString()," "]})," - ",Object(M.jsxs)("b",{children:[" ",new Date(t.end).toLocaleString()," "]})]}),Object(M.jsxs)("span",{className:"d-block",children:["Meeting id: ",t.id,Object(M.jsx)(Ke.CopyToClipboard,{text:t.id,onCopy:function(){return e.copiedToClipboard("meetingId_clipboard")},children:Object(M.jsxs)("i",{className:"ml-1 far fa-copy cursor-pointer",title:"Copy",children:[" "," "]})}),r?Object(M.jsxs)("small",{className:"text-muted",children:[" (Copied) "," "]}):null]}),Object(M.jsxs)("span",{className:"d-block",children:["Meeting number: ",t.meetingNumber," ",Object(M.jsx)(Ke.CopyToClipboard,{text:t.meetingNumber,onCopy:function(){return e.copiedToClipboard("meetingNumber_clipboard")},children:Object(M.jsxs)("i",{className:"ml-1 far fa-copy cursor-pointer",title:"Copy",children:[" "," "]})}),i?Object(M.jsxs)("small",{className:"text-muted",children:[" (Copied) "," "]}):null]}),Object(M.jsxs)("span",{className:"d-block",children:["Sip Address: ",t.sipAddress,Object(M.jsx)(Ke.CopyToClipboard,{text:t.sipAddress,onCopy:function(){return e.copiedToClipboard("meetingSipAddress_clipboard")},children:Object(M.jsxs)("i",{className:"ml-1 far fa-copy cursor-pointer",title:"Copy",children:[" "," "]})}),a?Object(M.jsxs)("small",{className:"text-muted",children:[" (Copied) "," "]}):null]}),Object(M.jsxs)("span",{className:"d-block",children:["Meeting link: ",Object(M.jsxs)("i",{children:[" ",t.webLink," "]})," ",Object(M.jsx)(Ke.CopyToClipboard,{text:t.webLink,onCopy:function(){return e.copiedToClipboard("meetingLink_clipboard")},children:Object(M.jsxs)("i",{className:"ml-1 far fa-copy cursor-pointer",title:"Copy",children:[" "," "]})}),o?Object(M.jsx)("small",{className:"text-muted",children:" (Copied)  "}):null]}),Object(M.jsxs)("div",{className:"text-right",children:[Object(M.jsxs)(rt.b,{to:"meetings/".concat(t.id,"/details"),className:"btn btn-sm btn-info",children:[Object(M.jsx)("i",{className:"fas fa-info-circle"})," Details "]}),Object(M.jsxs)("button",{className:"btn btn-sm btn-success ml-2 ",onClick:function(){return e.startMeeting(t.sipAddress)},children:[Object(M.jsx)("i",{className:"fas fa-sign-in-alt"})," Start meeting "]})]})]})]})})}}]),n}(a.Component),ot=Object(U.g)(at);function st(e){var t=e.size,n=e.color,r=e.className,i=e.tooltip;return Object(M.jsx)("button",{className:"btn btn-".concat(t," btn-").concat(n," ").concat(r),title:i,onClick:e.onClick,children:Object(M.jsx)("i",{className:"fas fa-sync-alt"})})}st.defaultProps={size:"md",color:"primary",className:"",tooltip:"Refresh"};var ct=st,lt=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).goToSchedulePage=function(){localStorage.setItem("ciscoAuthToken",it.c),e.props.history.push("/riunioneWebex/schedule")},e.onDeleteMeeting=function(t){L("Are you sure you want to delete this meeting?",(function(){e.props.deleteMeeting(t)}),null)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.getUpcomingMeetings()}},{key:"render",value:function(){var e=this,t=this.props,n=t.meetings,r=t.isMeetingsLoading;return Object(M.jsx)("div",{id:"meetings",children:Object(M.jsx)("div",{className:"row mt-2 p-2",children:Object(M.jsxs)("div",{className:"col-12",children:[Object(M.jsx)("h4",{className:"d-inline-block",children:" Meetings "}),Object(M.jsx)(ct,{color:"primary",size:"sm",className:"float-right ml-1",onClick:function(){return e.props.getUpcomingMeetings()}}),Object(M.jsxs)("button",{className:"btn btn-sm btn-primary float-right",onClick:this.goToSchedulePage,children:[Object(M.jsx)("i",{className:"fas fa-plus-square"})," Schedule"]}),Object(M.jsx)("div",{className:"col-12 p-0",children:!0===r?Object(M.jsx)("div",{className:"d-block text-center",children:Object(M.jsx)(Xe.a,{color:"#007bff",loading:r,size:15})}):n&&n.length>0?n.map((function(t,n){return Object(M.jsx)(ot,{meeting:t,onDelete:e.onDeleteMeeting},n)})):Object(M.jsx)("div",{className:"col-12 p-0 mt-3",children:Object(M.jsxs)("div",{className:"alert alert-primary",role:"alert",children:[Object(M.jsx)("i",{className:"fas fa-info-circle"})," No upcoming meetings."]})})})]})})})}}]),n}(a.Component),ut=Object(Se.b)((function(e){return{meetings:e.meetingsReducer.meetings,isMeetingsLoading:e.meetingsReducer.isMeetingsLoading,errors:e.errorsReducer.errors}}),{getUpcomingMeetings:function(){return function(e){e(tt(!0)),Je.a.get("https://webexapis.com/v1/meetings").then((function(t){var n=t.status;if(200===n||204===n){var r=t.data.items.sort((function(e,t){return t.start-e.start}));e({type:He,payload:r})}else e(Ye(t.data))})).catch((function(t){console.log(t),e(Ge("An error occurred."))})).finally((function(){e(tt(!1))}))}},deleteMeeting:function(e){return function(t,n){var r=n().meetingsReducer.meetings.find((function(t){return t.id===e}));Je.a.delete("https://webexapis.com/v1/meetings/".concat(e)).then((function(n){var i=n.status;200===i||204===i?(t({type:Ve,payload:e}),k.c.info('Meeting "'.concat(r.title,'" was deleted successfully.'))):t(Ye(n.data))})).catch((function(e){console.log(e),t(Ge("An error occurred."))}))}}})(Object(U.g)(lt)),dt=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(M.jsxs)("div",{className:"transition-page",children:[Object(M.jsx)(et,{}),Object(M.jsx)(ut,{})]})}}]),n}(a.Component),mt=n(81),pt=function(e){return function(t){t({type:Fe,payload:e})}},gt=function(e){Je.a.defaults.headers.common["Content-Type"]="application/json",e?Je.a.defaults.headers.common.Authorization=e:delete Je.a.defaults.headers.common.Authorization},ft=n(41),ht=n.n(ft),bt=function(e){var t=e.label,n=e.history;return Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("button",{className:"btn my-btn-secondary btn-sm shadow rounded my-2",onClick:function(){return n.goBack()},children:[Object(M.jsx)("i",{className:"fa fa-arrow-left","aria-hidden":"true"})," ",t]})})};bt.defaultProps={label:"Go back"};var vt=bt,jt=n(1973),xt=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).onOpen=function(){r.setState({show:!0})},r.onClose=function(){r.setState({email:"",displayName:"",coHost:!1,show:!1,showErrors:!1,errors:[]})},r.showErrors=function(e){r.setState({errors:e,showErrors:!0})},r.clearErrors=function(){r.setState({errors:[],showErrors:!1})},r.onChange=function(e){r.setState(Object(x.a)({},e.target.name,e.target.value))},r.onCheckboxChange=function(e){r.setState(Object(x.a)({},e.target.name,e.target.checked))},r.onRemove=function(e){L(B("confirmations.removeInvitee",{email:e}),(function(){r.props.onRemove(e)}),null)},r.onSubmit=function(){var e=r.state,t={email:e.email,displayName:e.displayName,coHost:e.coHost},n=r.validate(t);n.length>0?r.showErrors(n):(r.props.onAdd(t),r.onClose())},r.validate=function(e){var t,n=[];return t=e.email,/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)||n.push(B("validations.invalidEmail")),n},r.state={email:"",displayName:"",coHost:!1,show:!1,errors:[]},r}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.email,r=t.displayName,i=(t.coHost,t.show),a=t.showErrors,o=t.errors,s=this.props,c=s.invitees;s.allowCoHost;return Object(M.jsxs)("div",{id:"invitees",children:[Object(M.jsxs)("h5",{className:"p-0 m-0",children:[" ",B("Invitees.invitees")," "]}),Object(M.jsxs)("div",{className:"collapse show col-12 p-0 mt-3",id:"invitees",children:[Object(M.jsx)("div",{id:"invitees-table",className:"table-responsive",children:Object(M.jsxs)("table",{className:"table table-sm table-bordered",children:[Object(M.jsx)("thead",{className:"thead-light",children:Object(M.jsxs)("tr",{children:[Object(M.jsxs)("th",{scope:"col",className:"text-center",children:[" ",B("Invitees.email")," "]}),Object(M.jsxs)("th",{scope:"col",className:"text-center",children:[" ",B("Invitees.name")," "]}),Object(M.jsxs)("th",{scope:"col",className:"text-center",children:[" ",B("Invitees.coHost")," "]}),Object(M.jsxs)("th",{scope:"col",className:"text-center",children:[" ",B("general.actions")," "]})]})}),Object(M.jsx)("tbody",{children:c&&c.length>0?c.map((function(t,n){return Object(M.jsxs)("tr",{children:[Object(M.jsxs)("td",{className:"text-center",children:[" ",Object(M.jsxs)("small",{children:[" ",t.email," "]})," "]}),Object(M.jsxs)("td",{className:"text-center",children:[" ",Object(M.jsxs)("small",{children:[" ",t.displayName," "]})," "]}),Object(M.jsx)("td",{className:"text-center",children:Object(M.jsx)("small",{children:t.coHost?Object(M.jsx)("i",{className:"fas fa-check text-muted"}):Object(M.jsx)("i",{className:"fas fa-times text-muted"})})}),Object(M.jsx)("td",{className:"text-center",children:Object(M.jsx)("i",{type:"button",className:"fas fa-trash-alt cursor-pointer text-danger","data-toggle":"tooltip",title:B("general.remove"),onClick:function(){return e.onRemove(t.email)}})})]},n)})):Object(M.jsx)("tr",{children:Object(M.jsxs)("td",{colSpan:"4",children:[" ",Object(M.jsxs)("small",{className:"text-muted ml-2",children:[" ",B("Invitees.noInvitees"),". "]})," "]})})})]})}),Object(M.jsx)("div",{className:"row",children:Object(M.jsx)("div",{className:"col-3 mx-auto text-center",children:Object(M.jsx)("button",{id:"addInviteeBtn",type:"button",className:"btn btn-sm btn-outline-secondary my-2",onClick:this.onOpen,"data-placement":"top",title:B("Invitees.newInvitation"),children:" + "})})})]}),Object(M.jsxs)(jt.a,{show:i,onHide:this.onClose,backdrop:"static",centered:!0,keyboard:!1,children:[Object(M.jsx)(jt.a.Header,{closeButton:!0,children:Object(M.jsxs)(jt.a.Title,{children:[" ",B("Invitees.newInvitation")," "]})}),Object(M.jsx)(jt.a.Body,{children:Object(M.jsxs)("div",{id:"add-invitee-form",children:[Object(M.jsxs)("div",{id:"validation-summary",className:ht()("validation-summary my-2 border rounded shadow text-white bg-danger ",{"d-none":!a}),children:[Object(M.jsx)("div",{className:"col-12 text-right p-0",children:Object(M.jsx)("button",{type:"button",className:"btn btn-sm btn-default text-white","data-toggle":"tooltip",title:B("general.close"),onClick:function(){return e.clearErrors()},children:" x "})}),Object(M.jsx)("ul",{id:"validation-summary-errors",children:o.map((function(e,t){return Object(M.jsxs)("li",{className:"validation-summary-item",children:[" ",e," "]},t)}))})]}),Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsxs)("label",{htmlFor:"invitee-email",children:[" ",B("Invitees.email")," ",Object(M.jsx)("small",{className:"text-danger",children:"*"})," "]}),Object(M.jsx)("input",{required:!0,type:"text",id:"invitee-email",name:"email",className:"form-control form-control-sm",value:n,onChange:this.onChange})]}),Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsxs)("label",{htmlFor:"invitee-displayName",children:[" ",B("Invitees.name")," "]}),Object(M.jsx)("input",{type:"text",id:"invitee-displayName",name:"displayName",className:"form-control form-control-sm",value:r,onChange:this.onChange})]}),Object(M.jsxs)("div",{className:"col-12 mt-4 px-0 pt-3 border-top text-right",children:[Object(M.jsxs)("button",{type:"button",className:"btn btn-sm btn-secondary",onClick:this.onClose,children:[" ",B("general.close")," "]}),Object(M.jsxs)("button",{type:"button",className:"btn btn-sm btn-success ml-2",onClick:this.onSubmit,children:[" ",B("general.save")," "]})]})]})})]})]})}}]),n}(a.Component),Ot=n(576),yt=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).addMeetingInvitee=function(){var e=Object(C.a)(R.a.mark((function e(t,n){var i;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Object(j.a)({meetingId:t},n),r.props.addInvitee(i);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r.onChange=function(e){r.setState(Object(x.a)({},e.target.name,e.target.value))},r.onCheckboxChange=function(e){r.setState(Object(x.a)({},e.target.name,e.target.checked)),"enabledJoinBeforeHost"===e.target.name&&(r.minutesDropdown.current.disabled=!e.target.checked)},r.toggleAdvancedOptions=function(){var e=r.state.isAdvancedOptionsOpen;r.setState({isAdvancedOptionsOpen:!e})},r.onAddInvitee=function(e){var t=r.state,n=t.id,i=t.invitees,a=t.isUpdate;i.find((function(t){return t.email===e.email}))||(a?r.addMeetingInvitee(n,e):(i.push(e),r.setState({invitees:i})))},r.onRemoveInvitee=function(e){var t=r.state,n=t.invitees,i=t.isUpdate,a=n.find((function(t){return t.email===e}));a&&(i?r.props.deleteInvitee(a.id):r.setState({invitees:Object(mt.a)(n.filter((function(t){return t.email!==e})))}))},r.resetForm=function(){r.setState({id:null,title:"",agenda:"",password:"",start:"",end:"",timezone:"",recurrence:"",sendEmail:!0,enabledAutoRecordMeeting:!1,allowAnyUserToBeCoHost:!1,enabledJoinBeforeHost:!1,joinBeforeHostMinutes:0,invitees:[],isAdvancedOptionsOpen:!1,isUpdate:!1})},r.createMeeting=function(){var e=r.getMeetingObject();console.log("New meeting: ",e);var t=r.validateMeeting(e);t.length>0?(r.props.setErrors(t),A()):Je.a.post("https://webexapis.com/v1/meetings",e).then((function(e){var t=e.status;if(200===t||204===t)k.c.success(B("notifications.meetingCreated")),r.props.clearErrors(),r.resetForm();else if(t>=400){var n=e.data;A(),r.props.setError(n)}})).catch((function(e){console.error(e),A(),r.props.setError(e.response.data.message)}))},r.updateMeeting=function(){var e=r.state.id,t=r.getMeetingObject();console.log("Updated meeting: ",t);var n=r.validateMeeting(t);n.length>0?(r.props.setErrors(n),A()):Je.a.put("https://webexapis.com/v1/meetings/".concat(e),t).then((function(e){var t=e.status;if(200===t||204===t)k.c.success(B("notifications.meetingUpdated")),r.props.clearErrors(),r.resetForm();else if(t>=400){var n=e.data;A(),r.props.setError(n)}})).catch((function(e){console.error(e),A(),r.props.setError(e.response.data.message)}))},r.getMeetingObject=function(){var e=r.state,t=e.title,n=e.agenda,i=e.password,a=e.start,o=e.end,s=e.timezone,c=e.recurrence,l=e.sendEmail,u=e.enabledAutoRecordMeeting,d=e.allowAnyUserToBeCoHost,m=e.enabledJoinBeforeHost,p=e.joinBeforeHostMinutes,g=e.invitees,f={title:t,agenda:n,password:i,start:a,end:o,timezone:s,recurrence:c,sendEmail:l,enabledAutoRecordMeeting:u,allowAnyUserToBeCoHost:d,enabledJoinBeforeHost:m,joinBeforeHostMinutes:parseInt(p),invitees:g};return r.state.isUpdate&&delete f.invitees,""!==f.start&&(f.start=new Date(a).toISOString()),""!==f.end&&(f.end=new Date(o).toISOString()),!1===f.enabledJoinBeforeHost&&delete f.joinBeforeHostMinutes,Object.keys(f).forEach((function(e){(void 0===f[e]||"string"===typeof f[e]&&""===f[e].trim()||Array.isArray(f[e])&&0===f[e].length)&&delete f[e]})),f},r.validateMeeting=function(e){var t=[];if(e.title||t.push(B("validations.meeting.titleEmpty")),e.start||t.push(B("validations.meeting.startEmpty")),e.end||t.push(B("validations.meeting.endEmpty")),e.start&&e.end){var n=new Date,r=new Date(e.start),i=new Date(e.end);r<n&&t.push(B("validations.meeting.startTimeBeforeCurrentTime")),i<n&&t.push(B("validations.meeting.endTimeBeforeCurrentTime")),r>i&&t.push(B("validations.meeting.endTimeBeforeStartTime"));var a=(i-r)/6e4;(a<10||a>1440)&&t.push(B("validations.meeting.invalidDuration"))}return!0===e.enabledJoinBeforeHost&&(X.m.includes(e.joinBeforeHostMinutes)||t.push(B("validations.meeting.joinBeforeHostMinutes"))),t},r.onSubmit=function(){r.state.isUpdate?r.updateMeeting():r.createMeeting()},r.renderMinutesDropdown=function(){var e=r.state,t=e.enabledJoinBeforeHost,n=e.joinBeforeHostMinutes;return t?Object(M.jsx)("select",{id:"meeting-joinBeforeHostMinutes",name:"joinBeforeHostMinutes",className:"mx-1",ref:r.minutesDropdown,onChange:r.onChange,value:n,children:X.m.map((function(e,t){return Object(M.jsxs)("option",{value:e,children:[" ",e," "]},t)}))}):Object(M.jsx)("select",{id:"meeting-joinBeforeHostMinutes",name:"joinBeforeHostMinutes",className:"mx-1",disabled:!0,ref:r.minutesDropdown,onChange:r.onChange,value:n,children:X.m.map((function(e,t){return Object(M.jsxs)("option",{value:e,children:[" ",e," "]},t)}))})},r.minutesDropdown=o.a.createRef(),r.state={id:null,title:"",agenda:"",password:"",start:"",end:"",timezone:"",recurrence:"",sendEmail:!0,enabledAutoRecordMeeting:!1,allowAnyUserToBeCoHost:!1,enabledJoinBeforeHost:!1,joinBeforeHostMinutes:0,invitees:[],isAdvancedOptionsOpen:!1,isUpdate:!1},r}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.clearErrors();var e=localStorage.getItem("ciscoAuthToken");if(e){gt("Bearer ".concat(e));var t=localStorage.getItem("webexMeetingId");if(t){this.props.getMeetingById(t),this.props.getInvitees(t);var n=this.props,r=n.current_meeting,i=n.current_invitees,a=E(new Date(r.start)),o=E(new Date(r.end));this.setState(Object(j.a)(Object(j.a)({id:t},r),{},{start:a,end:o,invitees:i,isUpdate:!0}))}}else this.props.setError(B("MeetingForm.missingAuthToken"));localStorage.removeItem("ciscoAuthToken"),localStorage.removeItem("webexMeetingId")}},{key:"componentDidUpdate",value:function(e){if(!$()(e.current_meeting,this.props.current_meeting)){var t=this.props.current_meeting,n=E(new Date(t.start)),r=E(new Date(t.end));this.setState(Object(j.a)(Object(j.a)({},t),{},{start:n,end:r}))}if(!$()(e.current_invitees,this.props.current_invitees)){var i=this.props.current_invitees;this.setState({invitees:i})}}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this,t=this.state,n=t.title,r=t.agenda,i=t.password,a=t.start,o=t.end,s=t.timezone,c=(t.recurrence,t.sendEmail),l=t.enabledAutoRecordMeeting,u=t.allowAnyUserToBeCoHost,d=t.enabledJoinBeforeHost,m=(t.joinBeforeHostMinutes,t.invitees),p=t.isAdvancedOptionsOpen,g=t.isUpdate,f=this.props,h=f.isMeetingLoading,b=f.isInviteesLoading,v=f.errors;return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)("div",{className:"row p-2",children:Object(M.jsxs)("div",{className:"col-12 col-md-10 m-auto",children:[Object(M.jsx)(vt,{label:B("general.goBack"),history:this.props.history}),Object(M.jsxs)("h4",{className:"text-right border-bottom",children:[" ",B(g?"MeetingForm.updateMeeting":"MeetingForm.createMeeting")," "]}),h?Object(M.jsx)("div",{className:"d-block text-center",children:Object(M.jsx)(Ot.BeatLoader,{color:"#007bff",loading:h,size:15})}):Object(M.jsxs)("div",{id:"create-meeting-form",children:[Object(M.jsxs)("div",{id:"validation-summary",className:ht()("validation-summary my-2 border rounded shadow text-white bg-danger ",{"d-none":!(v.length>0)}),children:[Object(M.jsx)("div",{className:"col-12 text-right p-0",children:Object(M.jsx)("button",{type:"button",className:"btn btn-sm btn-default text-white","data-toggle":"tooltip",title:B("general.close"),onClick:function(){return e.props.clearErrors()},children:" x "})}),Object(M.jsx)("ul",{id:"validation-summary-errors",children:v.map((function(e,t){return Object(M.jsxs)("li",{className:"validation-summary-item",children:[" ",e," "]},t)}))})]}),Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsxs)("label",{htmlFor:"meeting-title",children:[" ",B("MeetingForm.title")," ",Object(M.jsx)("small",{className:"text-danger",children:"*"})," "]}),Object(M.jsx)("input",{required:!0,type:"text",id:"meeeting-title",name:"title",className:"form-control form-control-sm",value:n,onChange:this.onChange})]}),Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsxs)("label",{htmlFor:"meeting-agenda",children:[" ",B("MeetingForm.agenda")," "]}),Object(M.jsx)("input",{type:"text",id:"meeeting-agenda",name:"agenda",className:"form-control form-control-sm",value:r,onChange:this.onChange})]}),Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsxs)("label",{htmlFor:"meeting-password",children:[" ",B("MeetingForm.password")," "]}),Object(M.jsx)("input",{type:"password",id:"meeeting-password",name:"password",className:"form-control form-control-sm",value:i,onChange:this.onChange})]}),Object(M.jsxs)("div",{className:"form-group row",children:[Object(M.jsxs)("div",{className:"col-12 col-sm-6",children:[Object(M.jsxs)("label",{htmlFor:"meeting-title",children:[" ",B("MeetingForm.start")," ",Object(M.jsx)("small",{className:"text-danger",children:"*"})," "]}),Object(M.jsx)("input",{required:!0,type:"datetime-local",id:"meeeting-start",name:"start",className:"form-control form-control-sm",value:a,onChange:this.onChange})]}),Object(M.jsxs)("div",{className:"col-12 col-sm-6",children:[Object(M.jsxs)("label",{htmlFor:"meeting-title",children:[" ",B("MeetingForm.end")," ",Object(M.jsx)("small",{className:"text-danger",children:"*"})," "]}),Object(M.jsx)("input",{required:!0,type:"datetime-local",id:"meeeting-end",name:"end",className:"form-control form-control-sm",value:o,onChange:this.onChange})]})]}),Object(M.jsxs)("div",{className:"form-group",children:[Object(M.jsxs)("label",{htmlFor:"meeting-timezone",children:[" ",B("MeetingForm.timezone")," "]}),Object(M.jsx)("input",{type:"text",id:"meeeting-timezone",name:"timezone",className:"form-control form-control-sm",value:s,onChange:this.onChange})]}),Object(M.jsxs)("div",{className:"custom-control custom-switch",children:[Object(M.jsx)("input",{type:"checkbox",id:"meeting-sendEmail",name:"sendEmail",className:"custom-control-input",checked:c,onChange:this.onCheckboxChange}),Object(M.jsxs)("label",{className:"custom-control-label",htmlFor:"meeting-sendEmail",children:[" ",B("MeetingForm.sendEmail")," "]})]}),Object(M.jsxs)("div",{className:"form-group my-4 py-1 border-bottom",children:[Object(M.jsxs)("span",{type:"button","aria-controls":"advanced-options","aria-expanded":p,onClick:this.toggleAdvancedOptions,children:[Object(M.jsx)("i",{className:"fas fa-chevron-".concat(p?"up":"down")})," ",B("MeetingForm.advancedOptions")]}),Object(M.jsx)(ae.a,{in:p,children:Object(M.jsxs)("div",{id:"advanced-options",className:"border-top",children:[Object(M.jsxs)("div",{className:"custom-control custom-switch mt-3",children:[Object(M.jsx)("input",{type:"checkbox",id:"meeting-allowAnyUserToBeCoHost",name:"allowAnyUserToBeCoHost",className:"custom-control-input",checked:u,onChange:this.onCheckboxChange}),Object(M.jsxs)("label",{className:"custom-control-label",htmlFor:"meeting-allowAnyUserToBeCoHost",children:[" ",B("MeetingForm.allowAnyUserToBeCoHost")," "]})]}),Object(M.jsxs)("div",{className:"custom-control custom-switch mt-3",children:[Object(M.jsx)("input",{type:"checkbox",id:"meeting-enabledAutoRecordMeeting",name:"enabledAutoRecordMeeting",className:"custom-control-input",checked:l,onChange:this.onCheckboxChange}),Object(M.jsxs)("label",{className:"custom-control-label",htmlFor:"meeting-enabledAutoRecordMeeting",children:[" ",B("MeetingForm.enabledAutoRecordMeeting")," "]})]}),Object(M.jsxs)("div",{className:"custom-control custom-switch mt-3",children:[Object(M.jsx)("input",{type:"checkbox",id:"meeting-enabledJoinBeforeHost",name:"enabledJoinBeforeHost",className:"custom-control-input",checked:d,onChange:this.onCheckboxChange}),Object(M.jsxs)("label",{className:"custom-control-label",htmlFor:"meeting-enabledJoinBeforeHost",children:[" ",B("MeetingForm.enabledJoinBeforeHost"),": "]}),this.renderMinutesDropdown()," ",P("general.minutes")]})]})})]}),Object(M.jsx)("div",{className:"form-group mt-3",children:b?Object(M.jsx)("div",{className:"d-block text-center",children:Object(M.jsx)(Ot.BeatLoader,{color:"#007bff",loading:b,size:15})}):Object(M.jsx)(xt,{invitees:m,allowCoHost:u,onAdd:this.onAddInvitee,onRemove:this.onRemoveInvitee})}),Object(M.jsxs)("button",{type:"button",className:"btn btn-md btn-primary shadow float-right mr-4",onClick:this.onSubmit,children:[Object(M.jsx)("i",{className:"fas fa-save"})," ",B("general.save")]})]})]})})})}}]),n}(a.Component),wt=Object(Se.b)((function(e){return{current_meeting:e.meetingsReducer.current_meeting,isMeetingLoading:e.meetingsReducer.isMeetingLoading,current_invitees:e.inviteesReducer.current_invitees,isInviteesLoading:e.inviteesReducer.isInviteesLoading,errors:e.errorsReducer.errors}}),{addMeeting:function(e,t){return function(n){Je.a.post("https://webexapis.com/v1/meetings",e).then((function(e){var r=e.status;if(200===r||204===r)k.c.success("Meeting created successfully."),t.push("/"),n(Qe());else if(r>=400){var i=e.data;A(),n(Ye(i))}})).catch((function(e){console.log(e),A(),n(Ge(e.response.data.message))}))}},addInvitee:function(e){return function(t){Je.a.post("https://webexapis.com/v1/meetingInvitees",e).then((function(n){var r=n.status;if(200===r||204===r){var i=n.data;t({type:ze,payload:i}),k.c.success("".concat(e.email," was successfully invited."))}else{var a=n.data;Ye(a)}})).catch((function(e){console.log(e),t(Ge("An error occurred."))}))}},deleteInvitee:function(e){return function(t,n){var r=n().inviteesReducer.current_invitees.find((function(t){return t.id===e}));Je.a.delete("https://webexapis.com/v1/meetingInvitees/".concat(e)).then((function(n){var i=n.status;if(200===i||204===i)k.c.info("'".concat(r.email,"' was successfully removed from the invitees list.")),t({type:Ue,payload:e});else{var a=n.data;Ye(a)}})).catch((function(e){console.log(e),t(Ge("An error occurred."))}))}},getMeetingById:function(e){return function(t){t(nt(!0)),Je.a.get("https://webexapis.com/v1/meetings/".concat(e)).then((function(e){var n=e.status;if(200===n||204===n){var r=e.data;t({type:De,payload:r})}else{var i=e.data;t(Ye(i))}})).catch((function(e){console.log(e),t(Ge("An error occurred while getting meeting information."))})).finally((function(){t(nt(!1))}))}},getInvitees:function(e){return function(t){t(pt(!0)),Je.a.get("https://webexapis.com/v1/meetingInvitees?meetingId=".concat(e)).then((function(e){var n=e.status;if(200===n||204===n){var r=e.data.items;t({type:Be,payload:r})}else{var i=e.data;t(Ye(i))}})).catch((function(e){console.log(e),t(Ge("An error occurred."))})).finally((function(){t(pt(!1))}))}},updateMeeting:function(e,t,n){return function(r){Je.a.put("https://webexapis.com/v1/meetings/".concat(e),t).then((function(e){var t=e.status;if(200===t||204===t)k.c.success("Meeting updated successfully."),n.push("/");else if(t>=400){var r=e.data;Ye(r)}})).catch((function(e){console.log(e),r(Ge(e.response.data.message))}))}},clearErrors:Qe,setError:Ge,setErrors:Ye})(Object(U.g)(yt)),Mt=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(M.jsx)("div",{className:"transition-page",children:Object(M.jsx)(wt,{})})}}]),n}(a.Component),kt=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(M.jsx)("div",{className:"transition-page",children:Object(M.jsx)(wt,{})})}}]),n}(a.Component),St=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=Object(C.a)(R.a.mark((function e(){var t,n,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(q.m)("bot1@test.com","Bot 1"),e.next=3,Object(q.p)(t);case 3:return n=e.sent,console.log("Guest access token: ",n),e.next=7,Object(q.g)(n);case 7:r=e.sent,console.log("Guest details: ",r);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(M.jsx)("div",{})}}]),n}(a.Component);var Nt=function(e){return e.locale,Object(M.jsxs)(U.d,{children:[Object(M.jsx)(Z,{exact:!0,path:["/LiveSession/:sessionId(\\d+)/Host","/LiveSession/:sessionId(\\d+)/Guest","/SpotMeeting/:sessionId(\\d+)/Host","/SpotMeeting/:sessionId(\\d+)/Guest","/riunioneWebex/meetings/live"],component:ke}),Object(M.jsx)(Z,{exact:!0,path:["/","/default","/meetings","/default/meetings"],component:dt}),Object(M.jsx)(Z,{exact:!0,path:["/riunioneWebex/schedule"],component:Mt}),Object(M.jsx)(Z,{exact:!0,path:["/riunioneWebex/riunione/modifica"],component:kt}),Object(M.jsx)(Z,{exact:!0,path:["/test"],component:St})]})},Rt=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e,a;return Object(l.a)(this,n),(e=t.call(this)).calculateWindowHeight=function(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))},e.changeLanguage=function(t){t&&v.includes(t)&&(localStorage.setItem(X.f.Language,t),function(e){i=Object(f.a)({locale:e,messages:g()(w[e])},r)}(t),e.setState({locale:t}))},gt(Object(q.k)()),a=b,r=Object(S.c)(),i=Object(f.a)({locale:a,messages:g()(w[a])},r),e.state={locale:b},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("resize",(function(){return e.calculateWindowHeight()}));var t=localStorage.getItem(X.f.Language);t&&v.includes(t)&&this.changeLanguage(t)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",null)}},{key:"render",value:function(){var e=this.state.locale;return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)("div",{className:"main-container",children:[Object(M.jsx)(z,{locale:e,changeLanguage:this.changeLanguage}),Object(M.jsx)(Nt,{locale:e})]}),Object(M.jsx)(k.b,{position:"bottom-right",autoClose:4e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!1,draggable:!0,pauseOnHover:!1})]})}}]),n}(a.Component),Ct=n(271),It=n(921),Lt={webex:{}},At=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ce:return Object(j.a)(Object(j.a)({},e),{},{webex:t.payload});default:return e}},Et={errors:[]},Ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ne:return Object(j.a)(Object(j.a)({},e),{},{errors:t.payload});case Re:return{errors:[]};default:return e}},Tt={personalDetails:{},isPersonalDetailsLoading:!1},Vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le:return Object(j.a)(Object(j.a)({},e),{},{isPersonalDetailsLoading:t.payload});case Ie:return Object(j.a)(Object(j.a)({},e),{},{personalDetails:t.payload});default:return e}},Dt={audio:{},video:{},schedulingOptions:{},sites:[],personalRoom:{},isMeetingPreferencesLoading:!1},Pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ee:return Object(j.a)(Object(j.a)({},e),{},{isMeetingPreferencesLoading:t.payload});case Ae:var n=t.payload,r=n.audio,i=n.video,a=n.schedulingOptions,o=n.sites,s=n.personalMeetingRoom;return Object(j.a)(Object(j.a)({},e),{},{isMeetingPreferencesLoading:!1,audio:r,video:i,schedulingOptions:a,sites:o,personalRoom:s});default:return e}},Bt={meetings:[],isMeetingsLoading:!1,current_meeting:{},isMeetingLoading:!1},Ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Te:return Object(j.a)(Object(j.a)({},e),{},{isMeetingsLoading:t.payload});case He:return Object(j.a)(Object(j.a)({},e),{},{meetings:t.payload});case Ve:return Object(j.a)(Object(j.a)({},e),{},{meetings:e.meetings.filter((function(e){return e.id!==t.payload}))});case Pe:return Object(j.a)(Object(j.a)({},e),{},{isMeetingLoading:t.payload});case De:return Object(j.a)(Object(j.a)({},e),{},{current_meeting:t.payload});default:return e}},zt={current_invitees:[],isInviteesLoading:!1},Ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe:return Object(j.a)(Object(j.a)({},e),{},{isInviteesLoading:t.payload});case Be:return Object(j.a)(Object(j.a)({},e),{},{current_invitees:t.payload});case ze:return Object(j.a)(Object(j.a)({},e),{},{current_invitees:[].concat(Object(mt.a)(e.current_invitees),[t.payload])});case Ue:return Object(j.a)(Object(j.a)({},e),{},{current_invitees:Object(mt.a)(e.current_invitees.filter((function(e){return e.id!==t.payload})))});default:return e}},Qt=Object(Ct.b)({errorsReducer:Ht,webexReducer:At,peopleReducer:Vt,meetingPreferencesReducer:Pt,meetingsReducer:Ft,inviteesReducer:Ut}),Gt=[It.a],Yt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ct.c,_t=Object(Ct.d)(Qt,{},Yt(Ct.a.apply(void 0,Gt)));c.a.render(Object(M.jsx)(o.a.StrictMode,{children:Object(M.jsx)(Se.a,{store:_t,children:Object(M.jsx)(rt.a,{children:Object(M.jsx)(Rt,{})})})}),document.getElementById("root"));var Jt=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(Jt,"px"))},51:function(e,t,n){"use strict";(function(e){n.d(t,"l",(function(){return p})),n.d(t,"k",(function(){return g})),n.d(t,"m",(function(){return f})),n.d(t,"p",(function(){return h})),n.d(t,"o",(function(){return b})),n.d(t,"s",(function(){return v})),n.d(t,"a",(function(){return j})),n.d(t,"n",(function(){return x})),n.d(t,"u",(function(){return y})),n.d(t,"d",(function(){return w})),n.d(t,"j",(function(){return k})),n.d(t,"i",(function(){return S})),n.d(t,"e",(function(){return N})),n.d(t,"b",(function(){return I})),n.d(t,"t",(function(){return L})),n.d(t,"q",(function(){return A})),n.d(t,"f",(function(){return E})),n.d(t,"c",(function(){return T})),n.d(t,"r",(function(){return V})),n.d(t,"h",(function(){return D})),n.d(t,"g",(function(){return P}));var r=n(157),i=n(8),a=n.n(i),o=n(12),s=n(916),c=n.n(s),l=n(156),u=n(572),d=n.n(u),m=n(10),p=function(){var e=Object(o.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.info("-> Executing webexInit"),e.prev=1,e.next=4,c.a.init({config:{meetings:{reconnection:{enabled:!0}}},credentials:{access_token:t}});case 4:return n=e.sent,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(1),console.error("~ Error in webexInitAsync(): ",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){return"Bearer ".concat(l.c)},f=function(t,n){console.log("-> Executing issueGuestToken");var r={sub:t,name:n,iss:l.a};return d.a.sign(r,e.from(l.b,"base64"),{expiresIn:"48h"})},h=function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("-> Executing registerGuestAsync"),!t){e.next=15;break}return e.prev=2,e.next=5,fetch("https://webexapis.com/v1/jwt/login",{method:"POST",headers:{Authorization:"Bearer ".concat(t)}});case 5:return n=e.sent,e.next=8,n.json();case 8:return r=e.sent,e.abrupt("return",r.token);case 12:return e.prev=12,e.t0=e.catch(2),e.abrupt("return");case 15:return e.abrupt("return");case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(o.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.info("-> Executing registerAsync"),t.meetings.registered){e.next=12;break}return e.prev=2,e.next=5,t.meetings.register();case 5:return e.next=7,t.meetings.syncMeetings();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("~ Error in register(): ",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(o.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.info("-> Executing unregisterAsync"),e.prev=1,!t.meetings.registered){e.next=5;break}return e.next=5,t.meetings.unregister();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error("~ Error in unregisterAsync(): ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(o.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.info("-> Executing createMeetingAsync"),e.prev=1,e.next=4,t.meetings.create(n);case 4:return r=e.sent,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(1),console.error("~ Error in unregisterAsync(): ",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}(),x=function(){var e=Object(o.a)(a.a.mark((function e(t,n){var r,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>2&&void 0!==i[2]?i[2]:m.j.Low,console.info("-> Executing joinMeeting"),e.prev=2,!n){e.next=8;break}return e.next=6,t.join({moderator:!1,pin:n});case 6:e.next=10;break;case 8:return e.next=10,t.join();case 10:return e.abrupt("return",O(t,r));case 13:e.prev=13,e.t0=e.catch(2),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,n){return e.apply(this,arguments)}}(),O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.j.Low;return e.getSupportedDevices({sendAudio:!0,sendVideo:!0}).then((function(n){var i=n.sendAudio,a={receiveVideo:!0,receiveAudio:!0,receiveShare:!0,sendShare:!1,sendVideo:n.sendVideo,sendAudio:i};e.getMediaStreams(a).then((function(n){var i=Object(r.a)(n,2),o=i[0],s=i[1];e.addMedia({localShare:s,localStream:o,mediaSettings:a}).then((function(){e.setLocalVideoQuality(t).then((function(){e.muteVideo()}))}))}))}))},y=function(e){return new Promise((function(t,n){if(e.canUpdateMedia())t();else{console.info("SHARE-SCREEN: Unable to update media, pausing to retry...");var r=0,i=setInterval((function(){r+=1,console.info("SHARE-SCREEN: Retry update media check"),e.canUpdateMedia()?(console.info("SHARE-SCREEN: Able to update media, continuing"),clearInterval(i),t()):r>15&&(console.error("SHARE-SCREEN: Unable to share screen, media was not able to update."),clearInterval(i),n())}),7e3)}}))},w=function(){var e=Object(o.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.info("-> Executing createRoomAsync"),e.prev=1,e.next=4,t.rooms.create({title:n});case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return");case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}(),M=function(){var e=Object(o.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.rooms.list();case 3:return n=e.sent,e.abrupt("return",n.items);case 7:return e.prev=7,e.t0=e.catch(0),console.log("Unable to get rooms: ",e.t0),e.abrupt("return");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(o.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(t);case 2:if(!(r=e.sent)){e.next=5;break}return e.abrupt("return",r.filter((function(e){return e.title===n}))[0]);case 5:return e.abrupt("return");case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),S=function(){var e=Object(o.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.rooms.get(n);case 3:if(!(r=e.sent)){e.next=6;break}return e.abrupt("return",r);case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),N=function(){var e=Object(o.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.memberships.list({roomId:n});case 2:return r=e.sent,e.abrupt("return",r.items);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),R=function(){var e=Object(o.a)(a.a.mark((function e(t,n,r){var i,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.memberships.list({roomId:n});case 2:return i=e.sent,o=i.items.filter((function(e){return e.personId===r}))[0],e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),C=function(){var e=Object(o.a)(a.a.mark((function e(t,n,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(t,n,r);case 2:if(!e.sent){e.next=5;break}return e.abrupt("return",!0);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),I=function(){var e=Object(o.a)(a.a.mark((function e(t,n,r){var i,o=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=o.length>3&&void 0!==o[3]&&o[3],e.prev=1,e.next=4,C(t,n,r);case 4:if(!1!==e.sent){e.next=9;break}return e.next=8,t.memberships.create({roomId:n,personId:r,isModerator:i});case 8:return e.abrupt("return",e.sent);case 9:return e.abrupt("return");case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return");case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,n,r){return e.apply(this,arguments)}}(),L=function(){var e=Object(o.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.memberships.update(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),A=function(){var e=Object(o.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.memberships.remove(n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),E=function(){var e=Object(o.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(t,n,1e3);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),H=function(){var e=Object(o.a)(a.a.mark((function e(t,n){var r,i,o=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:1e3,e.next=3,t.messages.list({roomId:n,max:r});case 3:if((i=e.sent.items).length!==r){e.next=8;break}return e.abrupt("return",H(t,n,r+1e3));case 8:return e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T=function(){var e=Object(o.a)(a.a.mark((function e(t,n,r){var i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.messages.create({roomId:n,text:r});case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),V=function(){var e=Object(o.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.messages.remove(n);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),D=function(){var e=Object(o.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.people.get(n);case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),P=function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("-> Executing getGuestDetails"),!t){e.next=15;break}return e.prev=2,e.next=5,fetch("https://webexapis.com/v1/people/me",{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 5:return n=e.sent,e.next=8,n.json();case 8:return r=e.sent,e.abrupt("return",r);case 12:return e.prev=12,e.t0=e.catch(2),e.abrupt("return");case 15:return e.abrupt("return");case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}()}).call(this,n(21).Buffer)},547:function(e,t){},932:function(e,t,n){},934:function(e,t,n){},935:function(e,t,n){},938:function(e,t,n){},944:function(e,t,n){}},[[1960,1,2]]]);
//# sourceMappingURL=main.f057a2fc.chunk.js.map